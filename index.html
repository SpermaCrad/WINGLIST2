<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Opening Roulette</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Mobile container */
        @media (max-width: 768px) {
            .container {
                padding: 10px 5px;
            }
            
            .cases-title {
                font-size: 20px !important;
                margin-bottom: 15px !important;
                margin-top: 10px !important;
                letter-spacing: 1px !important;
            }
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .header h1 {
            flex-grow: 1;
            text-align: center;
            margin: 0;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            border: 4px solid #ffd700;
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }



        .avatar-upload-input {
            display: none;
        }

        /* Mobile profile optimizations */
        @media (max-width: 768px) {
            .profile-avatar {
                width: 65px;
                height: 65px;
                font-size: 26px;
                border: 4px solid #ffd700;
            }
            
            .profile-section {
                gap: 15px !important;
                justify-content: center !important; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø—Ä–æ—Ñ–∏–ª—å */
            }
            
            .currency {
                font-size: 26px !important;
            }
            
            .profile-section button {
                padding: 12px 24px !important;
                font-size: 16px !important;
            }
            
            #debtStatus {
                font-size: 13px !important;
            }
            
            .header {
                margin-bottom: 15px !important;
                margin-top: 10px !important; /* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –±—ã–ª–æ –î–û —Å–æ—Ü—Å–µ—Ç–µ–π */
                padding: 0 10px;
                justify-content: center !important; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –≤–µ—Å—å header */
                flex-direction: column !important; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ */
                align-items: center !important;
                gap: 10px !important;
            }
            
            .header h1 {
                font-size: 20px !important;
                margin: 0 !important;
                order: 2; /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤—Ç–æ—Ä—ã–º */
            }
            
            .header .profile-section {
                order: 1; /* –ü—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–≤—ã–º */
                margin-bottom: 0 !important;
            }
        }

        .currency {
            font-size: 32px;
            font-weight: bold;
            color: #ffd700;
        }

        #balance {
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .currency::after {
            content: ' ÍôÆ';
        }

        .winglist-section {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            min-width: 240px;
            max-width: 280px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .winglist-section {
                position: relative; /* –ò–∑–º–µ–Ω—è–µ–º —Å absolute –Ω–∞ relative */
                top: auto;
                left: auto;
                margin: 10px auto 20px auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏ –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã */
                padding: 8px 10px;
                min-width: 280px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
                max-width: 320px;
                border-radius: 10px;
            }
            
            .winglist-title {
                font-size: 14px !important;
                margin-bottom: 5px !important;
            }
            
            .winglist-subtitle {
                font-size: 10px !important;
                margin-bottom: 8px !important;
            }
            
            .winglist-item {
                padding: 3px !important;
                margin: 2px 0 !important;
                font-size: 9px !important;
            }
            
            .winglist-toggle {
                padding: 3px 6px !important;
                font-size: 10px !important;
                margin-top: 5px !important;
            }
            
            .winglist-items {
                max-height: 60px !important;
            }
            
            .winglist-items.expanded {
                max-height: 150px !important;
            }
        }

        .winglist-title {
            font-size: 22px;
            font-weight: bold;
            color: #ffd700;
            text-align: center;
            margin-bottom: 12px;
        }

        .winglist-subtitle {
            font-size: 15px;
            color: #fff;
            text-align: center;
            margin-bottom: 18px;
        }

        .winglist-items {
            max-height: 140px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .winglist-items.expanded {
            max-height: 350px;
            overflow-y: auto;
        }

        .winglist-toggle {
            text-align: center;
            margin-top: 12px;
            padding: 6px 12px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            cursor: pointer;
            font-size: 13px;
            color: #ffd700;
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.2s ease;
            user-select: none;
        }

        .winglist-toggle:hover {
            background: rgba(255, 215, 0, 0.3);
            transform: translateY(-1px);
        }

        .winglist-item {
            padding: 8px;
            margin: 4px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            font-size: 12px;
            opacity: 1;
            transition: opacity 0.2s ease;
        }

        .winglist-item.hidden {
            display: none;
        }

        /* üåê –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–ï–¢–ò */
        .social-links {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 60px;
            padding: 5px 0;
            margin-top: -140px;
        }
        
        .social-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            text-decoration: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .social-icon:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .social-icon.youtube:hover {
            background: #ff0000;
            border-color: #ff0000;
            box-shadow: 0 8px 25px rgba(255, 0, 0, 0.5);
        }
        
        .social-icon.telegram:hover {
            background: #0088cc;
            border-color: #0088cc;
            box-shadow: 0 8px 25px rgba(0, 136, 204, 0.5);
        }
        
        .social-icon.discord:hover {
            background: #5865F2;
            border-color: #5865F2;
            box-shadow: 0 8px 25px rgba(88, 101, 242, 0.5);
        }
        
        .social-icon.boosty:hover {
            background: #F15F2C;
            border-color: #F15F2C;
            box-shadow: 0 8px 25px rgba(241, 95, 44, 0.5);
        }
        
        .social-icon svg {
            width: 24px;
            height: 24px;
            transition: transform 0.3s ease;
        }
        
        .social-icon:hover svg {
            transform: scale(1.1);
        }

        .promo-section {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
            margin-left: 0; /* –£–±–∏—Ä–∞–µ–º —Å–¥–≤–∏–≥ - —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø—Ä–æ–º–æ-–±–ª–æ–∫ */
        }

        /* Mobile social links - –°–ö–†–´–¢–´ –ù–ê –ú–û–ë–ò–õ–¨–ù–´–• */
        @media (max-width: 768px) {
            .social-links {
                display: none !important; /* –ü–û–õ–ù–û–°–¢–¨–Æ –°–ö–†–´–í–ê–ï–ú –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
        }

        /* üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø */
        @media (max-width: 768px) {
            #health-warning {
                position: relative !important;
                top: auto !important;
                right: auto !important;
                left: auto !important;
                margin: 10px auto 15px auto;
                max-width: 300px;
                width: 90vw;
                padding: 12px;
                border-radius: 10px;
                z-index: 1001 !important;
            }
            
            #health-warning div {
                font-size: 10px !important;
                margin-bottom: 8px !important;
                line-height: 1.3 !important;
            }
            
            #health-warning button {
                padding: 8px 16px !important;
                font-size: 12px !important;
            }
        }
        
        /* üñ•Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–û–ó–ò–¶–ò–ò –ù–ê –ö–û–ú–ü–¨–Æ–¢–ï–†–ï */
        @media (min-width: 769px) {
            #health-warning {
                position: fixed !important;
                top: 100px !important;
                right: 20px !important;
                z-index: 999 !important;
            }
        }

        /* Mobile promo section */
        @media (max-width: 768px) {
            .promo-section {
                flex-direction: column;
                gap: 8px;
                margin-bottom: 15px;
                padding: 0 10px;
                margin-left: 0; /* –£–±–∏—Ä–∞–µ–º —Å–¥–≤–∏–≥ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                margin-top: 60px; /* –û–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–º–æ-–±–ª–æ–∫ –Ω–∞ 60px –≤–Ω–∏–∑ (–±—ã–ª–æ 40px) */
            }
            
            .promo-frame {
                padding: 8px 16px;
                min-width: 100px;
                transform: translateY(50px);
            }
            
            .promo-frame h2 {
                font-size: 14px;
            }
            
            .promo-code-frame {
                padding: 8px 16px;
                min-width: 100px;
            }
            
            .promo-code-title {
                font-size: 12px;
            }
            
            .promo-code {
                font-size: 16px;
            }
            
            .countdown-timer {
                font-size: 14px;
                padding: 6px 12px;
            }
        }

        .promo-frame {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border-radius: 15px;
            padding: 12px 24px;
            text-align: center;
            border: 2px solid #ffd700;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
            display: inline-block;
            width: fit-content;
            min-width: 140px;
            transform: translateY(-12px) translateX(5px);
        }

        .promo-frame h2 {
            font-size: 16px;
            font-weight: bold;
            color: white;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            white-space: nowrap;
            letter-spacing: 0.5px;
            line-height: 1.2;
        }

        .promo-code-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .promo-code-frame {
            background: linear-gradient(145deg, #27ae60, #229954);
            border-radius: 15px;
            padding: 12px 24px;
            text-align: center;
            border: 2px solid #2ecc71;
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.3);
            width: fit-content;
            margin: 0 auto;
            min-width: 140px;
        }

        .promo-code-title {
            font-size: 14px;
            color: #fff;
            margin-bottom: 2px;
            text-align: center;
            line-height: 1.2;
        }

        .promo-code {
            font-size: 18px;
            font-weight: bold;
            color: white;
            margin: 0;
            letter-spacing: 1px;
        }

        .countdown-timer {
            font-size: 18px;
            font-weight: bold;
            color: #e74c3c;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 10px;
            border: 1px solid #e74c3c;
        }

        .cases-title {
            text-align: center;
            font-size: 28px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 30px;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        /* üõ†Ô∏è –°–¢–ò–õ–ò –î–õ–Ø –†–ï–ñ–ò–ú–ê –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê */
        .dev-mode-banner {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            border: 3px solid #ffd700;
            border-radius: 15px;
            padding: 15px 20px;
            margin: 20px auto;
            max-width: 500px;
            text-align: center;
            animation: devModeGlow 2s ease-in-out infinite;
            box-shadow: 0 5px 20px rgba(142, 68, 173, 0.4);
            position: relative;
        }
        
        .dev-mode-banner h3 {
            color: #ffd700;
            font-size: 18px;
            margin: 0 0 8px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .dev-mode-banner p {
            color: #fff;
            font-size: 14px;
            margin: 0 0 15px 0;
            line-height: 1.3;
        }
        
        .dev-mode-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
        }
        
        .dev-btn {
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .dev-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }
        
        .dev-btn.balance {
            background: linear-gradient(145deg, #27ae60, #229954);
        }
        
        .dev-btn.reset {
            background: linear-gradient(145deg, #f39c12, #d68910);
        }
        
        @keyframes devModeGlow {
            0%, 100% { 
                box-shadow: 0 5px 20px rgba(142, 68, 173, 0.4);
            }
            50% { 
                box-shadow: 0 8px 30px rgba(142, 68, 173, 0.7), 0 0 40px rgba(255, 215, 0, 0.3);
            }
        }
        
        /* üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø –†–ï–ñ–ò–ú–ê –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê */
        @media (max-width: 768px) {
            .dev-mode-banner {
                margin: 15px auto;
                padding: 12px 15px;
                max-width: 320px;
            }
            
            .dev-mode-banner h3 {
                font-size: 16px;
                margin-bottom: 6px;
            }
            
            .dev-mode-banner p {
                font-size: 12px;
                margin-bottom: 12px;
            }
            
            .dev-btn {
                padding: 6px 12px;
                font-size: 11px;
            }
        }
        
        /* üö´ –°–¢–ò–õ–ò –î–õ–Ø –ó–ê–ö–†–´–í–ê–ï–ú–û–ì–û –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –ë–ê–ì–ê–• */
        .bug-warning-banner {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: 2px solid #fff;
            border-radius: 12px;
            padding: 12px 40px 12px 20px;
            margin: 0 auto 20px auto;
            max-width: 450px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            animation: warningPulse 3s ease-in-out infinite;
            position: relative;
        }
        
        .bug-warning-banner .close-btn {
            position: absolute;
            top: 8px;
            right: 12px;
            background: none;
            border: none;
            color: #fff;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .bug-warning-banner .close-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.1);
        }

        .cases-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Mobile fast spin button */
        @media (max-width: 768px) {
            #fast-spin-btn {
                top: 8px !important;
                right: 8px !important;
                font-size: 12px !important;
                width: 30px !important;
                height: 30px !important;
                border-radius: 50% !important;
            }
        }

        /* Mobile cases grid */
        @media (max-width: 768px) {
            .cases-section {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
                gap: 10px;
                margin-bottom: 20px;
                padding: 0 10px;
            }
            
            .case {
                padding: 15px;
                min-height: 140px;
            }
            
            .case-image {
                width: 100px;
                height: 70px;
                margin-bottom: 10px;
            }
            
            .case-name {
                font-size: 14px;
                margin-bottom: 6px;
            }
            
            .case-price {
                font-size: 14px;
                padding: 6px 12px;
            }
        }

        .case {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 2px solid #e74c3c;
            position: relative;
            overflow: hidden;
            min-height: 180px;
        }

        .case.hidden {
            display: none;
        }

        .case:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
            border-color: #c0392b;
        }
        
        /* üí° –°–¢–ò–õ–ò –î–õ–Ø –í–°–ü–õ–´–í–ê–Æ–©–ò–• –ü–û–î–°–ö–ê–ó–û–ö –ö–ï–ô–°–û–í */
        .case-tooltip {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border: 2px solid #e74c3c;
            border-radius: 12px;
            padding: 15px;
            color: white;
            font-size: 12px;
            white-space: nowrap;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease, transform 0.3s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.6);
            min-width: 200px;
            text-align: center;
        }
        
        .case:hover .case-tooltip {
            opacity: 1;
            transform: translateX(-50%) translateY(-100%) translateY(-5px);
        }
        
        .case-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -8px;
            width: 0;
            height: 0;
            border-top: 8px solid #e74c3c;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
        }
        
        /* üì± –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û–î–°–ö–ê–ó–û–ö */
        @media (max-width: 768px) {
            .case-tooltip {
                font-size: 10px;
                padding: 10px;
                min-width: 160px;
                line-height: 1.3;
            }
            
            .case-tooltip::after {
                border-top: 6px solid #e74c3c;
                border-left: 6px solid transparent;
                border-right: 6px solid transparent;
                margin-left: -6px;
            }
        }

        .case.disabled {
            opacity: 0.6;
            cursor: pointer;
        }

        .case-image {
            width: 140px;
            height: 100px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            border-radius: 10px;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background-size: cover;
            background-position: center center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–¥–µ–∞–ª—å–Ω–æ */
            transition: background-image 0.3s ease;
            border: 1px solid #34495e;
        }

        .case-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
            color: #ecf0f1;
        }

        .case-price {
            color: #f39c12;
            font-size: 18px;
            font-weight: bold;
            background: rgba(52, 73, 94, 0.8);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        .roulette-section {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
        }

        .roulette-section.active {
            display: flex;
        }

        .roulette-modal {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            position: relative;
            border: 3px solid #e74c3c;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .case.shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
            20%, 40%, 60%, 80% { transform: translateX(3px); }
        }

        .roulette-result {
            text-align: center;
            margin-top: 30px;
            display: none;
        }

        .roulette-result.show {
            display: block;
        }

        .result-item-image {
            width: 150px;
            height: 150px;
            margin: 0 auto 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            background-size: cover;
            background-position: center;
            transform: scale(1);
            transition: transform 0.5s ease;
        }

        .result-item-image.animate {
            transform: scale(1.2);
        }

        .roulette-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .roulette-container {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
            border-radius: 15px;
            background: linear-gradient(90deg, #2c3e50, #34495e);
            margin-bottom: 20px;
        }

        .roulette-strip {
            display: flex;
            height: 100%;
            transition: none; /* –£–±–∏—Ä–∞–µ–º –±–∞–∑–æ–≤—É—é –∞–Ω–∏–º–∞—Ü–∏—é, –±—É–¥–µ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ */
        }

        .roulette-item {
            min-width: 150px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-right: 2px solid #2c3e50;
            padding: 10px;
            position: relative;
            flex-shrink: 0;
        }

        .roulette-item.loss { background: linear-gradient(145deg, #e74c3c, #c0392b); }      /* üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ */
        .roulette-item.breakeven { background: linear-gradient(145deg, #f1c40f, #f39c12); } /* üü° –û–∫—É–ø–∞–µ–º—ã–µ */
        .roulette-item.profit { background: linear-gradient(145deg, #27ae60, #229954); }   /* üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ */
        .roulette-item.jackpot { background: linear-gradient(145deg, #8e44ad, #732d91); }  /* üíé –î–∂–µ–∫–ø–æ—Ç—ã */
        
        /* –°—Ç–∞—Ä—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ */
        .roulette-item.common { background: linear-gradient(145deg, #e74c3c, #c0392b); }
        .roulette-item.rare { background: linear-gradient(145deg, #f1c40f, #f39c12); }
        .roulette-item.epic { background: linear-gradient(145deg, #27ae60, #229954); }
        .roulette-item.legendary { background: linear-gradient(145deg, #8e44ad, #732d91); }

        .roulette-pointer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 4px;
            height: 180px;
            background: #e74c3c;
            z-index: 10;
            border-radius: 2px;
        }

        .roulette-pointer::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 15px solid #e74c3c;
        }

        .item-result {
            text-align: center;
            display: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
        }

        .item-result.show {
            display: block;
        }

        .item-image {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            background-size: cover;
            background-position: center;
        }

        .item-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .item-value {
            font-size: 18px;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .btn-primary {
            background: linear-gradient(145deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(145deg, #27ae60, #229954);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(145deg, #f39c12, #d68910);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .inventory {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        /* Mobile inventory */
        @media (max-width: 768px) {
            .inventory {
                padding: 15px 10px;
                margin-top: 15px;
                border-radius: 10px;
            }
            
            .inventory h3 {
                font-size: 18px;
                margin-bottom: 10px;
            }
            
            .inventory-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                gap: 10px;
            }
            
            .inventory-item {
                padding: 10px;
                font-size: 10px;
                min-height: 100px;
            }
            
            .inventory-item-icon {
                width: 50px !important;
                height: 50px !important;
                font-size: 20px !important;
                margin-bottom: 6px !important;
            }
        }

        .inventory h3 {
            margin-bottom: 15px;
            text-align: center;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
        }

        .inventory-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            font-size: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 120px;
        }

        .inventory-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .item-menu-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 10000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
        }

        .item-menu-modal.active {
            display: flex;
        }

        .item-menu-container {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 100%;
            position: relative;
            border: 3px solid #e74c3c;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        .item-menu-image {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            background-size: cover;
            background-position: center;
        }

        .item-menu-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .profile-menu-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            z-index: 10001;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
        }

        .profile-menu-modal.active {
            display: flex;
        }

        .profile-menu-container {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            position: relative;
            border: 3px solid #e74c3c;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        .profile-menu-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            border: 3px solid #ffd700;
            background-size: cover;
            background-position: center;
            margin: 0 auto 20px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .profile-menu-avatar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .profile-menu-avatar::after {
            content: 'üì∑';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2;
            pointer-events: none;
        }

        .profile-menu-avatar:hover::before {
            opacity: 1;
        }

        .profile-menu-avatar:hover::after {
            opacity: 1;
        }

        .profile-menu-avatar:hover {
            transform: scale(1.05);
        }

        .profile-input-group {
            margin: 20px 0;
            text-align: left;
        }

        .profile-input-group label {
            display: block;
            color: white;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .profile-input-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #34495e;
            border-radius: 8px;
            background: #2c3e50;
            color: white;
            font-size: 16px;
            box-sizing: border-box;
        }

        .profile-input-group input:focus {
            outline: none;
            border-color: #e74c3c;
        }

        .promocode-input-container {
            position: relative;
            width: 100%;
        }

        .promocode-input-container input {
            padding-right: 50px !important;
        }

        .promocode-submit-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: #f39c12;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 16px;
            transition: all 0.2s ease;
        }

        .promocode-submit-btn:hover {
            background: #d68910;
            transform: translateY(-50%) scale(1.1);
        }

        .promocode-submit-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        .profile-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }



        .inventory-item-icon {
            width: 40px;
            height: 40px;
            margin: 0 auto 5px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            background-size: cover;
            background-position: center;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .spinning {
            animation: spin 0.5s linear infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes jumpscareShake {
            0%, 100% { 
                transform: translate(-50%, -50%) translate(0, 0) rotate(0deg) !important; 
            }
            5% { 
                transform: translate(-50%, -50%) translate(-12px, -8px) rotate(-3deg) !important; 
            }
            10% { 
                transform: translate(-50%, -50%) translate(10px, -12px) rotate(2deg) !important; 
            }
            15% { 
                transform: translate(-50%, -50%) translate(-8px, 10px) rotate(-2deg) !important; 
            }
            20% { 
                transform: translate(-50%, -50%) translate(14px, 8px) rotate(3deg) !important; 
            }
            25% { 
                transform: translate(-50%, -50%) translate(-10px, -6px) rotate(-1deg) !important; 
            }
            30% { 
                transform: translate(-50%, -50%) translate(8px, -14px) rotate(2deg) !important; 
            }
            35% { 
                transform: translate(-50%, -50%) translate(-14px, 12px) rotate(-3deg) !important; 
            }
            40% { 
                transform: translate(-50%, -50%) translate(12px, 6px) rotate(2deg) !important; 
            }
            45% { 
                transform: translate(-50%, -50%) translate(-6px, -10px) rotate(-1deg) !important; 
            }
            50% { 
                transform: translate(-50%, -50%) translate(16px, -8px) rotate(3deg) !important; 
            }
            55% { 
                transform: translate(-50%, -50%) translate(-12px, 14px) rotate(-2deg) !important; 
            }
            60% { 
                transform: translate(-50%, -50%) translate(8px, -6px) rotate(1deg) !important; 
            }
            65% { 
                transform: translate(-50%, -50%) translate(-16px, 10px) rotate(-3deg) !important; 
            }
            70% { 
                transform: translate(-50%, -50%) translate(14px, -12px) rotate(2deg) !important; 
            }
            75% { 
                transform: translate(-50%, -50%) translate(-8px, 8px) rotate(-1deg) !important; 
            }
            80% { 
                transform: translate(-50%, -50%) translate(10px, -14px) rotate(2deg) !important; 
            }
            85% { 
                transform: translate(-50%, -50%) translate(-14px, 6px) rotate(-2deg) !important; 
            }
            90% { 
                transform: translate(-50%, -50%) translate(12px, -10px) rotate(1deg) !important; 
            }
            95% { 
                transform: translate(-50%, -50%) translate(-6px, 12px) rotate(-1deg) !important; 
            }
        }

        .roulette-title {
            text-align: center;
            font-size: 24px;
            margin-bottom: 20px;
            color: #ffd700;
        }
        
        @keyframes bannerPulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 5px 20px rgba(231, 76, 60, 0.4);
            }
            50% { 
                transform: scale(1.02);
                box-shadow: 0 8px 30px rgba(231, 76, 60, 0.7);
            }
        }
        
        @keyframes warningPulse {
            0%, 100% { 
                box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
                border-color: #fff;
            }
            50% { 
                box-shadow: 0 6px 25px rgba(231, 76, 60, 0.6);
                border-color: #ffd700;
            }
        }
    </style>
</head>
<body>
    <div class="winglist-section">
        <div class="winglist-title">WINGLIST</div>
        <div class="winglist-subtitle">–£ –Ω–∞—Å –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç!</div>
        <div class="winglist-items" id="winglist-items"></div>
        <div class="winglist-toggle" id="winglist-toggle" onclick="toggleWinglist()" style="display: none;">
            –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ ‚ñº
        </div>
    </div>

    <!-- ‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï –û –ó–î–û–†–û–í–¨–ï -->
    <div id="health-warning" style="
        position: fixed;
        top: 180px;
        right: 20px;
        background: linear-gradient(135deg, #e74c3c, #c0392b);
        border: 2px solid #fff;
        border-radius: 12px;
        padding: 15px;
        max-width: 260px;
        z-index: 999;
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
        animation: warningPulse 3s ease-in-out infinite;
        display: none;
    ">
        <div style="
            color: #fff;
            font-size: 12px;
            font-weight: bold;
            line-height: 1.4;
            text-align: center;
            margin-bottom: 12px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        ">
            ‚ö†Ô∏è <span style="color: #ffeb3b;">–í–ù–ò–ú–ê–ù–ò–ï</span> ‚ö†Ô∏è<br>
            –ú—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ—Å—É–∂–¥–∞–µ–º –∞–ª–∫–æ–≥–æ–ª—å/–∫—É—Ä–µ–Ω–∏–µ/—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤!<br>
            <span style="color: #ffd700;">–°–∞–π—Ç —Å–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö!</span>
        </div>
        <button onclick="closeHealthWarning()" style="
            background: #fff;
            color: #e74c3c;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            üëç –ü–æ–Ω—è—Ç–Ω–æ!
        </button>
    </div>

    <div class="container">
        <header class="header">
            <div></div>
            <div></div>
            <div class="profile-section">
                <div class="profile-avatar" id="profileAvatar" onclick="handleAvatarClick()">üë§</div>
                <input type="file" class="avatar-upload-input" id="avatarUploadInput" accept="image/*" onchange="handleAvatarUpload(event)">
                <div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
                    <div class="currency">–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></div>
                    <button id="debtButton" onclick="takeDebt()" style="
                        background: linear-gradient(145deg, #e74c3c, #c0392b);
                        color: white;
                        border: none;
                        padding: 10px 18px;
                        border-radius: 8px;
                        font-size: 16px;
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
                        white-space: nowrap;
                    " onmouseover="this.style.transform='translateY(-1px)'" onmouseout="this.style.transform='translateY(0)'">
                        üí∞ –í–∑—è—Ç—å –≥–æ—Å–¥–æ–ª–≥
                    </button>
                    <div id="debtStatus" style="
                        font-size: 12px;
                        color: #ff6b6b;
                        text-align: center;
                        display: none;
                        line-height: 1.2;
                    "></div>
                </div>
            </div>
        </header>

        <!-- üåê –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–ï–¢–ò -->
        <div class="social-links">
            <a href="https://www.youtube.com/@Iva_Studio" target="_blank" class="social-icon youtube" title="YouTube">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
            </a>
            <a href="https://t.me/rm-WHXGnzr04ZDky" target="_blank" class="social-icon telegram" title="Telegram">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                </svg>
            </a>
            <a href="https://discord.gg/79xqaYPaTE" target="_blank" class="social-icon discord" title="Discord">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0189 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"/>
                </svg>
            </a>
            <a href="https://boosty.to/iva_studio" target="_blank" class="social-icon boosty" title="Boosty">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
                </svg>
            </a>
        </div>

        <div class="promo-section">
            <div class="promo-frame">
                <h2>+30% –ù–ê –°–ß–Å–¢</h2>
            </div>
            <div class="promo-code-section">
                <div class="promo-code-title">–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–º–æ–∫–æ–¥!</div>
                <div class="promo-code-frame">
                    <div class="promo-code">GLISTOK</div>
                </div>
                <div class="countdown-timer" id="countdownTimer">03:25:00</div>
            </div>
        </div>

        <!-- üö´ –ë–ê–ù–ù–ï–† –ë–õ–û–ö–ò–†–û–í–ö–ò –ö–ï–ô–°–û–í -->
        <div id="blockBanner" style="
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: 3px solid #fff;
            border-radius: 15px;
            padding: 20px;
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
            display: none;
            animation: bannerPulse 2s ease-in-out infinite;
            box-shadow: 0 5px 20px rgba(231, 76, 60, 0.4);
        ">
            <h2 style="color: #fff; font-size: 24px; margin-bottom: 15px;">üö® –ë–õ–û–ö–ò–†–û–í–ö–ê –ê–ö–¢–ò–í–ù–ê üö®</h2>
            <p id="blockMessage" style="color: #fff; font-size: 18px; margin-bottom: 20px; line-height: 1.4;"></p>
            <button id="repentButton" onclick="repent()" style="
                background: linear-gradient(145deg, #27ae60, #229954);
                color: white;
                border: none;
                padding: 12px 25px;
                border-radius: 10px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                margin: 5px;
                transition: all 0.3s ease;
                display: none;
            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                üôè –ü–û–ö–ê–Ø–¢–¨–°–Ø
            </button>

        </div>

        <!-- üõ†Ô∏è –†–ï–ñ–ò–ú –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê -->
        <div id="dev-mode-banner" class="dev-mode-banner" style="display: none;">
            <h3>üõ†Ô∏è –†–ï–ñ–ò–ú –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê –ê–ö–¢–ò–í–ò–†–û–í–ê–ù! üõ†Ô∏è</h3>
            <p>–î–æ—Å—Ç—É–ø–Ω—ã —á–∏—Ç–µ—Ä—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
            <div class="dev-mode-controls">
                <button class="dev-btn balance" onclick="devAddBalance()">üí∞ +1000 ÍôÆ</button>
                <button class="dev-btn balance" onclick="devSetBalance()">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
                <button class="dev-btn reset" onclick="devResetPromocodes()">üîÑ –°–±—Ä–æ—Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤</button>
                <button class="dev-btn reset" onclick="devResetRating()">üìà –°–±—Ä–æ—Å —Ä–µ–π—Ç–∏–Ω–≥–∞</button>
                <button class="dev-btn reset" onclick="devResetDropHistory()">üö´ –°–±—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏ –¥—Ä–æ–ø–æ–≤</button>
                <button class="dev-btn reset" onclick="devResetAll()">üóëÔ∏è –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å</button>
            </div>
        </div>

        <div class="cases-title">–°–ï–†–ò–ô–ù–´–ï –ö–ï–ô–°–´</div>
        
        <!-- üö´ –ó–ê–ö–†–´–í–ê–ï–ú–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï –û –ë–ê–ì–ê–• -->
        <div id="bug-warning-banner" class="bug-warning-banner">
            <button class="close-btn" onclick="closeBugWarning()" title="–ó–∞–∫—Ä—ã—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞">‚úï</button>
            <div style="
                color: #fff;
                font-size: 14px;
                font-weight: bold;
                line-height: 1.3;
                text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
            ">
                ‚ö†Ô∏è –ú–æ–≥—É—Ç –±—ã—Ç—å –±–∞–≥–∏! –°–æ–æ–±—â–∏—Ç–µ –æ –±–∞–≥–µ –≤ –Ω–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º –∫–∞–Ω–∞–ª!
            </div>
        </div>
        

        <!-- üñ•Ô∏è –ü–û–î–°–ö–ê–ó–ö–ê –î–õ–Ø –ö–û–ú–ü–¨–Æ–¢–ï–†–ê -->
        <div style="
            text-align: center;
            color: #95a5a6;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.3;
        " id="desktop-hint">
            üí° <strong>–ö–ª–∏–∫</strong> - –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Ä¢ <strong>–ù–∞–≤–µ–¥–µ–Ω–∏–µ</strong> - —à–∞–Ω—Å—ã ‚Ä¢ <strong>–ü–ö–ú</strong> - –≤—Å–µ –¥—Ä–æ–ø—ã
        </div>
        
        <!-- üì± –ü–û–î–°–ö–ê–ó–ö–ê –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• -->
        <div style="
            text-align: center;
            color: #95a5a6;
            font-size: 12px;
            margin-bottom: 15px;
            line-height: 1.3;
            display: none;
        " id="mobile-hint">
            üì± <strong>–¢–∞–ø</strong> - –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å ‚Ä¢ <strong>–£–¥–µ—Ä–∂–∞–Ω–∏–µ</strong> - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä–æ–ø—ã
        </div>
        <div class="cases-section">
            <div class="case" data-case="1" data-price="120">
                <div class="case-image" data-case-num="1"></div>
                <div class="case-name">–•—É—é–Ω—Ç–∏–∫</div>
                <div class="case-price">120 ÍôÆ</div>
            </div>
            <div class="case" data-case="2" data-price="200">
                <div class="case-image" data-case-num="2"></div>
                <div class="case-name">–ö–∏–∑–∏–∫</div>
                <div class="case-price">200 ÍôÆ</div>
            </div>
            <div class="case" data-case="3" data-price="150">
                <div class="case-image" data-case-num="3"></div>
                <div class="case-name">–ñ–∞–ª–æ</div>
                <div class="case-price">150 ÍôÆ</div>
            </div>
            <div class="case" data-case="4" data-price="300">
                <div class="case-image" data-case-num="4"></div>
                <div class="case-name">–®–µ—Ä</div>
                <div class="case-price">300 ÍôÆ</div>
            </div>
            <div class="case" data-case="5" data-price="130">
                <div class="case-image" data-case-num="5"></div>
                <div class="case-name">–ì–ª–∏—Å—Ç</div>
                <div class="case-price">130 ÍôÆ</div>
            </div>
            <div class="case" data-case="6" data-price="100">
                <div class="case-image" data-case-num="6"></div>
                <div class="case-name">–ú–µ–æ—Ñ–µ–Ω</div>
                <div class="case-price">100 ÍôÆ</div>
            </div>
            <div class="case" data-case="7" data-price="250">
                <div class="case-image" data-case-num="7"></div>
                <div class="case-name">–ß–í–ö</div>
                <div class="case-price">250 ÍôÆ</div>
            </div>
            <div class="case" data-case="8" data-price="180">
                <div class="case-image" data-case-num="8"></div>
                <div class="case-name">–ë–µ—Ä–µ–≥</div>
                <div class="case-price">180 ÍôÆ</div>
            </div>
            <div class="case" data-case="9" data-price="220">
                <div class="case-image" data-case-num="9"></div>
                <div class="case-name">–ú–æ–ª–æ—Ç</div>
                <div class="case-price">220 ÍôÆ</div>
            </div>
            <div class="case" data-case="10" data-price="160">
                <div class="case-image" data-case-num="10"></div>
                <div class="case-name">–í–∏—Ö—Ä—å</div>
                <div class="case-price">160 ÍôÆ</div>
            </div>
            <div class="case" data-case="11" data-price="350">
                <div class="case-image" data-case-num="11"></div>
                <div class="case-name">–ü—Ä–∏–∑—Ä–∞–∫</div>
                <div class="case-price">350 ÍôÆ</div>
            </div>
            <div class="case" data-case="12" data-price="290">
                <div class="case-image" data-case-num="12"></div>
                <div class="case-name">–õ—ë–¥</div>
                <div class="case-price">290 ÍôÆ</div>
            </div>
            <div class="case" data-case="13" data-price="400">
                <div class="case-image" data-case-num="13"></div>
                <div class="case-name">–û–≥–æ–Ω—å</div>
                <div class="case-price">400 ÍôÆ</div>
            </div>
            <div class="case" data-case="14" data-price="320">
                <div class="case-image" data-case-num="14"></div>
                <div class="case-name">–¢–µ–Ω—å</div>
                <div class="case-price">320 ÍôÆ</div>
            </div>
            <div class="case" data-case="15" data-price="270">
                <div class="case-image" data-case-num="15"></div>
                <div class="case-name">–°–≤–µ—Ç</div>
                <div class="case-price">270 ÍôÆ</div>
            </div>
            <div class="case" data-case="16" data-price="500">
                <div class="case-image" data-case-num="16"></div>
                <div class="case-name">–•–∞–æ—Å</div>
                <div class="case-price">500 ÍôÆ</div>
            </div>
            <div class="case" data-case="17" data-price="450">
                <div class="case-image" data-case-num="17"></div>
                <div class="case-name">–ü–æ—Ä—è–¥–æ–∫</div>
                <div class="case-price">450 ÍôÆ</div>
            </div>
            <div class="case" data-case="18" data-price="380">
                <div class="case-image" data-case-num="18"></div>
                <div class="case-name">–í—Ä–µ–º—è</div>
                <div class="case-price">380 ÍôÆ</div>
            </div>
            <div class="case" data-case="19" data-price="600">
                <div class="case-image" data-case-num="19"></div>
                <div class="case-name">–ö–æ—Å–º–æ—Å</div>
                <div class="case-price">600 ÍôÆ</div>
            </div>
            <div class="case" data-case="20" data-price="750">
                <div class="case-image" data-case-num="20"></div>
                <div class="case-name">–í–µ—á–Ω–æ—Å—Ç—å</div>
                <div class="case-price">750 ÍôÆ</div>
            </div>
        </div>

        <div class="roulette-section" id="rouletteSection">
            <div class="roulette-modal">
                <div class="roulette-title">üé∞ –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å... üé∞</div>
                <div class="roulette-container">
                    <div class="roulette-strip" id="rouletteStrip"></div>
                    <div class="roulette-pointer"></div>
                    <button id="fast-spin-btn" onclick="fastSpin()" style="
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: linear-gradient(145deg, #4a5568, #2d3748);
                        color: white;
                        border: 2px solid rgba(255,255,255,0.2);
                        padding: 0;
                        border-radius: 50%;
                        font-size: 14px;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        z-index: 15;
                        box-shadow: 0 3px 15px rgba(0,0,0,0.4);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        width: 35px;
                        height: 35px;
                        backdrop-filter: blur(10px);
                    " onmouseover="this.style.transform='scale(1.1)'; this.style.borderColor='rgba(255,255,255,0.4)'" onmouseout="this.style.transform='scale(1)'; this.style.borderColor='rgba(255,255,255,0.2)'" title="–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞">
                        ‚ö°
                    </button>
                </div>
                <div class="roulette-result" id="rouletteResult">
                    <div class="result-item-image" id="resultItemImage"></div>
                    <div class="item-name" id="resultItemName"></div>
                    <div class="item-value" id="resultItemValue"></div>
                    <div class="roulette-buttons">
                        <button class="btn btn-success" onclick="keepItem()">–û—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                        <button class="btn btn-warning" onclick="sellItem()">–ü—Ä–æ–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="item-result" id="itemResult">
            <div class="item-image" id="itemImage"></div>
            <div class="item-name" id="itemName"></div>
            <div class="item-value" id="itemValue"></div>
            <div class="action-buttons">
                <button class="btn btn-success" onclick="keepItem()">–û—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                <button class="btn btn-warning" onclick="sellItem()">–ü—Ä–æ–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
            </div>
        </div>

        <div class="inventory">
            <h3>üéí –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
            <div class="inventory-grid" id="inventoryGrid">
                <div class="inventory-item">
                    <div class="inventory-item-icon" style="background: #95a5a6;">üîß</div>
                    <div>–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç</div>
                </div>
            </div>
        </div>

        <div class="item-menu-modal" id="itemMenuModal">
            <div class="item-menu-container">
                <div class="item-menu-image" id="itemMenuImage"></div>
                <div class="item-name" id="itemMenuName"></div>
                <div class="item-value" id="itemMenuValue"></div>
                <div class="item-menu-buttons">
                    <button class="btn btn-warning" onclick="sellItemFromMenu()">–ü—Ä–æ–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç</button>
                    <button class="btn btn-primary" onclick="closeItemMenu()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <div class="profile-menu-modal" id="profileMenuModal">
            <div class="profile-menu-container">
                <h3 style="color: #ffd700; margin-bottom: 20px;">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h3>
                <div class="profile-menu-avatar" id="profileMenuAvatar" onclick="openAvatarUpload()">üë§</div>
                
                <div class="profile-input-group">
                    <label for="nicknameInput">–ù–∏–∫–Ω–µ–π–º:</label>
                    <input type="text" id="nicknameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫–Ω–µ–π–º" maxlength="20">
                </div>
                

                
                <div class="profile-input-group">
                    <label for="promocodeInput">–ü—Ä–æ–º–æ–∫–æ–¥:</label>
                    <div class="promocode-input-container">
                        <input type="text" id="promocodeInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥" maxlength="20" style="text-transform: uppercase;" onkeydown="handlePromocodeKeydown(event)" onclick="handlePromocodeInputClick(event)">
                        <button class="promocode-submit-btn" onclick="activatePromocode()" title="–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥">‚Üí</button>
                    </div>
                    <div style="font-size: 12px; color: #95a5a6; margin-top: 5px;">
                        –í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞
                    </div>
                    <div id="promocodeMessage" style="font-size: 12px; margin-top: 5px; display: none;"></div>
                </div>
                
                <div class="profile-buttons">
                    <button class="btn btn-success" onclick="saveProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button class="btn btn-primary" onclick="closeProfileMenu()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>

        <div class="profile-menu-modal" id="noDropsModal">
            <div class="profile-menu-container">
                <h3 style="color: #e74c3c; margin-bottom: 20px;">‚ö†Ô∏è –ù–µ—Ç –¥—Ä–æ–ø–æ–≤!</h3>
                <p style="color: white; font-size: 18px; margin-bottom: 30px; text-align: center;">
                    –î–ª—è —ç—Ç–æ–≥–æ –∫–µ–π—Å–∞ –µ—â—ë –Ω–µ—Ç –¥—Ä–æ–ø–∞!
                </p>
                <div style="text-align: center;">
                    <button class="btn btn-primary" onclick="closeNoDropsModal()">–û–ö</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let balance = 1000;
        let currentItem = null;
        let currentCasePrice = 120; // üé® –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã —Ç–µ–∫—É—â–µ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –∫–µ–π—Å–∞
        let inventory = [
            { name: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç', image: 'dropcase1_1', rarity: 'common', value: 10 }
        ];
        let userNickname = '–ò–≥—Ä–æ–∫';
        let userAvatar = null; // –•—Ä–∞–Ω–∏—Ç base64 –¥–∞–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä–∞
        
        // üé≤ –°–ò–°–¢–ï–ú–ê "–†–ï–ó–ò–ù–û–í–û–ô –≠–ö–û–ù–û–ú–ò–ö–ò"
        let economyBalance = 0; // –ë–∞–ª–∞–Ω—Å —ç–∫–æ–Ω–æ–º–∏–∫–∏: + = –∏–≥—Ä–æ–∫ –≤ –ø–ª—é—Å–µ, - = –∏–≥—Ä–æ–∫ –≤ –º–∏–Ω—É—Å–µ
        let economyStreak = 0; // –ü–æ–¥—Ä—è–¥ –≤—ã–∏–≥—Ä—ã—à–µ–π/–ø—Ä–æ–∏–≥—Ä—ã—à–µ–π
        let totalSpent = 0; // –í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ –Ω–∞ –∫–µ–π—Å—ã
        let totalWon = 0; // –í—Å–µ–≥–æ –≤—ã–∏–≥—Ä–∞–Ω–æ —Å –∫–µ–π—Å–æ–≤
        
        // –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∏—Å–∫–ª–∏–∫–æ–≤
        let rouletteProtection = false; // –§–ª–∞–≥ –∑–∞—â–∏—Ç—ã —Ä—É–ª–µ—Ç–∫–∏
        let caseCooldowns = {}; // –ö—É–ª–¥–∞—É–Ω—ã –¥–ª—è –∫–µ–π—Å–æ–≤
        
        // üèõÔ∏è –°–ò–°–¢–ï–ú–ê –ì–û–°–î–û–õ–ì–ê
        let hasDebt = false; // –ï—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π –¥–æ–ª–≥
        let debtCasesLeft = 0; // –°–∫–æ–ª—å–∫–æ –∫–µ–π—Å–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è
        let debtAmount = 500; // –°—É–º–º–∞ –∫ –≤–æ–∑–≤—Ä–∞—Ç—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 500)
        let isBlocked = false; // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ –¥–æ—Å—Ç—É–ø –∫ –∫–µ–π—Å–∞–º
        let socialRating = 100; // –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)

        // üñºÔ∏è –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô –î–†–û–ü–û–í –° –ö–≠–®–ò–†–û–í–ê–ù–ò–ï–ú
        const imageCache = new Map();
        
        function loadDropImage(imageElement, imageName) {
            imageElement.textContent = '';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
            if (imageCache.has(imageName)) {
                const cachedUrl = imageCache.get(imageName);
                if (cachedUrl === 'error') {
                    showImagePlaceholder(imageElement, imageName);
                    return;
                }
                
                Object.assign(imageElement.style, {
                    backgroundImage: `url('${cachedUrl}')`,
                    backgroundSize: 'cover',
                    backgroundPosition: 'center',
                    backgroundColor: ''
                });
                imageElement.textContent = '';
                return;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            const img = new Image();
            img.onload = () => {
                const imageUrl = `${imageName}.png`;
                imageCache.set(imageName, imageUrl); // –ö—ç—à–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É
                
                Object.assign(imageElement.style, {
                    backgroundImage: `url('${imageUrl}')`,
                    backgroundSize: 'cover',
                    backgroundPosition: 'center',
                    backgroundColor: ''
                });
                imageElement.textContent = '';
                console.log(`‚úÖ –î—Ä–æ–ø ${imageName}.png –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω`);
            };
            
            img.onerror = () => {
                imageCache.set(imageName, 'error'); // –ö—ç—à–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
                showImagePlaceholder(imageElement, imageName);
                console.log(`‚ùå –î—Ä–æ–ø ${imageName}.png –Ω–µ –Ω–∞–π–¥–µ–Ω`);
            };
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏
            img.loading = 'eager';
            img.src = `${imageName}.png`;
        }
        
        function showImagePlaceholder(imageElement, imageName) {
            const elementWidth = imageElement.offsetWidth || 80;
            Object.assign(imageElement.style, {
                backgroundImage: 'none',
                backgroundColor: imageElement.style.backgroundColor || '#3498db',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: `${Math.max(16, elementWidth * 0.4)}px`,
                color: 'white',
                fontWeight: 'bold'
            });
            imageElement.textContent = '?';
        }
        
        // üéµ –ó–í–£–ö –î–õ–Ø –§–õ–≠–®–ë–ï–ö–ê
        let flashbackDropSound = null;
        let soundsGloballyBlocked = false; // –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –ó–í–£–ö–û–í
        
        function playFlashbackDropSound() {
            console.log('üé¨ –ó–∞–ø—É—Å–∫ –∑–≤—É–∫–∞ –§–ª—ç—à–±–µ–∫–∞...');
            
            // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–í–£–ö –§–õ–≠–®–ë–ï–ö–ê –¢–û–õ–¨–ö–û –í–ù–£–¢–†–ò –†–£–õ–ï–¢–ö–ò –ò –ü–†–ò –í–´–ü–ê–î–ï–ù–ò–ò!
            if (!rouletteProtection || fastSpinActive || soundsGloballyBlocked || currentItem === null) {
                console.log('üîá –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù - –≤–Ω–µ —Ä—É–ª–µ—Ç–∫–∏, –Ω–µ—Ç –¥—Ä–æ–ø–∞, –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞');
                return;
            }
            
            // –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏
            try {
                if (rollSound) {
                    rollSound.pause();
                    rollSound.currentTime = 0;
                    rollSound.loop = false; // –û—Ç–∫–ª—é—á–∞–µ–º –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ
                    rollSound.oncanplaythrough = null;
                    rollSound.onerror = null;
                    rollSound.onended = null;
                    rollSound.onloadeddata = null;
                    rollSound.src = ''; // –û—á–∏—â–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫
                    rollSound.load(); // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—É—Å—Ç–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫
                    rollSound = null; // –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω—É–ª—è–µ–º —Å—Å—ã–ª–∫—É
                    console.log('üîá –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ï–ù –ø–µ—Ä–µ–¥ –§–ª—ç—à–±–µ–∫–æ–º');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏ –ø–µ—Ä–µ–¥ –§–ª—ç—à–±–µ–∫–æ–º:', e);
                rollSound = null; // –û–±–Ω—É–ª—è–µ–º –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
            }
            
            // –°–æ–∑–¥–∞–µ–º –ù–û–í–´–ô –∞—É–¥–∏–æ –æ–±—ä–µ–∫—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑
            flashbackDropSound = new Audio();
            flashbackDropSound.volume = 0.8;
            flashbackDropSound.preload = 'auto';
            flashbackDropSound.src = 'flashback_drop.mp3';
            
            // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–ï–†–ï–î –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–ï–ú
            if (fastSpinActive) {
                console.log('üîá –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞');
                flashbackDropSound.pause();
                flashbackDropSound.currentTime = 0;
                return;
            }
            
            const playPromise = flashbackDropSound.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    console.log('üîä flashback_drop.mp3 —É—Å–ø–µ—à–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!');
                }).catch(() => {
                    console.log('‚ùå flashback_drop.mp3 –Ω–µ –Ω–∞–π–¥–µ–Ω - –§–ª—ç—à–±–µ–∫ –±–µ–∑ –∑–≤—É–∫–∞');
                });
            }
        }

        // –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∑–≤–∞–Ω–∏–π

        // üé∞ –£–õ–£–ß–®–ï–ù–ù–ê–Ø "–†–ï–ó–ò–ù–û–í–ê–Ø –≠–ö–û–ù–û–ú–ò–ö–ê" - –î–õ–Ø –õ–£–ß–®–ï–ì–û –ò–ì–†–û–í–û–ì–û –û–ü–´–¢–ê!
        // –ö–∞–∂–¥—ã–π –¥—Ä–æ–ø –∏–º–µ–µ—Ç –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç
        // üìù –ù–ê–ó–í–ê–ù–ò–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –û–ë–ù–û–í–õ–Ø–Æ–¢–°–Ø –ò–ó –§–ê–ô–õ–û–í!
        const items = {
            1: [ // –ö–µ–π—Å "–•—É—é–Ω—Ç–∏–∫" 120 ÍôÆ - –£–õ–£–ß–®–ï–ù–ù–´–ï –®–ê–ù–°–´
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (32% –æ–±—â–∏–π —à–∞–Ω—Å - —Å–Ω–∏–∂–µ–Ω–æ)
                { name: '–ö–∞–º–µ–Ω—å', image: 'dropcase1_1', rarity: 'common', value: 10, chance: 15 },
                { name: '–ü–∞–ª–∫–∞', image: 'dropcase1_2', rarity: 'common', value: 40, chance: 12 },
                { name: '–ë–æ–ª—Ç', image: 'dropcase1_3', rarity: 'common', value: 25, chance: 5 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (35% –æ–±—â–∏–π —à–∞–Ω—Å - —É–≤–µ–ª–∏—á–µ–Ω–æ)
                { name: '–ò–≥—Ä—É—à–∫–∞', image: 'dropcase1_5', rarity: 'rare', value: 130, chance: 18 },
                { name: '–ß–∞—Å—ã', image: 'dropcase1_10', rarity: 'rare', value: 150, chance: 12 },
                { name: '–ö–æ—à–µ–ª—ë–∫', image: 'dropcase1_9', rarity: 'rare', value: 180, chance: 5 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (30% –æ–±—â–∏–π —à–∞–Ω—Å - —É–≤–µ–ª–∏—á–µ–Ω–æ)
                { name: '–ö–Ω–∏–≥–∞', image: 'dropcase1_6', rarity: 'epic', value: 300, chance: 18 },
                { name: '–•—É–π', image: 'dropcase1_4', rarity: 'epic', value: 400, chance: 12 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å - —É–≤–µ–ª–∏—á–µ–Ω–æ)
                { name: 'MP5', image: 'dropcase1_7', rarity: 'legendary', value: 1000, chance: 2 },
                { name: 'Glock', image: 'dropcase1_8', rarity: 'legendary', value: 700, chance: 1 }
            ],
            2: [ // –ö–µ–π—Å "–ö–∏–∑–∏–∫" 200 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (30% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ë—É—Ç—ã–ª–∫–∞', image: 'dropcase2_6', rarity: 'common', value: 15, chance: 15 },
                { name: '–ú–µ—Ç–∞–ª–ª–æ–ª–æ–º', image: 'dropcase2_8', rarity: 'common', value: 30, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (45% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–®–ø—Ä–∏—Ü', image: 'dropcase2_2', rarity: 'rare', value: 240, chance: 25 },
                { name: '–ë—É–¥–∏–ª—å–Ω–∏–∫', image: 'dropcase2_7', rarity: 'rare', value: 250, chance: 20 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (23% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ü–æ—Ä–æ—à–æ–∫', image: 'dropcase2_4', rarity: 'epic', value: 600, chance: 12 },
                { name: '–°–Ω–∞–π–ø–µ—Ä–∫–∞', image: 'dropcase2_9', rarity: 'epic', value: 800, chance: 8 },
                { name: '–î—Ä–æ–±–æ–≤–∏–∫', image: 'dropcase2_10', rarity: 'epic', value: 600, chance: 3 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (2% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ì–æ—à–∞-–ü–ª—ç–π', image: 'dropcase2_1', rarity: 'legendary', value: 2000, chance: 1.2 },
                { name: '–£—Å–∏–∫–∏-–ö–∏–∑–∏–∫–∞', image: 'dropcase2_5', rarity: 'legendary', value: 1200, chance: 0.8 }
            ],
            3: [ // –ö–µ–π—Å "–ñ–∞–ª–æ" 150 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (23% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö—Å–∏–≤–∞', image: 'dropcase3_6', rarity: 'common', value: 50, chance: 13 },
                { name: '–ü—Ä–æ–±–∏—Ä–∫–∞', image: 'dropcase3_2', rarity: 'common', value: 35, chance: 10 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (38% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–§—É—Ä–∞–∂–∫–∞', image: 'dropcase3_7', rarity: 'rare', value: 180, chance: 21 },
                { name: '–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä', image: 'dropcase3_5', rarity: 'rare', value: 220, chance: 17 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (38.4% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö–æ–∫—Å', image: 'dropcase3_3', rarity: 'epic', value: 800, chance: 20.0 },
                { name: '–ü—Ä–æ—Ç–∏–≤–æ–≥–∞–∑', image: 'dropcase3_9', rarity: 'epic', value: 450, chance: 10 },
                { name: '–ö–æ—Å—Ç—é–º-—Ö–∏–º–∑–∞—â–∏—Ç—ã', image: 'dropcase3_4', rarity: 'epic', value: 600, chance: 6 },
                { name: '–•–∏–º–∏—á–µ—Å–∫–∏–π –ö–æ–º–ø–ª–µ–∫—Ç', image: 'dropcase3_10', rarity: 'epic', value: 700, chance: 2.4 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (1.5% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ñ–∞–ª–æ', image: 'dropcase3_1', rarity: 'legendary', value: 1500, chance: 0.8 },
                { name: '–§–µ–Ω-Dyson', image: 'dropcase3_8', rarity: 'legendary', value: 1200, chance: 0.7 }
            ],
            4: [ // –ö–µ–π—Å "–®–µ—Ä" 300 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (32% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–°—É—à–∫–∞', image: 'dropcase4_6', rarity: 'common', value: 60, chance: 18 },
                { name: '–ö–æ—Ä–∑–∏–Ω–∞', image: 'dropcase4_9', rarity: 'common', value: 90, chance: 11 },
                { name: '–ë–∞–π–∫–∏ –æ—Ç...', image: 'dropcase4_8', rarity: 'common', value: 0, chance: 3 }, // –û–°–û–ë–´–ô –î–†–û–ü –° –û–®–ò–ë–ö–û–ô
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (33% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö–æ–≤—ë—Ä', image: 'dropcase4_10', rarity: 'rare', value: 350, chance: 25 },
                { name: '–°–∞–º–æ–≤–∞—Ä', image: 'dropcase4_1', rarity: 'rare', value: 320, chance: 8 }, // –ü–ï–†–ï–ù–ï–°–Å–ù –í –û–ö–£–ü–ê–ï–ú–´–ï
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (32% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö—Ä–µ—Å–ª–æ-–®–µ—Ä–∞', image: 'dropcase4_2', rarity: 'epic', value: 800, chance: 20 },
                { name: 'Tommy', image: 'dropcase4_5', rarity: 'epic', value: 900, chance: 12 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–§–ª—ç—à–±–µ–∫', image: 'dropcase4_4', rarity: 'legendary', value: 1500, chance: 1 },
                { name: '–®–∞—Ä–∏–∫-–®–µ—Ä–∞', image: 'dropcase4_3', rarity: 'legendary', value: 1200, chance: 2 }
            ],
            5: [ // –ö–µ–π—Å "–ì–ª–∏—Å—Ç" 130 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (44% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–°—Ç—è–∂–∫–∏', image: 'dropcase5_6', rarity: 'common', value: 70, chance: 24 },
                { name: '–ö–ª—è–ø', image: 'dropcase5_7', rarity: 'common', value: 70, chance: 20 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (36.5% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ß–∞—Å—Ç—å-—Ç–µ–ª–∞', image: 'dropcase5_3', rarity: 'rare', value: 145, chance: 20 },
                { name: '–ü–ª—ë—Ç–∫–∞', image: 'dropcase5_8', rarity: 'rare', value: 160, chance: 16.5 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (16% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ú—É—Ä–∞–≤–µ–π', image: 'dropcase5_4', rarity: 'epic', value: 550, chance: 8 },
                { name: '–¶–µ–ø–∏', image: 'dropcase5_9', rarity: 'epic', value: 350, chance: 5 },
                { name: '–õ–æ–ø–∞—Ç–∞', image: 'dropcase5_5', rarity: 'epic', value: 500, chance: 3 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (3.5% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ú–∞–Ω—å—è—á–Ω—ã–π –ù–∞–±–æ—Ä', image: 'dropcase5_10', rarity: 'legendary', value: 2280, chance: 2 },
                { name: '–ú–∏–Ω–∏-–ì–ª–∏—Å—Ç', image: 'dropcase5_1', rarity: 'legendary', value: 1500, chance: 1 },
                { name: '–ö–∞—Å–∫–∞-–ì–ª–∏—Å—Ç–∞', image: 'dropcase5_2', rarity: 'legendary', value: 1200, chance: 0.5 }
            ],
            6: [ // –ö–µ–π—Å "–ú–µ–æ—Ñ–µ–Ω" 100 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (35% –æ–±—â–∏–π —à–∞–Ω—Å - –°–ù–ò–ñ–ï–ù–û)
                { name: '–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∞—è –ú–æ–¥–µ–ª—å', image: 'dropcase6_8', rarity: 'common', value: 40, chance: 12 },
                { name: '–§–∏–ª–∞–º–µ–Ω—Ç', image: 'dropcase6_6', rarity: 'common', value: 65, chance: 12 },
                { name: '–°–æ–ø–ª–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞', image: 'dropcase6_3', rarity: 'common', value: 85, chance: 11 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (42% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–°—Ç–æ–ª –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞', image: 'dropcase6_7', rarity: 'rare', value: 115, chance: 17 },
                { name: '3D –ø—Ä–∏–Ω—Ç–µ—Ä', image: 'dropcase6_2', rarity: 'rare', value: 135, chance: 15 },
                { name: '–ù–∞–Ω–æ-–ø—Ä–∏–Ω—Ç–µ—Ä', image: 'dropcase6_10', rarity: 'rare', value: 300, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (20% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä', image: 'dropcase6_4', rarity: 'epic', value: 210, chance: 10 },
                { name: '–ú–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–Ω—Ç–µ—Ä', image: 'dropcase6_9', rarity: 'epic', value: 280, chance: 6 },
                { name: '–õ–∞–∑–µ—Ä–Ω—ã–π –≥—Ä–∞–≤—ë—Ä', image: 'dropcase6_5', rarity: 'epic', value: 350, chance: 3 },
                
                // üíé –î–ñ–ï–ö–ü–û–¢–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–®–ª—è–ø–∞-–ú–µ–æ—Ñ–µ–Ω–∞', image: 'dropcase6_1', rarity: 'legendary', value: 500, chance: 2 },
                { name: '–ö–≤–∞–Ω—Ç–æ–≤—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä', image: 'dropcase6_1', rarity: 'legendary', value: 800, chance: 1 }
            ],
            7: [ // –ö–µ–π—Å "–ß–í–ö" 250 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (26% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ü–∏—Å—Ç–æ–ª–µ—Ç –¢–¢', image: 'dropcase7_3', rarity: 'common', value: 200, chance: 16 },
                { name: '–ì—Ä–∞–Ω–∞—Ç–∞ –§-1', image: 'dropcase7_8', rarity: 'common', value: 180, chance: 10 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (30% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö–∞–ª–∞—à', image: 'dropcase7_2', rarity: 'rare', value: 300, chance: 15 },
                { name: '–ü–ö–ú', image: 'dropcase7_6', rarity: 'rare', value: 350, chance: 10 },
                { name: '–ö–æ—Ä–Ω–µ—Ç', image: 'dropcase7_5', rarity: 'rare', value: 400, chance: 5 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (41.5% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–°–í–î', image: 'dropcase7_7', rarity: 'epic', value: 600, chance: 20 },
                { name: '–ò–≥–ª–∞-–°', image: 'dropcase7_9', rarity: 'epic', value: 800, chance: 15 },
                { name: '–ò—Å–∫–∞–Ω–¥–µ—Ä', image: 'dropcase7_10', rarity: 'epic', value: 1000, chance: 6.5 },
                
                // üíé –õ–ï–ì–ï–ù–î–ê–†–ù–´–ï –î–†–û–ü–´ (2.5% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–ö–æ–Ω—Ç—Ä–∞–∫—Ç', image: 'dropcase7_1', rarity: 'legendary', value: 2000, chance: 1.5 },
                { name: '–†–ü–ì-7', image: 'dropcase7_4', rarity: 'legendary', value: 2500, chance: 1 }
            ],
            8: [ // –ö–µ–π—Å "–ë–µ—Ä–µ–≥" 180 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (32% –æ–±—â–∏–π —à–∞–Ω—Å - –°–ù–ò–ñ–ï–ù–û)
                { name: '–î—Ä–æ–ø 8-6', image: 'dropcase8_6', rarity: 'common', value: 75, chance: 14 },
                { name: '–î—Ä–æ–ø 8-2', image: 'dropcase8_2', rarity: 'common', value: 115, chance: 10 },
                { name: '–î—Ä–æ–ø 8-1', image: 'dropcase8_1', rarity: 'common', value: 155, chance: 8 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (48% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 8-7', image: 'dropcase8_7', rarity: 'rare', value: 220, chance: 26 },
                { name: '–î—Ä–æ–ø 8-3', image: 'dropcase8_3', rarity: 'rare', value: 280, chance: 22 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (17% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 8-9', image: 'dropcase8_9', rarity: 'epic', value: 380, chance: 9 },
                { name: '–î—Ä–æ–ø 8-8', image: 'dropcase8_8', rarity: 'epic', value: 500, chance: 5 },
                { name: '–î—Ä–æ–ø 8-4', image: 'dropcase8_4', rarity: 'epic', value: 650, chance: 3 },
                
                // üíé –î–ñ–ï–ö–ü–û–¢–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 8-10', image: 'dropcase8_10', rarity: 'legendary', value: 900, chance: 1.5 },
                { name: '–î—Ä–æ–ø 8-5', image: 'dropcase8_5', rarity: 'legendary', value: 1200, chance: 1.5 }
            ],
            9: [ // –ö–µ–π—Å "–ú–æ–ª–æ—Ç" 220 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (33% –æ–±—â–∏–π —à–∞–Ω—Å - –°–ù–ò–ñ–ï–ù–û)
                { name: '–î—Ä–æ–ø 9-3', image: 'dropcase9_3', rarity: 'common', value: 90, chance: 15 },
                { name: '–î—Ä–æ–ø 9-2', image: 'dropcase9_2', rarity: 'common', value: 135, chance: 10 },
                { name: '–î—Ä–æ–ø 9-8', image: 'dropcase9_8', rarity: 'common', value: 180, chance: 8 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (47% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 9-6', image: 'dropcase9_6', rarity: 'rare', value: 260, chance: 25 },
                { name: '–î—Ä–æ–ø 9-7', image: 'dropcase9_7', rarity: 'rare', value: 320, chance: 22 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (17% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 9-1', image: 'dropcase9_1', rarity: 'epic', value: 460, chance: 9 },
                { name: '–î—Ä–æ–ø 9-4', image: 'dropcase9_4', rarity: 'epic', value: 600, chance: 5 },
                { name: '–î—Ä–æ–ø 9-10', image: 'dropcase9_10', rarity: 'epic', value: 780, chance: 3 },
                
                // üíé –î–ñ–ï–ö–ü–û–¢–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 9-9', image: 'dropcase9_9', rarity: 'legendary', value: 1100, chance: 1.5 },
                { name: '–î—Ä–æ–ø 9-5', image: 'dropcase9_5', rarity: 'legendary', value: 1500, chance: 1.5 }
            ],
            10: [ // –ö–µ–π—Å "–í–∏—Ö—Ä—å" 160 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (34% –æ–±—â–∏–π —à–∞–Ω—Å - –°–ù–ò–ñ–ï–ù–û)
                { name: '–î—Ä–æ–ø 10-3', image: 'dropcase10_3', rarity: 'common', value: 65, chance: 16 },
                { name: '–î—Ä–æ–ø 10-6', image: 'dropcase10_6', rarity: 'common', value: 100, chance: 10 },
                { name: '–î—Ä–æ–ø 10-2', image: 'dropcase10_2', rarity: 'common', value: 135, chance: 8 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (46% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 10-1', image: 'dropcase10_1', rarity: 'rare', value: 180, chance: 24 },
                { name: '–î—Ä–æ–ø 10-7', image: 'dropcase10_7', rarity: 'rare', value: 240, chance: 22 },
                
                //üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (17% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 10-8', image: 'dropcase10_8', rarity: 'epic', value: 340, chance: 9 },
                { name: '–î—Ä–æ–ø 10-4', image: 'dropcase10_4', rarity: 'epic', value: 450, chance: 5 },
                { name: '–î—Ä–æ–ø 10-10', image: 'dropcase10_10', rarity: 'epic', value: 580, chance: 3 },
                
                // üíé –î–ñ–ï–ö–ü–û–¢–´ (3% –æ–±—â–∏–π —à–∞–Ω—Å - –£–í–ï–õ–ò–ß–ï–ù–û)
                { name: '–î—Ä–æ–ø 10-9', image: 'dropcase10_9', rarity: 'legendary', value: 800, chance: 1.5 },
                { name: '–î—Ä–æ–ø 10-5', image: 'dropcase10_5', rarity: 'legendary', value: 1100, chance: 1.5 }
            ],
            11: [ // –ö–µ–π—Å "–ü—Ä–∏–∑—Ä–∞–∫" 350 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 11-3', image: 'dropcase11_3', rarity: 'common', value: 140, chance: 30 },
                { name: '–î—Ä–æ–ø 11-6', image: 'dropcase11_6', rarity: 'common', value: 210, chance: 20 },
                { name: '–î—Ä–æ–ø 11-8', image: 'dropcase11_8', rarity: 'common', value: 280, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 11-2', image: 'dropcase11_2', rarity: 'rare', value: 420, chance: 15 },
                { name: '–î—Ä–æ–ø 11-1', image: 'dropcase11_1', rarity: 'rare', value: 520, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 11-7', image: 'dropcase11_7', rarity: 'epic', value: 730, chance: 5 },
                { name: '–î—Ä–æ–ø 11-4', image: 'dropcase11_4', rarity: 'epic', value: 950, chance: 3 },
                { name: '–î—Ä–æ–ø 11-9', image: 'dropcase11_9', rarity: 'epic', value: 1250, chance: 1.5 },
                { name: '–î—Ä–æ–ø 11-5', image: 'dropcase11_5', rarity: 'legendary', value: 1800, chance: 0.4 },
                { name: '–î—Ä–æ–ø 11-10', image: 'dropcase11_10', rarity: 'legendary', value: 2800, chance: 0.1 }
            ],
            12: [ // –ö–µ–π—Å "–õ—ë–¥" 290 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 12-3', image: 'dropcase12_3', rarity: 'common', value: 115, chance: 30 },
                { name: '–î—Ä–æ–ø 12-6', image: 'dropcase12_6', rarity: 'common', value: 175, chance: 20 },
                { name: '–î—Ä–æ–ø 12-2', image: 'dropcase12_2', rarity: 'common', value: 235, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 12-7', image: 'dropcase12_7', rarity: 'rare', value: 350, chance: 15 },
                { name: '–î—Ä–æ–ø 12-1', image: 'dropcase12_1', rarity: 'rare', value: 440, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 12-8', image: 'dropcase12_8', rarity: 'epic', value: 610, chance: 5 },
                { name: '–î—Ä–æ–ø 12-4', image: 'dropcase12_4', rarity: 'epic', value: 800, chance: 3 },
                { name: '–î—Ä–æ–ø 12-9', image: 'dropcase12_9', rarity: 'epic', value: 1050, chance: 1.5 },
                { name: '–î—Ä–æ–ø 12-5', image: 'dropcase12_5', rarity: 'legendary', value: 1500, chance: 0.4 },
                { name: '–î—Ä–æ–ø 12-10', image: 'dropcase12_10', rarity: 'legendary', value: 2300, chance: 0.1 }
            ],
            13: [ // –ö–µ–π—Å "–û–≥–æ–Ω—å" 400 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 13-3', image: 'dropcase13_3', rarity: 'common', value: 160, chance: 30 },
                { name: '–î—Ä–æ–ø 13-6', image: 'dropcase13_6', rarity: 'common', value: 240, chance: 20 },
                { name: '–î—Ä–æ–ø 13-2', image: 'dropcase13_2', rarity: 'common', value: 320, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 13-1', image: 'dropcase13_1', rarity: 'rare', value: 480, chance: 15 },
                { name: '–î—Ä–æ–ø 13-8', image: 'dropcase13_8', rarity: 'rare', value: 600, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 13-7', image: 'dropcase13_7', rarity: 'epic', value: 840, chance: 5 },
                { name: '–î—Ä–æ–ø 13-4', image: 'dropcase13_4', rarity: 'epic', value: 1100, chance: 3 },
                { name: '–î—Ä–æ–ø 13-9', image: 'dropcase13_9', rarity: 'epic', value: 1450, chance: 1.5 },
                { name: '–î—Ä–æ–ø 13-5', image: 'dropcase13_5', rarity: 'legendary', value: 2100, chance: 0.4 },
                { name: '–î—Ä–æ–ø 13-10', image: 'dropcase13_10', rarity: 'legendary', value: 3200, chance: 0.1 }
            ],
            14: [ // –ö–µ–π—Å "–¢–µ–Ω—å" 320 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 14-3', image: 'dropcase14_3', rarity: 'common', value: 130, chance: 30 },
                { name: '–î—Ä–æ–ø 14-6', image: 'dropcase14_6', rarity: 'common', value: 195, chance: 20 },
                { name: '–î—Ä–æ–ø 14-8', image: 'dropcase14_8', rarity: 'common', value: 260, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 14-2', image: 'dropcase14_2', rarity: 'rare', value: 380, chance: 15 },
                { name: '–î—Ä–æ–ø 14-1', image: 'dropcase14_1', rarity: 'rare', value: 480, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 14-4', image: 'dropcase14_4', rarity: 'epic', value: 670, chance: 5 },
                { name: '–î—Ä–æ–ø 14-7', image: 'dropcase14_7', rarity: 'epic', value: 880, chance: 3 },
                { name: '–î—Ä–æ–ø 14-9', image: 'dropcase14_9', rarity: 'epic', value: 1150, chance: 1.5 },
                { name: '–î—Ä–æ–ø 14-5', image: 'dropcase14_5', rarity: 'legendary', value: 1650, chance: 0.4 },
                { name: '–î—Ä–æ–ø 14-10', image: 'dropcase14_10', rarity: 'legendary', value: 2500, chance: 0.1 }
            ],
            15: [ // –ö–µ–π—Å "–°–≤–µ—Ç" 270 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 15-3', image: 'dropcase15_3', rarity: 'common', value: 110, chance: 30 },
                { name: '–î—Ä–æ–ø 15-6', image: 'dropcase15_6', rarity: 'common', value: 165, chance: 20 },
                { name: '–î—Ä–æ–ø 15-2', image: 'dropcase15_2', rarity: 'common', value: 220, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 15-1', image: 'dropcase15_1', rarity: 'rare', value: 320, chance: 15 },
                { name: '–î—Ä–æ–ø 15-8', image: 'dropcase15_8', rarity: 'rare', value: 410, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 15-7', image: 'dropcase15_7', rarity: 'epic', value: 570, chance: 5 },
                { name: '–î—Ä–æ–ø 15-4', image: 'dropcase15_4', rarity: 'epic', value: 750, chance: 3 },
                { name: '–î—Ä–æ–ø 15-9', image: 'dropcase15_9', rarity: 'epic', value: 980, chance: 1.5 },
                { name: '–î—Ä–æ–ø 15-5', image: 'dropcase15_5', rarity: 'legendary', value: 1400, chance: 0.4 },
                { name: '–î—Ä–æ–ø 15-10', image: 'dropcase15_10', rarity: 'legendary', value: 2100, chance: 0.1 }
            ],
            16: [ // –ö–µ–π—Å "–•–∞–æ—Å" 500 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (35% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 16-3', image: 'dropcase16_3', rarity: 'common', value: 200, chance: 15 },
                { name: '–î—Ä–æ–ø 16-6', image: 'dropcase16_6', rarity: 'common', value: 300, chance: 10 },
                { name: '–î—Ä–æ–ø 16-2', image: 'dropcase16_2', rarity: 'common', value: 400, chance: 10 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (45% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 16-1', image: 'dropcase16_1', rarity: 'rare', value: 600, chance: 25 },
                { name: '–î—Ä–æ–ø 16-7', image: 'dropcase16_7', rarity: 'rare', value: 750, chance: 20 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (20% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 16-8', image: 'dropcase16_8', rarity: 'epic', value: 1050, chance: 10 },
                { name: '–î—Ä–æ–ø 16-4', image: 'dropcase16_4', rarity: 'epic', value: 1400, chance: 6 },
                { name: '–î—Ä–æ–ø 16-9', image: 'dropcase16_9', rarity: 'epic', value: 1800, chance: 3 },
                { name: '–î—Ä–æ–ø 16-5', image: 'dropcase16_5', rarity: 'legendary', value: 2600, chance: 0.8 },
                { name: '–î—Ä–æ–ø 16-10', image: 'dropcase16_10', rarity: 'legendary', value: 4000, chance: 0.2 }
            ],
            17: [ // –ö–µ–π—Å "–ü–æ—Ä—è–¥–æ–∫" 450 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 17-3', image: 'dropcase17_3', rarity: 'common', value: 180, chance: 30 },
                { name: '–î—Ä–æ–ø 17-6', image: 'dropcase17_6', rarity: 'common', value: 270, chance: 20 },
                { name: '–î—Ä–æ–ø 17-2', image: 'dropcase17_2', rarity: 'common', value: 360, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 17-1', image: 'dropcase17_1', rarity: 'rare', value: 540, chance: 15 },
                { name: '–î—Ä–æ–ø 17-7', image: 'dropcase17_7', rarity: 'rare', value: 680, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 17-8', image: 'dropcase17_8', rarity: 'epic', value: 950, chance: 5 },
                { name: '–î—Ä–æ–ø 17-4', image: 'dropcase17_4', rarity: 'epic', value: 1250, chance: 3 },
                { name: '–î—Ä–æ–ø 17-9', image: 'dropcase17_9', rarity: 'epic', value: 1650, chance: 1.5 },
                { name: '–î—Ä–æ–ø 17-5', image: 'dropcase17_5', rarity: 'legendary', value: 2350, chance: 0.4 },
                { name: '–î—Ä–æ–ø 17-10', image: 'dropcase17_10', rarity: 'legendary', value: 3600, chance: 0.1 }
            ],
            18: [ // –ö–µ–π—Å "–í—Ä–µ–º—è" 380 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 18-3', image: 'dropcase18_3', rarity: 'common', value: 150, chance: 30 },
                { name: '–î—Ä–æ–ø 18-6', image: 'dropcase18_6', rarity: 'common', value: 230, chance: 20 },
                { name: '–î—Ä–æ–ø 18-2', image: 'dropcase18_2', rarity: 'common', value: 310, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 18-1', image: 'dropcase18_1', rarity: 'rare', value: 450, chance: 15 },
                { name: '–î—Ä–æ–ø 18-7', image: 'dropcase18_7', rarity: 'rare', value: 580, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 18-8', image: 'dropcase18_8', rarity: 'epic', value: 800, chance: 5 },
                { name: '–î—Ä–æ–ø 18-4', image: 'dropcase18_4', rarity: 'epic', value: 1050, chance: 3 },
                { name: '–î—Ä–æ–ø 18-9', image: 'dropcase18_9', rarity: 'epic', value: 1380, chance: 1.5 },
                { name: '–î—Ä–æ–ø 18-5', image: 'dropcase18_5', rarity: 'legendary', value: 1980, chance: 0.4 },
                { name: '–î—Ä–æ–ø 18-10', image: 'dropcase18_10', rarity: 'legendary', value: 3000, chance: 0.1 }
            ],
            19: [ // –ö–µ–π—Å "–ö–æ—Å–º–æ—Å" 600 ÍôÆ
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 19-3', image: 'dropcase19_3', rarity: 'common', value: 240, chance: 30 },
                { name: '–î—Ä–æ–ø 19-6', image: 'dropcase19_6', rarity: 'common', value: 360, chance: 20 },
                { name: '–î—Ä–æ–ø 19-2', image: 'dropcase19_2', rarity: 'common', value: 480, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 19-1', image: 'dropcase19_1', rarity: 'rare', value: 720, chance: 15 },
                { name: '–î—Ä–æ–ø 19-7', image: 'dropcase19_7', rarity: 'rare', value: 900, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 19-4', image: 'dropcase19_4', rarity: 'epic', value: 1260, chance: 5 },
                { name: '–î—Ä–æ–ø 19-8', image: 'dropcase19_8', rarity: 'epic', value: 1650, chance: 3 },
                { name: '–î—Ä–æ–ø 19-9', image: 'dropcase19_9', rarity: 'epic', value: 2150, chance: 1.5 },
                { name: '–î—Ä–æ–ø 19-5', image: 'dropcase19_5', rarity: 'legendary', value: 3100, chance: 0.4 },
                { name: '–î—Ä–æ–ø 19-10', image: 'dropcase19_10', rarity: 'legendary', value: 4800, chance: 0.1 }
            ],
            20: [ // –ö–µ–π—Å "–í–µ—á–Ω–æ—Å—Ç—å" 750 ÍôÆ - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –≠–ö–û–ù–û–ú–ò–ö–ê
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ (65% –æ–±—â–∏–π —à–∞–Ω—Å - –ö–ê–ö –ù–ê–î–û!)
                { name: '–î—Ä–æ–ø 20-3', image: 'dropcase20_3', rarity: 'common', value: 300, chance: 30 },
                { name: '–î—Ä–æ–ø 20-6', image: 'dropcase20_6', rarity: 'common', value: 450, chance: 20 },
                { name: '–î—Ä–æ–ø 20-2', image: 'dropcase20_2', rarity: 'common', value: 600, chance: 15 },
                
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ (25% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 20-1', image: 'dropcase20_1', rarity: 'rare', value: 900, chance: 15 },
                { name: '–î—Ä–æ–ø 20-7', image: 'dropcase20_7', rarity: 'rare', value: 1125, chance: 10 },
                
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ (10% –æ–±—â–∏–π —à–∞–Ω—Å)
                { name: '–î—Ä–æ–ø 20-8', image: 'dropcase20_8', rarity: 'epic', value: 1575, chance: 5 },
                { name: '–î—Ä–æ–ø 20-4', image: 'dropcase20_4', rarity: 'epic', value: 2100, chance: 3 },
                { name: '–î—Ä–æ–ø 20-9', image: 'dropcase20_9', rarity: 'epic', value: 2700, chance: 1.5 },
                { name: '–î—Ä–æ–ø 20-5', image: 'dropcase20_5', rarity: 'legendary', value: 3900, chance: 0.4 },
                { name: '–î—Ä–æ–ø 20-10', image: 'dropcase20_10', rarity: 'legendary', value: 6000, chance: 0.1 }
            ]
        };
        
        // üéØ –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ê–ù–¢–ò–ü–û–í–¢–û–†–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –î–õ–Ø –í–°–ï–• –ö–ï–ô–°–û–í
        let recentDrops = []; // –°–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö –¥—Ä–æ–ø–æ–≤ –≤—Å–µ—Ö –∫–µ–π—Å–æ–≤

        function updateBalance() {
            document.getElementById('balance').textContent = balance;
            
            // Update case availability
            document.querySelectorAll('.case').forEach(caseEl => {
                const price = parseInt(caseEl.dataset.price);
                if (balance < price) {
                    caseEl.classList.add('disabled');
                } else {
                    caseEl.classList.remove('disabled');
                }
            });
            
            // üö® –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –°–ü–ò–°–ê–ù–ò–ï –î–û–õ–ì–ê –ü–†–ò –î–û–°–¢–ò–ñ–ï–ù–ò–ò –°–£–ú–ú–´
            checkAutoDebtPayment();
            
            // üö® –ü–†–û–í–ï–†–Ø–ï–ú –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–£–Æ –ë–õ–û–ö–ò–†–û–í–ö–£ –û–¢ –ì–û–°–î–û–õ–ì–ê
            checkAutoDebtBlock();
            
            // üí° –ü–†–û–í–ï–†–Ø–ï–ú –ü–û–õ–ù–´–ô –ù–û–õ–¨ –ò –ü–û–ö–ê–ó–´–í–ê–ï–ú –ü–û–î–°–ö–ê–ó–ö–£
            checkZeroBalance();
            
            // Save data when balance changes
            saveGameData();
        }
        
        // üí∞ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –°–ü–ò–°–ê–ù–ò–ï –î–û–õ–ì–ê –ü–†–ò –î–û–°–¢–ò–ñ–ï–ù–ò–ò –°–£–ú–ú–´
        function checkAutoDebtPayment() {
            if (!hasDebt || isBlocked) return; // –ù–µ—Ç –¥–æ–ª–≥–∞ –∏–ª–∏ —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–µ–Ω–µ–≥ –¥–ª—è –ø–æ–≥–∞—à–µ–Ω–∏—è –¥–æ–ª–≥–∞
            if (balance >= debtAmount) {
                console.log(`üí∞ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –°–ü–ò–°–ê–ù–ò–ï: –ë–∞–ª–∞–Ω—Å ${balance} ÍôÆ >= –¥–æ–ª–≥ ${debtAmount} ÍôÆ`);
                
                // –°–ø–∏—Å—ã–≤–∞–µ–º –¥–æ–ª–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
                balance -= debtAmount;
                const paidAmount = debtAmount;
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
                const oldRating = socialRating;
                socialRating = Math.min(100, socialRating + 15); // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ 15
                const ratingGain = socialRating - oldRating;
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ–ª–≥
                hasDebt = false;
                debtCasesLeft = 0;
                const oldDebtAmount = debtAmount;
                debtAmount = 500; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫ –¥–µ—Ñ–æ–ª—Ç—É
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                updateDebtStatus();
                document.getElementById('balance').textContent = balance; // –°—Ä–∞–∑—É –æ–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                saveGameData();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –ø–æ–≥–∞—à–µ–Ω–∏–∏
                showDebtPaymentMessage(paidAmount, oldDebtAmount, ratingGain);
                
                console.log(`‚úÖ –ì–æ—Å–¥–æ–ª–≥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≥–∞—à–µ–Ω! –°–ø–∏—Å–∞–Ω–æ: ${paidAmount} ÍôÆ, –æ—Å—Ç–∞—Ç–æ–∫: ${balance} ÍôÆ, —Ä–µ–π—Ç–∏–Ω–≥: +${ratingGain}`);
            }
        }
        
        // üö® –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê: –µ—Å–ª–∏ –µ—Å—Ç—å –≥–æ—Å–¥–æ–ª–≥, –Ω–æ –Ω–µ–ª—å–∑—è –æ—Ç–∫—Ä—ã—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ –∫–µ–π—Å–∞
        function checkAutoDebtBlock() {
            if (!hasDebt || isBlocked) return; // –ù–µ—Ç –¥–æ–ª–≥–∞ –∏–ª–∏ —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∫–µ–π—Å–∞
            const minCasePrice = Math.min(...Array.from(document.querySelectorAll('.case')).map(el => parseInt(el.dataset.price)));
            
            // –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –º–µ–Ω—å—à–µ —Å–∞–º–æ–≥–æ –¥–µ—à—ë–≤–æ–≥–æ –∫–µ–π—Å–∞ - –±–ª–æ–∫–∏—Ä—É–µ–º —Å—Ä–∞–∑—É!
            if (balance < minCasePrice) {
                console.log(`üö® –ê–í–¢–û–ë–õ–û–ö–ò–†–û–í–ö–ê: –ë–∞–ª–∞–Ω—Å ${balance} ÍôÆ < –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∫–µ–π—Å–∞ ${minCasePrice} ÍôÆ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –≥–æ—Å–¥–æ–ª–≥–µ!`);
                
                // –°—Ä–∞–∑—É –±–ª–æ–∫–∏—Ä—É–µ–º –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å—ã
                isBlocked = true;
                hasDebt = false;
                debtCasesLeft = 0;
                hasBadCredit = true; // üìâ –ü–û–†–¢–ò–ú –ö–†–ï–î–ò–¢–ù–´–ô –†–ï–ô–¢–ò–ù–ì!
                
                updateDebtStatus();
                showBlockBanner();
                saveGameData();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                showDebtMessage('–ì–æ—Å–¥–æ–ª–≥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –î–µ–Ω–µ–≥ –Ω–µ—Ç –¥–∞–∂–µ –Ω–∞ —Å–∞–º—ã–π –¥–µ—à—ë–≤—ã–π –∫–µ–π—Å! –ë–õ–û–ö–ò–†–û–í–ö–ê!', 'error');
            }
        }

        let selectedInventoryIndex = -1;

        function updateInventory() {
            const inventoryGrid = document.getElementById('inventoryGrid');
            inventoryGrid.innerHTML = '';
            
            // üö´ –ü–†–û–í–ï–†–Ø–ï–ú –ê–†–ï–°–¢ –ò–ù–í–ï–ù–¢–ê–†–Ø
            if (isBlocked) {
                showArrestedInventory();
                return;
            }
            
            inventory.forEach((item, index) => {
                const itemEl = document.createElement('div');
                itemEl.className = 'inventory-item';
                itemEl.style.cursor = 'pointer';
                
                const iconEl = document.createElement('div');
                // üé® –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∫–µ–π—Å–∞ –æ—Ç–∫—É–¥–∞ –ø–æ–ª—É—á–µ–Ω –¥—Ä–æ–ø (–∏–ª–∏ —Å—Ä–µ–¥–Ω—é—é)
                const dropColor = getDropValueColor(item, item.casePrice || 200); // –¶–µ–Ω–∞ –∫–µ–π—Å–∞ –æ—Ç–∫—É–¥–∞ –ø–æ–ª—É—á–µ–Ω –¥—Ä–æ–ø
                iconEl.className = `inventory-item-icon ${item.rarity}`;
                iconEl.style.cssText = `
                    width: 60px;
                    height: 60px;
                    margin: 0 auto 8px;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 30px;
                    background-size: cover;
                    background-position: center;
                    background-color: ${dropColor};
                    border: 3px solid ${dropColor};
                    box-shadow: 0 0 10px ${dropColor}40;
                `;
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥—Ä–æ–ø–∞ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
                loadDropImage(iconEl, item.image);
                
                // Add click event to open item menu
                itemEl.addEventListener('click', () => {
                    openItemMenu(index);
                });
                
                itemEl.appendChild(iconEl);
                
                // –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è –∏ —Ü–µ–Ω—ã
                const nameEl = document.createElement('div');
                nameEl.textContent = item.name;
                nameEl.style.cssText = 'font-size: 12px; text-align: center; margin-bottom: 4px; word-wrap: break-word; line-height: 1.2; max-width: 100px;';
                itemEl.appendChild(nameEl);
                
                const valueEl = document.createElement('div');
                valueEl.textContent = `${item.value} ÍôÆ`;
                valueEl.style.cssText = 'color: #ffd700; font-size: 11px; text-align: center; font-weight: bold;';
                itemEl.appendChild(valueEl);
                
                inventoryGrid.appendChild(itemEl);
            });
        }
        
        // üö´ –ü–û–ö–ê–ó–´–í–ê–ï–ú –ê–†–ï–°–¢–û–í–ê–ù–ù–´–ô –ò–ù–í–ï–ù–¢–ê–†–¨
        function showArrestedInventory() {
            const inventoryGrid = document.getElementById('inventoryGrid');
            
            const arrestBanner = document.createElement('div');
            arrestBanner.style.cssText = `
                grid-column: 1 / -1;
                background: linear-gradient(135deg, #e74c3c, #c0392b);
                border: 3px solid #fff;
                border-radius: 15px;
                padding: 30px;
                text-align: center;
                animation: arrestPulse 2s ease-in-out infinite;
                margin: 20px 0;
                box-shadow: 0 5px 20px rgba(231, 76, 60, 0.5);
            `;
            
            arrestBanner.innerHTML = `
                <h3 style="color: #fff; font-size: 24px; margin-bottom: 15px; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
                    üö´ –í–ê–®–ï –ò–ú–£–©–ï–°–¢–í–û –ê–†–ï–°–¢–û–í–ê–ù–û! üö´
                </h3>
                <p style="color: #fff; font-size: 16px; margin-bottom: 20px; line-height: 1.4; text-shadow: 1px 1px 2px rgba(0,0,0,0.7);">
                    –ó–∞ –Ω–µ—É–ø–ª–∞—Ç—É –≥–æ—Å–¥–æ–ª–≥–∞ –°–ü–û –∫–æ–Ω—Ñ–∏—Å–∫–æ–≤–∞–ª–æ –≤–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å.<br>
                    <strong style="color: #ffeb3b;">–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è –¥–æ–ª–≥–æ–≤!</strong>
                </p>
                <div style="
                    background: rgba(255,255,255,0.2);
                    border-radius: 10px;
                    padding: 15px;
                    margin-bottom: 20px;
                    border: 1px solid rgba(255,255,255,0.3);
                ">
                    <p style="color: #fff; font-size: 14px; margin: 0; line-height: 1.3;">
                        üì¶ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: <strong>${inventory.length}</strong><br>
                        üí∞ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: <strong>${inventory.reduce((sum, item) => sum + item.value, 0)} ÍôÆ</strong><br>
                        üîí –î–æ—Å—Ç—É–ø –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–∫–∞—è–Ω–∏—è
                    </p>
                </div>
                <div style="
                    background: rgba(0,0,0,0.3);
                    border-radius: 8px;
                    padding: 10px;
                    border: 1px solid rgba(255,255,255,0.2);
                ">
                    <p style="color: #ffd700; font-size: 12px; margin: 0; font-style: italic;">
                        ‚öñÔ∏è "–°–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—å–µ 228 –£–ö –°–ü–û, –Ω–µ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∏ –≥–æ—Å–¥–æ–ª–≥–∞<br>
                        –ø–æ–¥–ª–µ–∂–∞—Ç –∫–æ–Ω—Ñ–∏—Å–∫–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞."
                    </p>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –∞—Ä–µ—Å—Ç–∞
            if (!document.getElementById('arrest-pulse-style')) {
                const style = document.createElement('style');
                style.id = 'arrest-pulse-style';
                style.textContent = `
                    @keyframes arrestPulse {
                        0%, 100% { 
                            transform: scale(1);
                            box-shadow: 0 5px 20px rgba(231, 76, 60, 0.5);
                        }
                        50% { 
                            transform: scale(1.02);
                            box-shadow: 0 8px 30px rgba(231, 76, 60, 0.8), 0 0 40px rgba(231, 76, 60, 0.3);
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            inventoryGrid.appendChild(arrestBanner);
            
            console.log('üö´ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∞—Ä–µ—Å—Ç–æ–≤–∞–Ω! –ü–æ–∫–∞–∑–∞–Ω –±–∞–Ω–Ω–µ—Ä –∫–æ–Ω—Ñ–∏—Å–∫–∞—Ü–∏–∏');
        }

        function openItemMenu(index) {
            // üö´ –ë–õ–û–ö–ò–†–£–ï–ú –ú–ï–ù–Æ –ü–†–ï–î–ú–ï–¢–û–í –ü–†–ò –ê–†–ï–°–¢–ï
            if (isBlocked) {
                showArrestMessage();
                return;
            }
            
            if (index >= 0 && index < inventory.length) {
                selectedInventoryIndex = index;
                const item = inventory[index];
                
                const itemMenuModal = document.getElementById('itemMenuModal');
                const itemMenuImage = document.getElementById('itemMenuImage');
                const itemMenuName = document.getElementById('itemMenuName');
                const itemMenuValue = document.getElementById('itemMenuValue');
                
                // Set up item image
                // üé® –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ü–µ–Ω—É –∫–µ–π—Å–∞ –¥–ª—è –¥—Ä–æ–ø–∞
                const dropColor = getDropValueColor(item, item.casePrice || 200);
                itemMenuImage.style.background = dropColor;
                itemMenuImage.style.border = `3px solid ${dropColor}`;
                itemMenuImage.style.boxShadow = `0 0 15px ${dropColor}40`;
                itemMenuImage.innerHTML = '';
                itemMenuImage.style.display = 'flex';
                itemMenuImage.style.alignItems = 'center';
                itemMenuImage.style.justifyContent = 'center';
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥—Ä–æ–ø–∞
                loadDropImage(itemMenuImage, item.image);
                
                itemMenuName.textContent = item.name;
                itemMenuValue.textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${item.value} ÍôÆ`;
                
                itemMenuModal.classList.add('active');
            }
        }
        
        // üö´ –ü–û–ö–ê–ó–´–í–ê–ï–ú –°–û–û–ë–©–ï–ù–ò–ï –û –ë–õ–û–ö–ò–†–û–í–ö–ï –ò–ù–í–ï–ù–¢–ê–†–Ø
        function showArrestMessage() {
            const message = document.createElement('div');
            message.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #e74c3c, #c0392b);
                border: 3px solid #fff;
                border-radius: 15px;
                padding: 25px;
                z-index: 10006;
                text-align: center;
                max-width: 400px;
                width: 90vw;
                box-shadow: 0 10px 30px rgba(0,0,0,0.8);
                animation: arrestShake 0.5s ease-in-out;
            `;
            
            message.innerHTML = `
                <h3 style="color: #fff; font-size: 22px; margin-bottom: 15px;">üö´ –î–û–°–¢–£–ü –ó–ê–ü–†–ï–©–Å–ù! üö´</h3>
                <p style="color: #fff; font-size: 16px; margin-bottom: 20px; line-height: 1.4;">
                    –í–∞—à–µ –∏–º—É—â–µ—Å—Ç–≤–æ –∞—Ä–µ—Å—Ç–æ–≤–∞–Ω–æ –°–ü–û!<br>
                    <strong style="color: #ffeb3b;">–ü—Ä–µ–¥–º–µ—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è –¥–æ–ª–≥–æ–≤!</strong>
                </p>
                <div style="
                    background: rgba(255,255,255,0.2);
                    border-radius: 8px;
                    padding: 12px;
                    margin-bottom: 20px;
                ">
                    <p style="color: #ffd700; font-size: 13px; margin: 0;">
                        üîí –î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–∫–∞–π—Ç–µ—Å—å –∏ –ø–æ–≥–∞—Å–∏—Ç–µ –¥–æ–ª–≥–∏
                    </p>
                </div>
                <button onclick="this.parentElement.remove()" style="
                    background: #fff;
                    color: #e74c3c;
                    border: none;
                    padding: 12px 25px;
                    border-radius: 10px;
                    font-size: 16px;
                    font-weight: bold;
                    cursor: pointer;
                    transition: all 0.3s ease;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    üò§ –ü–æ–Ω—è–ª!
                </button>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç—Ä—è—Å–∫–∏
            if (!document.getElementById('arrest-shake-style')) {
                const style = document.createElement('style');
                style.id = 'arrest-shake-style';
                style.textContent = `
                    @keyframes arrestShake {
                        0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
                        10% { transform: translate(-50%, -50%) rotate(-1deg); }
                        20% { transform: translate(-50%, -50%) rotate(1deg); }
                        30% { transform: translate(-50%, -50%) rotate(-1deg); }
                        40% { transform: translate(-50%, -50%) rotate(1deg); }
                        50% { transform: translate(-50%, -50%) rotate(-1deg); }
                        60% { transform: translate(-50%, -50%) rotate(1deg); }
                        70% { transform: translate(-50%, -50%) rotate(-1deg); }
                        80% { transform: translate(-50%, -50%) rotate(1deg); }
                        90% { transform: translate(-50%, -50%) rotate(-1deg); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(message);
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–∏—Ä–∞–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (document.body.contains(message)) {
                    document.body.removeChild(message);
                }
            }, 4000);
            
            console.log('üö´ –ü–æ–∫–∞–∑–∞–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è');
        }

        function sellItemFromMenu() {
            if (selectedInventoryIndex >= 0 && selectedInventoryIndex < inventory.length) {
                const item = inventory[selectedInventoryIndex];
                balance += item.value;
                inventory.splice(selectedInventoryIndex, 1);
                updateBalance();
                updateInventory();
                addToWinglist(item);
                saveGameData(); // Save when selling from menu
                closeItemMenu();
                
                // üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏
                checkZeroBalance();
                
                // üí° –ü–†–û–í–ï–†–Ø–ï–ú –û–¢–õ–û–ñ–ï–ù–ù–£–Æ –ü–û–î–°–ö–ê–ó–ö–£ –ü–û–°–õ–ï –î–ï–ô–°–¢–í–ò–Ø
                checkPendingBonusHint();
            }
        }

        function closeItemMenu() {
            document.getElementById('itemMenuModal').classList.remove('active');
            selectedInventoryIndex = -1;
        }

        function sellInventoryItem(index) {
            if (index >= 0 && index < inventory.length) {
                const item = inventory[index];
                balance += item.value;
                inventory.splice(index, 1);
                updateBalance();
                updateInventory();
                addToWinglist(item);
            }
        }

        // üé® –§–£–ù–ö–¶–ò–Ø –ü–û–õ–£–ß–ï–ù–ò–Ø –¶–ï–ù–´ –¢–ï–ö–£–©–ï–ì–û –û–¢–ö–†–´–¢–û–ì–û –ö–ï–ô–°–ê
        function getCurrentCasePrice() {
            return currentCasePrice;
        }
        
        // üé® –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –¶–í–ï–¢–û–í –î–†–û–ü–û–í –ü–û –ü–†–ò–ë–´–õ–¨–ù–û–°–¢–ò
        function getDropValueColor(item, casePrice) {
            const value = item.value;
            const price = casePrice || 120; // –¶–µ–Ω–∞ –∫–µ–π—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            
            console.log(`üé® –†–∞—Å—á—ë—Ç —Ü–≤–µ—Ç–∞: –¥—Ä–æ–ø ${item.name} ${value} ÍôÆ vs –∫–µ–π—Å ${price} ÍôÆ`);
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –ñ–ê–õ–û
            if (price === 150) { // –ö–µ–π—Å –ñ–∞–ª–æ
                if (['–ö—Å–∏–≤–∞', '–ü—Ä–æ–±–∏—Ä–∫–∞'].includes(item.name)) {
                    console.log(`üî¥ –ñ–ê–õ–û –£–ë–´–¢–û–ß–ù–´–ô: ${item.name} = –∫—Ä–∞—Å–Ω—ã–π`);
                    return '#e74c3c';
                } else if (['–§—É—Ä–∞–∂–∫–∞', '–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä'].includes(item.name)) {
                    console.log(`üü° –ñ–ê–õ–û –û–ö–£–ü–ê–ï–ú–´–ô: ${item.name} = –∂—ë–ª—Ç—ã–π`);
                    return '#f1c40f';
                } else if (['–ö–æ–∫—Å', '–ü—Ä–æ—Ç–∏–≤–æ–≥–∞–∑', '–ö–æ—Å—Ç—é–º-—Ö–∏–º–∑–∞—â–∏—Ç—ã', '–•–∏–º–∏—á–µ—Å–∫–∏–π –ö–æ–º–ø–ª–µ–∫—Ç'].includes(item.name)) {
                    console.log(`üü¢ –ñ–ê–õ–û –ü–†–ò–ë–´–õ–¨–ù–´–ô: ${item.name} = –∑–µ–ª—ë–Ω—ã–π`);
                    return '#27ae60';
                } else if (['–ñ–∞–ª–æ', '–§–µ–Ω-Dyson'].includes(item.name)) {
                    console.log(`üíé –ñ–ê–õ–û –î–ñ–ï–ö–ü–û–¢: ${item.name} = —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π`);
                    return '#8e44ad';
                }
            }
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –®–ï–†
            if (price === 300) { // –ö–µ–π—Å –®–µ—Ä
                if (['–°—É—à–∫–∞', '–ö–æ—Ä–∑–∏–Ω–∞', '–ë–∞–π–∫–∏ –æ—Ç...'].includes(item.name)) {
                    console.log(`üî¥ –®–ï–† –£–ë–´–¢–û–ß–ù–´–ô: ${item.name} = –∫—Ä–∞—Å–Ω—ã–π`);
                    return '#e74c3c';
                } else if (['–ö–æ–≤—ë—Ä', '–°–∞–º–æ–≤–∞—Ä'].includes(item.name)) {
                    console.log(`üü° –®–ï–† –û–ö–£–ü–ê–ï–ú–´–ô: ${item.name} = –∂—ë–ª—Ç—ã–π`);
                    return '#f1c40f';
                } else if (['–ö—Ä–µ—Å–ª–æ-–®–µ—Ä–∞', 'Tommy'].includes(item.name)) {
                    console.log(`üü¢ –®–ï–† –ü–†–ò–ë–´–õ–¨–ù–´–ô: ${item.name} = –∑–µ–ª—ë–Ω—ã–π`);
                    return '#27ae60';
                } else if (['–§–ª—ç—à–±–µ–∫', '–®–∞—Ä–∏–∫-–®–µ—Ä–∞'].includes(item.name)) {
                    console.log(`üíé –®–ï–† –î–ñ–ï–ö–ü–û–¢: ${item.name} = —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π`);
                    return '#8e44ad';
                }
            }
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –ì–õ–ò–°–¢
            if (price === 130) { // –ö–µ–π—Å –ì–ª–∏—Å—Ç
                if (['–°—Ç—è–∂–∫–∏', '–ö–ª—è–ø'].includes(item.name)) {
                    console.log(`üî¥ –ì–õ–ò–°–¢ –£–ë–´–¢–û–ß–ù–´–ô: ${item.name} = –∫—Ä–∞—Å–Ω—ã–π`);
                    return '#e74c3c';
                } else if (['–ß–∞—Å—Ç—å-—Ç–µ–ª–∞', '–ü–ª—ë—Ç–∫–∞'].includes(item.name)) {
                    console.log(`üü° –ì–õ–ò–°–¢ –û–ö–£–ü–ê–ï–ú–´–ô: ${item.name} = –∂—ë–ª—Ç—ã–π`);
                    return '#f1c40f';
                } else if (['–ú—É—Ä–∞–≤–µ–π', '–¶–µ–ø–∏', '–õ–æ–ø–∞—Ç–∞'].includes(item.name)) {
                    console.log(`üü¢ –ì–õ–ò–°–¢ –ü–†–ò–ë–´–õ–¨–ù–´–ô: ${item.name} = –∑–µ–ª—ë–Ω—ã–π`);
                    return '#27ae60';
                } else if (['–ú–∞–Ω—å—è—á–Ω—ã–π –ù–∞–±–æ—Ä', '–ú–∏–Ω–∏-–ì–ª–∏—Å—Ç', '–ö–∞—Å–∫–∞-–ì–ª–∏—Å—Ç–∞'].includes(item.name)) {
                    console.log(`üíé –ì–õ–ò–°–¢ –î–ñ–ï–ö–ü–û–¢: ${item.name} = —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π`);
                    return '#8e44ad';
                }
            }
            
            // –û–ë–´–ß–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –û–°–¢–ê–õ–¨–ù–´–• –ö–ï–ô–°–û–í
            if (value < price) {
                // üî¥ –£–ë–´–¢–û–ß–ù–´–ï –î–†–û–ü–´ - –∫—Ä–∞—Å–Ω—ã–π
                console.log(`üî¥ –£–ë–´–¢–û–ß–ù–´–ô: ${value} < ${price} = –∫—Ä–∞—Å–Ω—ã–π`);
                return '#e74c3c';
            } else if (value >= price && value < price * 2) {
                // üü° –û–ö–£–ü–ê–ï–ú–´–ï –î–†–û–ü–´ - –∂—ë–ª—Ç—ã–π
                console.log(`üü° –û–ö–£–ü–ê–ï–ú–´–ô: ${value} >= ${price} && < ${price * 2} = –∂—ë–ª—Ç—ã–π`);
                return '#f1c40f';
            } else if (value >= price * 2 && value < price * 5) {
                // üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ï –î–†–û–ü–´ - –∑–µ–ª—ë–Ω—ã–π
                console.log(`üü¢ –ü–†–ò–ë–´–õ–¨–ù–´–ô: ${value} >= ${price * 2} && < ${price * 5} = –∑–µ–ª—ë–Ω—ã–π`);
                return '#27ae60';
            } else {
                // üíé –î–ñ–ï–ö–ü–û–¢–´ - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (–æ—á–µ–Ω—å –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ)
                console.log(`üíé –î–ñ–ï–ö–ü–û–¢: ${value} >= ${price * 5} = —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π`);
                return '#8e44ad';
            }
        }
        
        // üìä –§–£–ù–ö–¶–ò–Ø –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –¢–ò–ü–ê –î–†–û–ü–ê –ü–û –ü–†–ò–ë–´–õ–¨–ù–û–°–¢–ò
        function getDropType(item, casePrice) {
            const value = item.value;
            const price = casePrice || 120;
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –ñ–ê–õ–û
            if (price === 150) { // –ö–µ–π—Å –ñ–∞–ª–æ
                if (['–ö—Å–∏–≤–∞', '–ü—Ä–æ–±–∏—Ä–∫–∞'].includes(item.name)) {
                    return 'loss';      // üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ
                } else if (['–§—É—Ä–∞–∂–∫–∞', '–†–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä'].includes(item.name)) {
                    return 'breakeven'; // üü° –û–∫—É–ø–∞–µ–º—ã–µ
                } else if (['–ö–æ–∫—Å', '–ü—Ä–æ—Ç–∏–≤–æ–≥–∞–∑', '–ö–æ—Å—Ç—é–º-—Ö–∏–º–∑–∞—â–∏—Ç—ã', '–•–∏–º–∏—á–µ—Å–∫–∏–π –ö–æ–º–ø–ª–µ–∫—Ç'].includes(item.name)) {
                    return 'profit';    // üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ
                } else if (['–ñ–∞–ª–æ', '–§–µ–Ω-Dyson'].includes(item.name)) {
                    return 'jackpot';   // üíé –î–∂–µ–∫–ø–æ—Ç—ã
                }
            }
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –®–ï–†
            if (price === 300) { // –ö–µ–π—Å –®–µ—Ä
                if (['–°—É—à–∫–∞', '–ö–æ—Ä–∑–∏–Ω–∞', '–ë–∞–π–∫–∏ –æ—Ç...'].includes(item.name)) {
                    return 'loss';      // üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ
                } else if (['–ö–æ–≤—ë—Ä', '–°–∞–º–æ–≤–∞—Ä'].includes(item.name)) {
                    return 'breakeven'; // üü° –û–∫—É–ø–∞–µ–º—ã–µ
                } else if (['–ö—Ä–µ—Å–ª–æ-–®–µ—Ä–∞', 'Tommy'].includes(item.name)) {
                    return 'profit';    // üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ
                } else if (['–§–ª—ç—à–±–µ–∫', '–®–∞—Ä–∏–∫-–®–µ—Ä–∞'].includes(item.name)) {
                    return 'jackpot';   // üíé –î–∂–µ–∫–ø–æ—Ç—ã
                }
            }
            
            // –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –ö–ï–ô–°–ê –ì–õ–ò–°–¢
            if (price === 130) { // –ö–µ–π—Å –ì–ª–∏—Å—Ç
                if (['–°—Ç—è–∂–∫–∏', '–ö–ª—è–ø'].includes(item.name)) {
                    return 'loss';      // üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ
                } else if (['–ß–∞—Å—Ç—å-—Ç–µ–ª–∞', '–ü–ª—ë—Ç–∫–∞'].includes(item.name)) {
                    return 'breakeven'; // üü° –û–∫—É–ø–∞–µ–º—ã–µ
                } else if (['–ú—É—Ä–∞–≤–µ–π', '–¶–µ–ø–∏', '–õ–æ–ø–∞—Ç–∞'].includes(item.name)) {
                    return 'profit';    // üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ
                } else if (['–ú–∞–Ω—å—è—á–Ω—ã–π –ù–∞–±–æ—Ä', '–ú–∏–Ω–∏-–ì–ª–∏—Å—Ç', '–ö–∞—Å–∫–∞-–ì–ª–∏—Å—Ç–∞'].includes(item.name)) {
                    return 'jackpot';   // üíé –î–∂–µ–∫–ø–æ—Ç—ã
                }
            }
            
            // –û–ë–´–ß–ù–ê–Ø –õ–û–ì–ò–ö–ê –î–õ–Ø –û–°–¢–ê–õ–¨–ù–´–• –ö–ï–ô–°–û–í
            if (value < price) {
                return 'loss';      // üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ
            } else if (value >= price && value < price * 2) {
                return 'breakeven'; // üü° –û–∫—É–ø–∞–µ–º—ã–µ
            } else if (value >= price * 2 && value < price * 5) {
                return 'profit';    // üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ
            } else {
                return 'jackpot';   // üíé –î–∂–µ–∫–ø–æ—Ç—ã
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º
        function getRarityColor(rarity) {
            switch (rarity) {
                case 'common': return '#e74c3c';    // –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è –æ–±—ã—á–Ω—ã—Ö
                case 'rare': return '#f1c40f';      // –ñ—ë–ª—Ç—ã–π –¥–ª—è —Ä–µ–¥–∫–∏—Ö
                case 'epic': return '#27ae60';      // –ó–µ–ª—ë–Ω—ã–π –¥–ª—è —ç–ø–∏—á–µ—Å–∫–∏—Ö
                case 'legendary': return '#8e44ad'; // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –¥–ª—è –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã—Ö
                default: return '#95a5a6';
            }
        }

        // üîä –ó–í–£–ö –û–®–ò–ë–ö–ò –ü–†–ò –ù–ï–î–û–°–¢–ê–¢–ö–ï –°–†–ï–î–°–¢–í
        function playErrorSound() {
            // üîá –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –ó–í–£–ö–û–í
            if (fastSpinActive || soundsGloballyBlocked) {
                console.log('üîá –ó–≤—É–∫ –æ—à–∏–±–∫–∏ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞');
                return;
            }
            
            const errorAudio = new Audio();
            errorAudio.volume = 0.5;
            errorAudio.src = 'error.mp3';
            
            const playPromise = errorAudio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    console.log('üîä error.mp3 —É—Å–ø–µ—à–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!');
                }).catch(() => {
                    console.log('‚ùå error.mp3 –Ω–µ –Ω–∞–π–¥–µ–Ω - —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å');
                });
            }
        }

        // –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–≤—É–∫–æ–≤ - —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ
        let rollSound = null;
        let dropSound = null;
        let errorSound = null;
        let fastSpinActive = false; // –§–ª–∞–≥ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

        // üîä –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ó–í–£–ö –†–£–õ–ï–¢–ö–ò –° –£–ú–ï–ù–¨–®–ï–ù–ù–û–ô –ì–†–û–ú–ö–û–°–¢–¨–Æ
        function playRouletteSound() {
            console.log('üéµ –ó–∞–ø—É—Å–∫ –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏...');
            
            // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–í–£–ö–ò –†–£–õ–ï–¢–ö–ò –¢–û–õ–¨–ö–û –í–ù–£–¢–†–ò –†–£–õ–ï–¢–ö–ò!
            if (!rouletteProtection || fastSpinActive || soundsGloballyBlocked) {
                console.log('üîá –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù - –≤–Ω–µ —Ä—É–ª–µ—Ç–∫–∏, –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∞—É–¥–∏–æ –æ–±—ä–µ–∫—Ç –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (!rollSound) {
                rollSound = new Audio();
                rollSound.volume = 0.25; // –£–º–µ–Ω—å—à–µ–Ω–æ —Å 0.4 –¥–æ 0.25 (45% –æ—Ç 55%)
                rollSound.loop = false;
                rollSound.preload = 'auto';
            }
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–≤—É–∫ –µ—Å–ª–∏ –∏–≥—Ä–∞–µ—Ç
            if (!rollSound.paused) {
                rollSound.pause();
                rollSound.currentTime = 0;
            }
            
            // –°–†–ê–ó–£ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫
            rollSound.src = 'roulette_sound.mp3';
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
            rollSound.addEventListener('canplaythrough', function onCanPlay() {
                rollSound.removeEventListener('canplaythrough', onCanPlay);
                console.log('‚úÖ roulette_sound.mp3 –∑–∞–≥—Ä—É–∂–µ–Ω, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º...');
                
                // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–ï–†–ï–î –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–ï–ú
                if (fastSpinActive) {
                    console.log('üîá –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞');
                    rollSound.pause();
                    rollSound.currentTime = 0;
                    return;
                }
                
                const playPromise = rollSound.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        console.log('üîä –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ —É—Å–ø–µ—à–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!');
                    }).catch(error => {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏:', error);
                    });
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–∫–∏
            rollSound.addEventListener('error', function onError() {
                console.log('‚ùå roulette_sound.mp3 –Ω–µ –Ω–∞–π–¥–µ–Ω - —Ä—É–ª–µ—Ç–∫–∞ –±–µ–∑ –∑–≤—É–∫–∞');
            });
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
            rollSound.load();
        }

        // üéµ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ó–í–£–ö –í–´–ü–ê–î–ï–ù–ò–Ø –î–†–û–ü–ê
        function playDropSound() {
            console.log('üéµ –ó–∞–ø—É—Å–∫ –∑–≤—É–∫–∞ –¥—Ä–æ–ø–∞...');
            
            // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–í–£–ö–ò –î–†–û–ü–ê –¢–û–õ–¨–ö–û –í–ù–£–¢–†–ò –†–£–õ–ï–¢–ö–ò –ò –ü–†–ò –í–´–ü–ê–î–ï–ù–ò–ò!
            if (!rouletteProtection || fastSpinActive || soundsGloballyBlocked || currentItem === null) {
                console.log('üîá –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù - –≤–Ω–µ —Ä—É–ª–µ—Ç–∫–∏, –Ω–µ—Ç –¥—Ä–æ–ø–∞, –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞');
                return;
            }
            
            // üîá –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –ü–†–ï–î–´–î–£–©–ò–ô –ó–í–£–ö –î–†–û–ü–ê –ï–°–õ–ò –ò–ì–†–ê–ï–¢
            if (dropSound && !dropSound.paused) {
                dropSound.pause();
                dropSound.currentTime = 0;
                console.log('üîá –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–≤—É–∫ –¥—Ä–æ–ø–∞');
            }
            
            // –°–æ–∑–¥–∞–µ–º –ù–û–í–´–ô –∞—É–¥–∏–æ –æ–±—ä–µ–∫—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ - —ç—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ø–æ–≤—Ç–æ—Ä—ã
            dropSound = new Audio();
            dropSound.volume = 0.6;
            dropSound.preload = 'auto';
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –µ—Å–ª–∏ –∏–≥—Ä–∞–µ—Ç
            if (rollSound && !rollSound.paused) {
                rollSound.pause();
                rollSound.currentTime = 0;
            }
            
            dropSound.addEventListener('canplaythrough', function onCanPlay() {
                dropSound.removeEventListener('canplaythrough', onCanPlay);
                console.log('‚úÖ drop_sound.mp3 –∑–∞–≥—Ä—É–∂–µ–Ω, –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º...');
                
                // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ü–ï–†–ï–î –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–ï–ú
                if (fastSpinActive) {
                    console.log('üîá –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞');
                    dropSound.pause();
                    dropSound.currentTime = 0;
                    return;
                }
                
                const playPromise = dropSound.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        console.log('üîä –ó–≤—É–∫ –¥—Ä–æ–ø–∞ —É—Å–ø–µ—à–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!');
                    }).catch(error => {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è drop_sound.mp3:', error);
                    });
                }
            });
            
            dropSound.addEventListener('error', function onError() {
                console.log('‚ùå drop_sound.mp3 –Ω–µ –Ω–∞–π–¥–µ–Ω');
            });
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ –∑–∞–≥—Ä—É–∂–∞–µ–º
            dropSound.src = 'drop_sound.mp3';
            dropSound.load();
        }
        
        // üîá –§–£–ù–ö–¶–ò–Ø –û–°–¢–ê–ù–û–í–ö–ò –ó–í–£–ö–ê –î–†–û–ü–ê
        function stopDropSound() {
            if (dropSound && !dropSound.paused) {
                dropSound.pause();
                dropSound.currentTime = 0;
                console.log('üîá –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
            }
            
            // –¢–∞–∫–∂–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞
            if (flashbackDropSound && !flashbackDropSound.paused) {
                flashbackDropSound.pause();
                flashbackDropSound.currentTime = 0;
                console.log('üîá –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
            }
        }
        
        // ‚ö° –§–£–ù–ö–¶–ò–Ø –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ò (–ë–ï–ó –ó–í–£–ö–û–í)
        window.fastSpin = function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ä—É–ª–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑–∞–Ω
            if (!rouletteProtection || currentItem !== null) {
                console.log('‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - —Ä—É–ª–µ—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∏–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –ø–æ–∫–∞–∑–∞–Ω');
                return;
            }
            
            console.log('‚ö° –ë–´–°–¢–†–ê–Ø –ü–†–û–ö–†–£–¢–ö–ê –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–ê - –ó–í–£–ö–ò –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–´!');
            fastSpinActive = true;
            soundsGloballyBlocked = true; // –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –ó–í–£–ö–û–í!
            
            // üîá –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –í–°–ï –ó–í–£–ö–ò –ù–ï–ú–ï–î–õ–ï–ù–ù–û
            stopAllSoundsImmediately();
            
            // –£–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
            const fastBtn = document.getElementById('fast-spin-btn');
            if (fastBtn) {
                fastBtn.style.display = 'none';
            }
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∏ —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
            const rouletteStrip = document.getElementById('rouletteStrip');
            if (rouletteStrip) {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                rouletteStrip.style.transition = 'none';
                
                // üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü–û–õ–£–ß–ê–ï–ú –î–†–û–ü –ò–ú–ï–ù–ù–û –ò–ó –¢–ï–ö–£–©–ï–ô –†–£–õ–ï–¢–ö–ò!
                let actualWinningItem = null;
                const rouletteItemsData = rouletteStrip.dataset.items;
                
                console.log(`üîç –û–¢–õ–ê–î–ö–ê: –î–∞–Ω–Ω—ã–µ —Ä—É–ª–µ—Ç–∫–∏ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ:`, rouletteItemsData ? '–ï–°–¢–¨' : '–ù–ï–¢');
                
                if (rouletteItemsData && rouletteItemsData.trim() !== '') {
                    try {
                        const rouletteItems = JSON.parse(rouletteItemsData);
                        console.log(`üîç –û–¢–õ–ê–î–ö–ê: –†–∞—Å–ø–∞—Ä—Å–∏–ª–∏ ${rouletteItems.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä—É–ª–µ—Ç–∫–∏`);
                        
                        if (rouletteItems && rouletteItems.length > 15) {
                            actualWinningItem = rouletteItems[15]; // 15-–π —ç–ª–µ–º–µ–Ω—Ç —ç—Ç–æ –≤—Å–µ–≥–¥–∞ —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
                            console.log(`üéØ –û–¢–õ–ê–î–ö–ê: –ü–æ–ª—É—á–µ–Ω –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π –¥—Ä–æ–ø –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ 15:`, actualWinningItem);
                        } else {
                            console.log(`‚ùå –û–¢–õ–ê–î–ö–ê: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ä—É–ª–µ—Ç–∫–µ: ${rouletteItems ? rouletteItems.length : 0}`);
                        }
                    } catch (e) {
                        console.log('‚ùå –û–¢–õ–ê–î–ö–ê: –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö —Ä—É–ª–µ—Ç–∫–∏:', e);
                        console.log('‚ùå –û–¢–õ–ê–î–ö–ê: –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:', rouletteItemsData);
                    }
                } else {
                    console.log('‚ùå –û–¢–õ–ê–î–ö–ê: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Ä—É–ª–µ—Ç–∫–∏! dataset.items –ø—É—Å—Ç –∏–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                }
                
                if (actualWinningItem && actualWinningItem.name) {
                    // üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü–û–õ–ù–û–°–¢–¨–Æ –û–ë–ù–£–õ–Ø–ï–ú –°–¢–ê–†–´–ô currentItem –ü–ï–†–ï–î –£–°–¢–ê–ù–û–í–ö–û–ô –ù–û–í–û–ì–û!
                    console.log(`üßπ –û–ß–ò–°–¢–ö–ê: –°—Ç–∞—Ä—ã–π currentItem: ${currentItem ? currentItem.name : 'null'}`);
                    currentItem = null; // –°–ù–ê–ß–ê–õ–ê –û–ë–ù–£–õ–Ø–ï–ú!
                    console.log(`üßπ –û–ß–ò–°–¢–ö–ê: currentItem –æ–±–Ω—É–ª—ë–Ω`);
                    
                    // –¢–ï–ü–ï–†–¨ –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –ù–û–í–´–ô –î–†–û–ü –ò–ó –¢–ï–ö–£–©–ï–ô –†–£–õ–ï–¢–ö–ò
                    currentItem = {
                        name: actualWinningItem.name,
                        image: actualWinningItem.image,
                        rarity: actualWinningItem.rarity,
                        value: actualWinningItem.value,
                        chance: actualWinningItem.chance
                    };
                    console.log(`üéØ –ë–´–°–¢–†–ê–Ø –ü–†–û–ö–†–£–¢–ö–ê: –ù–û–í–´–ô currentItem —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–∑ –¢–ï–ö–£–©–ï–ô —Ä—É–ª–µ—Ç–∫–∏: ${currentItem.name} (${currentItem.value} ÍôÆ)`);
                    
                    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ä—É–ª–µ—Ç–∫—É –Ω–∞ –≤—ã–∏–≥—Ä—ã—à–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ
                    const winningElement = rouletteStrip.children[15];
                    if (winningElement) {
                        const itemWidth = 150;
                        const containerWidth = document.querySelector('.roulette-container').offsetWidth;
                        const centerPosition = containerWidth / 2;
                        const offset = -(15 * itemWidth) + centerPosition - (itemWidth / 2);
                        
                        rouletteStrip.style.transform = `translateX(${offset}px)`;
                        
                        // –í—ã–¥–µ–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
                        winningElement.style.transform = 'scale(1.1)';
                        winningElement.style.filter = 'brightness(1.3)';
                        winningElement.style.boxShadow = '0 0 20px rgba(255, 215, 0, 0.8)';
                    }
                    
                    console.log(`üéØ –ë–´–°–¢–†–ê–Ø –ü–†–û–ö–†–£–¢–ö–ê: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥—Ä–æ–ø ${currentItem.name} –ë–ï–ó –ó–í–£–ö–û–í`);
                    
                    // –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                    setTimeout(() => {
                        showResult(currentItem);
                        rouletteProtection = false;
                        unblockRouletteEscape();
                        // –ù–ï –°–ë–†–ê–°–´–í–ê–ï–ú fastSpinActive –ó–î–ï–°–¨! –¢–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–µ–π—Å—Ç–≤–∏—è!
                        console.log('‚ö° –ë–´–°–¢–†–ê–Ø –ü–†–û–ö–†–£–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê, currentItem —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ë–ï–ó –ó–í–£–ö–û–í');
                    }, 100);
                } else {
                    console.log('‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π –¥—Ä–æ–ø –∏–∑ –¢–ï–ö–£–©–ï–ô —Ä—É–ª–µ—Ç–∫–∏!');
                    console.log('‚ùå –û–¢–õ–ê–î–ö–ê: actualWinningItem:', actualWinningItem);
                    
                    // –ê–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ä—É–ª–µ—Ç–∫–∏
                    hideResult();
                    fastSpinActive = false;
                    soundsGloballyBlocked = false;
                }
            } else {
                console.log('‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –≠–ª–µ–º–µ–Ω—Ç rouletteStrip –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                fastSpinActive = false;
                soundsGloballyBlocked = false;
            }
        };
        
        // üèÜ –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê –†–£–õ–ï–¢–ö–ò
        function showRouletteResult(actualWinningItem) {
            // –ü–û–ö–ê–ó–´–í–ê–ï–ú –†–ï–ê–õ–¨–ù–´–ô –í–´–ò–ì–†–´–®–ù–´–ô –î–†–û–ü
            console.log(`üèÜ –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢: ${actualWinningItem.name} (${actualWinningItem.value} ÍôÆ, —à–∞–Ω—Å ${actualWinningItem.chance || 'N/A'}%)`);
            
            // üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú currentItem –î–õ–Ø –ù–û–†–ú–ê–õ–¨–ù–û–ô –ü–†–û–ö–†–£–¢–ö–ò!
            currentItem = actualWinningItem;
            console.log(`üéØ –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –ü–†–û–ö–†–£–¢–ö–ê: currentItem —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ ${actualWinningItem.name}`);
            
            // üéµ –ü–†–û–ò–ì–†–´–í–ê–ï–ú –ó–í–£–ö –¢–û–õ–¨–ö–û –ü–†–ò –û–ë–´–ß–ù–û–ô –ü–†–û–ö–†–£–¢–ö–ï
            if (!fastSpinActive) {
                playDropSoundByRarity(actualWinningItem);
            } else {
                console.log('üîá –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ - –∑–≤—É–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã');
                soundPlayed = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∑–≤—É–∫–∞ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
            }
            
            showResult(actualWinningItem);
            
            // üõ°Ô∏è –û–¢–ö–õ–Æ–ß–ê–ï–ú –ó–ê–©–ò–¢–£ –ü–û–°–õ–ï –ü–û–ö–ê–ó–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
            rouletteProtection = false;
            unblockRouletteEscape();
            // –ù–ï –°–ë–†–ê–°–´–í–ê–ï–ú fastSpinActive –ó–î–ï–°–¨! –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–µ–π—Å—Ç–≤–∏—è!
            console.log('üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∑–∞–Ω - –∑–∞—â–∏—Ç–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞, –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ');
        }
        


        // üîá –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–°–¢–ê–ù–û–í–ö–ò –í–°–ï–• –ó–í–£–ö–û–í
        function stopAllSounds() {
            console.log('üîá –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –∑–≤—É–∫–∏...');
            
            try {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏
                if (rollSound) {
                    rollSound.pause();
                    rollSound.currentTime = 0;
                    // –û—á–∏—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                    rollSound.oncanplaythrough = null;
                    rollSound.onerror = null;
                    console.log('üîá –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏:', e);
            }
            
            try {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫ –¥—Ä–æ–ø–∞
                if (dropSound) {
                    dropSound.pause();
                    dropSound.currentTime = 0;
                    // –û—á–∏—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                    dropSound.oncanplaythrough = null;
                    dropSound.onerror = null;
                    console.log('üîá –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ –¥—Ä–æ–ø–∞:', e);
            }
            
            try {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞
                if (flashbackDropSound) {
                    flashbackDropSound.pause();
                    flashbackDropSound.currentTime = 0;
                    // –û—á–∏—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                    flashbackDropSound.oncanplaythrough = null;
                    flashbackDropSound.onerror = null;
                    console.log('üîá –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ –§–ª—ç—à–±–µ–∫–∞:', e);
            }
            
            try {
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫ –æ—à–∏–±–∫–∏
                if (errorSound) {
                    errorSound.pause();
                    errorSound.currentTime = 0;
                    errorSound.oncanplaythrough = null;
                    errorSound.onerror = null;
                    console.log('üîá –ó–≤—É–∫ –æ—à–∏–±–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ –æ—à–∏–±–∫–∏:', e);
            }
            
            console.log('‚úÖ –í—Å–µ –∑–≤—É–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –æ—á–∏—â–µ–Ω—ã!');
        }
        
        // üîá –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í –†–£–õ–ï–¢–ö–ò (–í–ù–ï –†–£–õ–ï–¢–ö–ò –ó–ê–ü–†–ï–©–ï–ù–´!)
        function destroyAllSoundsCompletely() {
            console.log('üí• –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í –†–£–õ–ï–¢–ö–ò!');
            
            // üóëÔ∏è –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –ó–í–£–ö –†–£–õ–ï–¢–ö–ò
            if (rollSound) {
                try {
                    rollSound.pause();
                    rollSound.currentTime = 0;
                    rollSound.loop = false;
                    rollSound.oncanplaythrough = null;
                    rollSound.onerror = null;
                    rollSound.onended = null;
                    rollSound.onloadeddata = null;
                    rollSound.src = '';
                    rollSound.load();
                    rollSound = null; // –ü–û–õ–ù–û–°–¢–¨–Æ –û–ë–ù–£–õ–Ø–ï–ú
                    console.log('üóëÔ∏è –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ï–ù');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏:', e);
                    rollSound = null;
                }
            }
            
            // üóëÔ∏è –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –ó–í–£–ö –î–†–û–ü–ê
            if (dropSound) {
                try {
                    dropSound.pause();
                    dropSound.currentTime = 0;
                    dropSound.loop = false;
                    dropSound.oncanplaythrough = null;
                    dropSound.onerror = null;
                    dropSound.onended = null;
                    dropSound.onloadeddata = null;
                    dropSound.src = '';
                    dropSound.load();
                    dropSound = null; // –ü–û–õ–ù–û–°–¢–¨–Æ –û–ë–ù–£–õ–Ø–ï–ú
                    console.log('üóëÔ∏è –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ï–ù');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∑–≤—É–∫–∞ –¥—Ä–æ–ø–∞:', e);
                    dropSound = null;
                }
            }
            
            // üóëÔ∏è –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –ó–í–£–ö –§–õ–≠–®–ë–ï–ö–ê
            if (flashbackDropSound) {
                try {
                    flashbackDropSound.pause();
                    flashbackDropSound.currentTime = 0;
                    flashbackDropSound.loop = false;
                    flashbackDropSound.oncanplaythrough = null;
                    flashbackDropSound.onerror = null;
                    flashbackDropSound.onended = null;
                    flashbackDropSound.onloadeddata = null;
                    flashbackDropSound.src = '';
                    flashbackDropSound.load();
                    flashbackDropSound = null; // –ü–û–õ–ù–û–°–¢–¨–Æ –û–ë–ù–£–õ–Ø–ï–ú
                    console.log('üóëÔ∏è –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ï–ù');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∑–≤—É–∫–∞ –§–ª—ç—à–±–µ–∫–∞:', e);
                    flashbackDropSound = null;
                }
            }
            
            // üîá –°–ë–†–ê–°–´–í–ê–ï–ú –§–õ–ê–ì –í–û–°–ü–†–û–ò–ó–í–ï–î–ï–ù–ò–Ø
            soundPlayed = false;
            
            console.log('üí•‚úÖ –í–°–ï –ó–í–£–ö–ò –†–£–õ–ï–¢–ö–ò –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ï–ù–´!');
        }
        
        // üîá –í–†–ï–ú–ï–ù–ù–ê–Ø –û–°–¢–ê–ù–û–í–ö–ê –ó–í–£–ö–û–í –î–õ–Ø –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ò
        function stopAllSoundsImmediately() {
            console.log('üí• –í–†–ï–ú–ï–ù–ù–ê–Ø –û–°–¢–ê–ù–û–í–ö–ê –í–°–ï–• –ó–í–£–ö–û–í –î–õ–Ø –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ò!');
            
            // –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫–∏ (–Ω–µ —É–Ω–∏—á—Ç–æ–∂–∞–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é)
            if (rollSound) {
                try {
                    rollSound.pause();
                    rollSound.currentTime = 0;
                    console.log('üîá –ó–≤—É–∫ —Ä—É–ª–µ—Ç–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ —Ä—É–ª–µ—Ç–∫–∏:', e);
                }
            }
            
            if (dropSound) {
                try {
                    dropSound.pause();
                    dropSound.currentTime = 0;
                    console.log('üîá –ó–≤—É–∫ –¥—Ä–æ–ø–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ –¥—Ä–æ–ø–∞:', e);
                }
            }
            
            if (flashbackDropSound) {
                try {
                    flashbackDropSound.pause();
                    flashbackDropSound.currentTime = 0;
                    console.log('üîá –ó–≤—É–∫ –§–ª—ç—à–±–µ–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                } catch (e) {
                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–≤—É–∫–∞ –§–ª—ç—à–±–µ–∫–∞:', e);
                }
            }
            
            soundPlayed = false;
            console.log('üí•‚úÖ –í–°–ï –ó–í–£–ö–ò –í–†–ï–ú–ï–ù–ù–û –û–°–¢–ê–ù–û–í–õ–ï–ù–´ –î–õ–Ø –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ò!');
        }



        // üéµ –°–ò–°–¢–ï–ú–ê –ó–í–£–ö–û–í - –ü–†–û–°–¢–û –ë–ï–ó –ó–í–£–ö–û–í –ü–†–ò –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ï
        let soundPlayed = false; // –§–ª–∞–≥ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–≤—É–∫–æ–≤
        
        function playDropSoundByRarity(item) {
            console.log(`üéµ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–≤—É–∫ –¥–ª—è –¥—Ä–æ–ø–∞: ${item.name}`);
            
            // üîá –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –ó–í–£–ö–û–í
            if (fastSpinActive || soundsGloballyBlocked) {
                console.log('üîá –í–°–ï –ó–í–£–ö–ò –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–´ - –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞');
                soundPlayed = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥
                return;
            }
            
            // ‚ö° –ë–õ–û–ö–ò–†–£–ï–ú –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –ó–í–£–ö–ò
            if (soundPlayed) {
                console.log('üîá –ó–≤—É–∫ —É–∂–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω - –±–ª–æ–∫–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä');
                return;
            }
            
            soundPlayed = true; // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –∑–≤—É–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º
            
            // üé¨ –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ô –ó–í–£–ö –î–õ–Ø –§–õ–≠–®–ë–ï–ö–ê (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—ã—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ)
            if (item.name === '–§–ª—ç—à–±–µ–∫' && !fastSpinActive) {
                console.log('üé¨ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–≤—É–∫ –¥–ª—è –§–ª—ç—à–±–µ–∫–∞!');
                playFlashbackDropSound();
                return;
            }
            
            // –î–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –¥—Ä–æ–ø–æ–≤ - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∑–≤—É–∫ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—ã—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ)
            if (!fastSpinActive) {
                playDropSound();
            }
        }

        // üìä –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –®–ê–ù–°–û–í –î–†–û–ü–û–í
        function showCaseDrops(caseType) {
            const caseItems = items[caseType];
            if (!caseItems) {
                showNoDropsMessage();
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—É –∫–µ–π—Å–∞ –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤
            const casePrice = parseInt(document.querySelector(`[data-case="${caseType}"]`).dataset.price);
            
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.8);
                z-index: 10006;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π—Å–∞
            const caseNames = {
                1: '–•—É—é–Ω—Ç–∏–∫', 2: '–ö–∏–∑–∏–∫', 3: '–ñ–∞–ª–æ', 4: '–®–µ—Ä', 5: '–ì–ª–∏—Å—Ç',
                6: '–ú–µ–æ—Ñ–µ–Ω', 7: '–ß–í–ö', 8: '–ë–µ—Ä–µ–≥', 9: '–ú–æ–ª–æ—Ç', 10: '–í–∏—Ö—Ä—å',
                11: '–ü—Ä–∏–∑—Ä–∞–∫', 12: '–õ—ë–¥', 13: '–û–≥–æ–Ω—å', 14: '–¢–µ–Ω—å', 15: '–°–≤–µ—Ç',
                16: '–•–∞–æ—Å', 17: '–ü–æ—Ä—è–¥–æ–∫', 18: '–í—Ä–µ–º—è', 19: '–ö–æ—Å–º–æ—Å', 20: '–í–µ—á–Ω–æ—Å—Ç—å'
            };
            
            const caseName = caseNames[caseType] || `–ö–µ–π—Å ${caseType}`;
            const isMobile = window.innerWidth <= 768;
            
            modal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #2c3e50, #34495e);
                    border: 3px solid #e74c3c;
                    border-radius: ${isMobile ? '15px' : '20px'};
                    padding: ${isMobile ? '20px 15px' : '30px'};
                    max-width: ${isMobile ? '350px' : '600px'};
                    width: ${isMobile ? '95vw' : 'auto'};
                    max-height: 80vh;
                    overflow-y: auto;
                    text-align: center;
                ">
                    <h2 style="color: #ffd700; font-size: ${isMobile ? '18px' : '24px'}; margin-bottom: ${isMobile ? '15px' : '20px'};">
                        üìä –î–†–û–ü–´ –ö–ï–ô–°–ê "${caseName.toUpperCase()}"
                    </h2>
                    <div style="
                        display: grid;
                        grid-template-columns: ${isMobile ? '1fr' : 'repeat(auto-fit, minmax(250px, 1fr))'};
                        gap: ${isMobile ? '8px' : '12px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                    ">
${(() => {
                            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –¥—Ä–æ–ø—ã –ø–æ —Ü–≤–µ—Ç—É: –∫—Ä–∞—Å–Ω—ã–µ -> –∂—ë–ª—Ç—ã–µ -> –∑–µ–ª—ë–Ω—ã–µ -> —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ
                            const sortedItems = [...caseItems].sort((a, b) => {
                                const colorA = getDropValueColor(a, casePrice);
                                const colorB = getDropValueColor(b, casePrice);
                                
                                const colorOrder = {
                                    '#e74c3c': 1, // –ö—Ä–∞—Å–Ω—ã–µ (—É–±—ã—Ç–æ—á–Ω—ã–µ)
                                    '#f1c40f': 2, // –ñ—ë–ª—Ç—ã–µ (–æ–∫—É–ø–∞–µ–º—ã–µ)
                                    '#27ae60': 3, // –ó–µ–ª—ë–Ω—ã–µ (–ø—Ä–∏–±—ã–ª—å–Ω—ã–µ)
                                    '#8e44ad': 4  // –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ (–¥–∂–µ–∫–ø–æ—Ç—ã)
                                };
                                
                                return (colorOrder[colorA] || 5) - (colorOrder[colorB] || 5);
                            });
                            
                            return sortedItems.map(item => {
                                const dropColor = getDropValueColor(item, casePrice);
                                return `
                                <div style="
                                    background: ${dropColor};
                                    background: linear-gradient(145deg, ${dropColor}, ${dropColor}CC);
                                    border-radius: ${isMobile ? '8px' : '10px'};
                                    padding: ${isMobile ? '10px' : '12px'};
                                    border: 2px solid rgba(255,255,255,0.3);
                                    display: flex;
                                    align-items: center;
                                    gap: ${isMobile ? '8px' : '10px'};
                                    text-align: left;
                                    box-shadow: 0 2px 8px ${dropColor}40;
                                ">
                                    <div style="
                                        width: ${isMobile ? '40px' : '50px'};
                                        height: ${isMobile ? '40px' : '50px'};
                                        background: rgba(255,255,255,0.1);
                                        border-radius: 6px;
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        font-size: ${isMobile ? '16px' : '20px'};
                                        flex-shrink: 0;
                                    ">üì¶</div>
                                    <div style="flex-grow: 1;">
                                        <div style="color: #fff; font-size: ${isMobile ? '12px' : '14px'}; font-weight: bold; line-height: 1.2;">
                                            ${item.name}
                                        </div>
                                        <div style="color: #ffd700; font-size: ${isMobile ? '11px' : '13px'}; margin-top: 2px;">
                                            ${item.value} ÍôÆ
                                        </div>
                                    </div>
                                    <div style="
                                        background: rgba(255,255,255,0.2);
                                        border-radius: 4px;
                                        padding: ${isMobile ? '4px 6px' : '5px 8px'};
                                        font-size: ${isMobile ? '10px' : '12px'};
                                        font-weight: bold;
                                        color: #fff;
                                        text-align: center;
                                        min-width: ${isMobile ? '35px' : '40px'};
                                    ">
                                        ${item.chance}%
                                    </div>
                                </div>`;
                            }).join('');
                        })()}
                    </div>
                    <div style="
                        background: rgba(255,255,255,0.1);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '12px' : '15px'};
                        margin-bottom: ${isMobile ? '15px' : '20px'};
                        text-align: left;
                    ">
                        <h3 style="color: #ffd700; font-size: ${isMobile ? '14px' : '16px'}; margin-bottom: 8px;">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —à–∞–Ω—Å–æ–≤:</h3>
                        <div style="color: #fff; font-size: ${isMobile ? '11px' : '13px'}; line-height: 1.4;">
                            üî¥ –£–±—ã—Ç–æ—á–Ω—ã–µ –¥—Ä–æ–ø—ã: <strong>${(() => {
                                if (caseType == 2) return 30.0; // –ö–∏–∑–∏–∫
                                if (caseType == 3) return 23.0; // –ñ–∞–ª–æ  
                                if (caseType == 4) return 32.0; // –®–µ—Ä
                                if (caseType == 5) return 44.0; // –ì–ª–∏—Å—Ç
                                if (caseType == 7) return 26.0; // –ß–í–ö
                                if (caseType == 20) return 65.0; // –í–µ—á–Ω–æ—Å—Ç—å - –ò–°–ü–†–ê–í–õ–ï–ù–û
                                return caseItems.filter(item => item.rarity !== 'legendary' && item.value < casePrice).reduce((sum, item) => sum + item.chance, 0);
                            })().toFixed(1)}%</strong><br>
                            üü° –û–∫—É–ø–∞–µ–º—ã–µ –¥—Ä–æ–ø—ã: <strong>${(() => {
                                if (caseType == 2) return 45.0; // –ö–∏–∑–∏–∫
                                if (caseType == 3) return 38.0; // –ñ–∞–ª–æ
                                if (caseType == 4) return 33.0; // –®–µ—Ä
                                if (caseType == 5) return 36.5; // –ì–ª–∏—Å—Ç
                                if (caseType == 7) return 30.0; // –ß–í–ö
                                if (caseType == 20) return 25.0; // –í–µ—á–Ω–æ—Å—Ç—å - –ò–°–ü–†–ê–í–õ–ï–ù–û
                                return caseItems.filter(item => item.rarity !== 'legendary' && item.value >= casePrice && item.value < casePrice * 2).reduce((sum, item) => sum + item.chance, 0);
                            })().toFixed(1)}%</strong><br>
                            üü¢ –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ –¥—Ä–æ–ø—ã: <strong>${(() => {
                                if (caseType == 2) return 23.0; // –ö–∏–∑–∏–∫
                                if (caseType == 3) return 38.4; // –ñ–∞–ª–æ
                                if (caseType == 4) return 32.0; // –®–µ—Ä
                                if (caseType == 5) return 16.0; // –ì–ª–∏—Å—Ç
                                if (caseType == 7) return 41.5; // –ß–í–ö
                                if (caseType == 20) return 10.0; // –í–µ—á–Ω–æ—Å—Ç—å - –ò–°–ü–†–ê–í–õ–ï–ù–û
                                return caseItems.filter(item => item.rarity !== 'legendary' && item.value >= casePrice * 2 && item.value < casePrice * 5).reduce((sum, item) => sum + item.chance, 0);
                            })().toFixed(1)}%</strong><br>
                            üíé –î–∂–µ–∫–ø–æ—Ç—ã (Legendary): <strong>${(() => {
                                if (caseType == 2) return 2.0; // –ö–∏–∑–∏–∫
                                if (caseType == 3) return 1.5; // –ñ–∞–ª–æ
                                if (caseType == 4) return 3.0; // –®–µ—Ä
                                if (caseType == 5) return 3.5; // –ì–ª–∏—Å—Ç
                                if (caseType == 7) return 2.5; // –ß–í–ö
                                if (caseType == 20) return 0.5; // –í–µ—á–Ω–æ—Å—Ç—å - –ò–°–ü–†–ê–í–õ–ï–ù–û
                                return caseItems.filter(item => item.rarity === 'legendary').reduce((sum, item) => sum + item.chance, 0);
                            })().toFixed(1)}%</strong>
                        </div>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" style="
                        background: linear-gradient(145deg, #3498db, #2980b9);
                        color: white;
                        border: none;
                        padding: ${isMobile ? '12px 25px' : '15px 30px'};
                        border-radius: ${isMobile ? '10px' : '12px'};
                        font-size: ${isMobile ? '14px' : '16px'};
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        ${isMobile ? 'width: 100%; max-width: 200px;' : ''}
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        üëç –ü–æ–Ω—è—Ç–Ω–æ
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    document.body.removeChild(modal);
                }
            });
            
            console.log(`üìä –ü–æ–∫–∞–∑–∞–Ω—ã –¥—Ä–æ–ø—ã –∫–µ–π—Å–∞ ${caseName} —Å —à–∞–Ω—Å–∞–º–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö`);
        }

        function openCase(caseType, price) {
            if (isBlocked) {
                showDebtMessage('–ö–µ–π—Å—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã! –ü–æ–≥–∞—Å–∏—Ç–µ –¥–æ–ª–≥ –∏–ª–∏ –ø–æ–∫–∞–π—Ç–µ—Å—å!', 'error');
                return;
            }
            
            // üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –ö–£–õ–î–ê–£–ù–ê
            const now = Date.now();
            if (caseCooldowns[caseType] && now - caseCooldowns[caseType] < 2000) {
                console.log(`‚è∞ –ö–µ–π—Å ${caseType} –Ω–∞ –∫—É–ª–¥–∞—É–Ω–µ!`);
                const caseElement = document.querySelector(`[data-case="${caseType}"]`);
                if (caseElement) {
                    caseElement.style.opacity = '0.5';
                    setTimeout(() => {
                        caseElement.style.opacity = '1';
                    }, 300);
                }
                return;
            }
            
            if (balance < price) {
                // –¢–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å - NO ROULETTE
                playErrorSound(); // –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ console.log
                const caseElement = document.querySelector(`[data-case="${caseType}"]`);
                if (caseElement) {
                    caseElement.classList.add('shake');
                    setTimeout(() => {
                        caseElement.classList.remove('shake');
                    }, 500);
                }
                // STOP HERE - don't continue to roulette
                return;
            }

            // üõ°Ô∏è –£–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –ö–£–õ–î–ê–£–ù
            caseCooldowns[caseType] = now;
            console.log(`üîí –ö–µ–π—Å ${caseType} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã`);

            // Only proceed with roulette if balance is sufficient
            balance -= price;
            
            // üé® –°–û–•–†–ê–ù–Ø–ï–ú –¶–ï–ù–£ –û–¢–ö–†–´–í–ê–ï–ú–û–ì–û –ö–ï–ô–°–ê –î–õ–Ø –ü–†–ê–í–ò–õ–¨–ù–´–• –¶–í–ï–¢–û–í!
            currentCasePrice = price;
            console.log(`üé® –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å –∑–∞ ${price} ÍôÆ - —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ü–µ–Ω—É –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Ü–≤–µ—Ç–æ–≤`);
            
            updateBalance();
            
            // üèõÔ∏è –ü–†–û–í–ï–†–Ø–ï–ú –ì–û–°–î–û–õ–ì –ü–û–°–õ–ï –û–¢–ö–†–´–¢–ò–Ø –ö–ï–ô–°–ê
            checkDebtOnCaseOpen();
            
            // üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –í–°–ï–• –°–û–°–¢–û–Ø–ù–ò–ô –ü–ï–†–ï–î –ù–û–í–´–ú –û–¢–ö–†–´–¢–ò–ï–ú!
            currentItem = null; // –û–ë–ù–£–õ–Ø–ï–ú –°–ù–ê–ß–ê–õ–ê!
            fastSpinActive = false; // –°–ë–†–ê–°–´–í–ê–ï–ú –ë–´–°–¢–†–£–Æ –ü–†–û–ö–†–£–¢–ö–£
            soundPlayed = false; // –°–ë–†–ê–°–´–í–ê–ï–ú –ó–í–£–ö–ò
            
            // üõ°Ô∏è –í–ö–õ–Æ–ß–ê–ï–ú –ó–ê–©–ò–¢–£ –†–£–õ–ï–¢–ö–ò
            rouletteProtection = true;
            console.log('üîí –†–£–õ–ï–¢–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–ê! –í—ã—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥—Ä–æ–ø–∞!');
            
            // üö´ –ë–õ–û–ö–ò–†–£–ï–ú ESC –ò –î–†–£–ì–ò–ï –°–ü–û–°–û–ë–´ –ó–ê–ö–†–´–¢–ò–Ø
            blockRouletteEscape();

            const rouletteSection = document.getElementById('rouletteSection');
            const rouletteStrip = document.getElementById('rouletteStrip');
            const rouletteResult = document.getElementById('rouletteResult');
            
            // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–ê–Ø –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –†–£–õ–ï–¢–ö–ò –ò –†–ï–ó–£–õ–¨–¢–ê–¢–û–í!
            rouletteStrip.innerHTML = '';
            rouletteStrip.style.transition = 'none';
            rouletteStrip.style.transform = 'translateX(0)';
            rouletteStrip.dataset.items = '';
            rouletteResult.classList.remove('show');
            
            // üö´ –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê –û–¢ –ü–†–ï–î–´–î–£–©–ò–• –û–¢–ö–†–´–¢–ò–ô
            const resultItemImage = document.getElementById('resultItemImage');
            const resultItemName = document.getElementById('resultItemName');
            const resultItemValue = document.getElementById('resultItemValue');
            
            if (resultItemImage) {
                resultItemImage.style.cssText = '';
                resultItemImage.innerHTML = '';
                resultItemImage.classList.remove('animate');
                resultItemImage.style.background = '';
                resultItemImage.style.border = '';
                resultItemImage.style.boxShadow = '';
                resultItemImage.style.backgroundImage = '';
            }
            if (resultItemName) resultItemName.textContent = '';
            if (resultItemValue) resultItemValue.textContent = '';
            
            console.log('üí• –†–£–õ–ï–¢–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –û–ß–ò–©–ï–ù–ê –ò –û–ë–ù–£–õ–ï–ù–ê –ü–ï–†–ï–î –ù–û–í–´–ú –û–¢–ö–†–´–¢–ò–ï–ú!');
            
            rouletteSection.classList.add('active');

            // üîä –í–û–°–ü–†–û–ò–ó–í–û–î–ò–ú –ó–í–£–ö –†–£–õ–ï–¢–ö–ò
            playRouletteSound();

            // üé≤ –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –í–´–ë–û–†–ê –î–†–û–ü–û–í –ü–û –ü–†–û–¶–ï–ù–¢–ê–ú
            const availableItems = items[caseType];
            const rouletteItems = [];
            
            // üéØ –£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –í–´–ë–û–†–ê –î–†–û–ü–ê –° "–†–ï–ó–ò–ù–û–í–û–ô –≠–ö–û–ù–û–ú–ò–ö–û–ô" –ò –ê–ù–¢–ò–ü–û–í–¢–û–†–ê–ú–ò
            function getRandomItemByChance(items, isMainDrop = false) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ items —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º
                if (!Array.isArray(items) || items.length === 0) {
                    console.log('‚ùå –û—à–∏–±–∫–∞: items –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º –∏–ª–∏ –ø—É—Å—Ç:', items);
                    return null;
                }
                
                // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –¥—Ä–æ–ø–æ–≤ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —à–∞–Ω—Å–æ–≤
                let adjustedItems;
                try {
                    adjustedItems = items.map(item => ({...item}));
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º
                    if (!Array.isArray(adjustedItems)) {
                        console.log('‚ùå –û—à–∏–±–∫–∞: adjustedItems –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º –ø–æ—Å–ª–µ map:', adjustedItems);
                        adjustedItems = [...items]; // –†–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                    }
                } catch (e) {
                    console.log('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–ø–∏–∏ items:', e);
                    adjustedItems = [...items]; // –†–µ–∑–µ—Ä–≤–Ω—ã–π —Å–ø–æ—Å–æ–±
                }
                
                // üî• –°–ò–°–¢–ï–ú–ê "–†–ï–ó–ò–ù–û–í–û–ô –≠–ö–û–ù–û–ú–ò–ö–ò"
                const playerInProfit = economyBalance > 200; // –ò–≥—Ä–æ–∫ —Å–∏–ª—å–Ω–æ –≤ –ø–ª—é—Å–µ
                const playerInLoss = economyBalance < -300;  // –ò–≥—Ä–æ–∫ —Å–∏–ª—å–Ω–æ –≤ –º–∏–Ω—É—Å–µ
                const longLossStreak = economyStreak < -3;   // –î–æ–ª–≥–∞—è —Å–µ—Ä–∏—è –Ω–µ—É–¥–∞—á
                const longWinStreak = economyStreak > 3;     // –î–æ–ª–≥–∞—è —Å–µ—Ä–∏—è –ø–æ–±–µ–¥
                
                console.log(`üéØ –≠–∫–æ–Ω–æ–º–∏–∫–∞: –±–∞–ª–∞–Ω—Å ${economyBalance} ÍôÆ, —Å–µ—Ä–∏—è ${economyStreak}, –ø–æ—Ç—Ä–∞—á–µ–Ω–æ ${totalSpent} ÍôÆ, –≤—ã–∏–≥—Ä–∞–Ω–æ ${totalWon} ÍôÆ`);
                
                // üö´ –ì–õ–û–ë–ê–õ–¨–ù–ê–Ø –ê–ù–¢–ò–ü–û–í–¢–û–†–ù–ê–Ø –°–ò–°–¢–ï–ú–ê
                if (isMainDrop && Array.isArray(recentDrops) && recentDrops.length > 0 && Array.isArray(adjustedItems) && adjustedItems.length > 0) {
                    try {
                        // –°–Ω–∏–∂–∞–µ–º —à–∞–Ω—Å—ã –Ω–µ–¥–∞–≤–Ω–∏—Ö –¥—Ä–æ–ø–æ–≤ –ù–ê 90% –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥—Ä–æ–ø–∞
                        adjustedItems.forEach(item => {
                            if (item && item.name && typeof item.chance === 'number' && Array.isArray(recentDrops)) {
                                const recentDrop = recentDrops.find(recent => recent && recent.name === item.name);
                                if (recentDrop) {
                                    const oldChance = item.chance;
                                    item.chance *= 0.1; // –°–Ω–∏–∂–∞–µ–º —à–∞–Ω—Å –Ω–∞ 90%
                                    console.log(`üö´ –ê–ù–¢–ò–ü–û–í–¢–û–†: ${item.name} —Å–Ω–∏–∂–µ–Ω —Å ${oldChance}% –¥–æ ${item.chance.toFixed(2)}%`);
                                }
                            }
                        });
                    } catch (e) {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤ –∞–Ω—Ç–∏–ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ:', e);
                    }
                }
                
                // üìà –ö–û–†–†–ï–ö–¢–ò–†–£–ï–ú –®–ê–ù–°–´ –í –ó–ê–í–ò–°–ò–ú–û–°–¢–ò –û–¢ –≠–ö–û–ù–û–ú–ò–ö–ò
                if (Array.isArray(adjustedItems) && adjustedItems.length > 0) {
                    try {
                        adjustedItems.forEach(item => {
                            if (!item || typeof item.value !== 'number' || typeof item.chance !== 'number') {
                                return; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
                            }
                            
                            const isGoodDrop = item.value >= currentCasePrice * 1.5; // –ü—Ä–∏–±—ã–ª—å–Ω—ã–π –¥—Ä–æ–ø
                            const isBadDrop = item.value < currentCasePrice * 0.8;   // –£–±—ã—Ç–æ—á–Ω—ã–π –¥—Ä–æ–ø
                            
                            // –ò–≥—Ä–æ–∫ —Å–∏–ª—å–Ω–æ –≤ –º–∏–Ω—É—Å–µ - –ö–û–ú–ü–ï–ù–°–ò–†–£–ï–ú!
                            if (playerInLoss || longLossStreak) {
                                if (isGoodDrop) {
                                    item.chance *= 1.8; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å—ã —Ö–æ—Ä–æ—à–∏—Ö –¥—Ä–æ–ø–æ–≤ –Ω–∞ 80%
                                    console.log(`üìà –ö–û–ú–ü–ï–ù–°–ê–¶–ò–Ø: ${item.name} —à–∞–Ω—Å —É–≤–µ–ª–∏—á–µ–Ω –¥–æ ${item.chance.toFixed(1)}%`);
                                }
                                if (isBadDrop) {
                                    item.chance *= 0.5; // –°–Ω–∏–∂–∞–µ–º —à–∞–Ω—Å—ã –ø–ª–æ—Ö–∏—Ö –¥—Ä–æ–ø–æ–≤ –≤ 2 —Ä–∞–∑–∞
                                    console.log(`üìâ –ö–û–ú–ü–ï–ù–°–ê–¶–ò–Ø: ${item.name} —à–∞–Ω—Å —Å–Ω–∏–∂–µ–Ω –¥–æ ${item.chance.toFixed(1)}%`);
                                }
                            }
                            
                            // –ò–≥—Ä–æ–∫ —Å–∏–ª—å–Ω–æ –≤ –ø–ª—é—Å–µ - –ë–ê–õ–ê–ù–°–ò–†–£–ï–ú
                            else if (playerInProfit || longWinStreak) {
                                if (isGoodDrop) {
                                    item.chance *= 0.7; // –ù–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∂–∞–µ–º —à–∞–Ω—Å—ã —Ö–æ—Ä–æ—à–∏—Ö –¥—Ä–æ–ø–æ–≤
                                    console.log(`‚öñÔ∏è –ë–ê–õ–ê–ù–°: ${item.name} —à–∞–Ω—Å —Å–Ω–∏–∂–µ–Ω –¥–æ ${item.chance.toFixed(1)}%`);
                                }
                                if (isBadDrop) {
                                    item.chance *= 1.3; // –ù–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–Ω—Å—ã –ø–ª–æ—Ö–∏—Ö –¥—Ä–æ–ø–æ–≤
                                    console.log(`‚öñÔ∏è –ë–ê–õ–ê–ù–°: ${item.name} —à–∞–Ω—Å —É–≤–µ–ª–∏—á–µ–Ω –¥–æ ${item.chance.toFixed(1)}%`);
                                }
                            }
                            
                            // –û–±—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ —à–∞–Ω—Å–æ–≤ –¥–ª—è –ª—É—á—à–µ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–ø—ã—Ç–∞
                            else {
                                if (isGoodDrop) {
                                    item.chance *= 1.2; // –ë–∞–∑–æ–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ö–æ—Ä–æ—à–∏—Ö –¥—Ä–æ–ø–æ–≤ –Ω–∞ 20%
                                }
                                if (isBadDrop) {
                                    item.chance *= 0.9; // –ë–∞–∑–æ–≤–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –ø–ª–æ—Ö–∏—Ö –¥—Ä–æ–ø–æ–≤ –Ω–∞ 10%
                                }
                            }
                        });
                    } catch (e) {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–µ —à–∞–Ω—Å–æ–≤:', e);
                    }
                }
                
                // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —à–∞–Ω—Å—ã —á—Ç–æ–±—ã —Å—É–º–º–∞ –±—ã–ª–∞ 100%
                if (Array.isArray(adjustedItems) && adjustedItems.length > 0) {
                    const totalChance = adjustedItems.reduce((sum, item) => {
                        return sum + (item && typeof item.chance === 'number' ? item.chance : 0);
                    }, 0);
                    
                    if (totalChance > 0) {
                        adjustedItems.forEach(item => {
                            if (item && typeof item.chance === 'number') {
                                item.chance = (item.chance / totalChance) * 100;
                            }
                        });
                    }
                }
                
                console.log(`üé≤ –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–Ω—Å—ã –¥–ª—è –∫–µ–π—Å–∞ ${caseType}:`);
                if (Array.isArray(adjustedItems) && adjustedItems.length > 0) {
                    try {
                        adjustedItems.forEach(item => {
                            if (item && item.name && typeof item.chance === 'number') {
                                const originalItem = Array.isArray(items[caseType]) ? 
                                    items[caseType].find(i => i && i.name === item.name) : null;
                                const originalChance = originalItem ? originalItem.chance : 'N/A';
                                console.log(`  ${item.name}: ${item.chance.toFixed(1)}% (–±—ã–ª–æ ${originalChance}%)`);
                            }
                        });
                    } catch (e) {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤ –≤—ã–≤–æ–¥–µ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–Ω—Å–æ–≤:', e);
                    }
                }
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 100
                let random = Math.random() * 100;
                console.log(`üé≤ –í—ã–ø–∞–ª–æ —á–∏—Å–ª–æ: ${random.toFixed(2)}%`);
                
                // –ò—â–µ–º –∫–∞–∫–æ–π –¥—Ä–æ–ø –≤—ã–ø–∞–ª (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —à–∞–Ω—Å—ã)
                let currentChance = 0;
                if (Array.isArray(adjustedItems) && adjustedItems.length > 0) {
                    try {
                        for (let item of adjustedItems) {
                            if (item && typeof item.chance === 'number') {
                                currentChance += item.chance;
                                if (random <= currentChance) {
                                    console.log(`üéØ –í—ã–ø–∞–ª –¥—Ä–æ–ø: ${item.name} (—à–∞–Ω—Å ${item.chance.toFixed(1)}%, —Å—Ç–æ–∏–º–æ—Å—Ç—å ${item.value} ÍôÆ)`);
                                    return item;
                                }
                            }
                        }
                    } catch (e) {
                        console.log('‚ùå –û—à–∏–±–∫–∞ –≤ –ø–æ–∏—Å–∫–µ –¥—Ä–æ–ø–∞:', e);
                    }
                }
                
                // Fallback - —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥—Ä–æ–ø (–Ω–æ –Ω–µ –∏–∑ –Ω–µ–¥–∞–≤–Ω–∏—Ö –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
                console.log('üîÑ Fallback - –±–µ—Ä—ë–º —Å–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥—Ä–æ–ø');
                
                if (isMainDrop && Array.isArray(recentDrops) && recentDrops.length > 0 && Array.isArray(adjustedItems)) {
                    // –ü—ã—Ç–∞–µ–º—Å—è –≤–∑—è—Ç—å –¥—Ä–æ–ø –∫–æ—Ç–æ—Ä—ã–π –ù–ï –≤—ã–ø–∞–¥–∞–ª –Ω–µ–¥–∞–≤–Ω–æ
                    const nonRecentItems = adjustedItems.filter(item => 
                        item && item.name && typeof item.chance === 'number' && 
                        !recentDrops.some(recent => recent && recent.name === item.name)
                    );
                    
                    if (nonRecentItems.length > 0) {
                        const fallbackItem = nonRecentItems.reduce((prev, current) => {
                            if (!prev || !current) return prev || current;
                            return (prev.chance > current.chance) ? prev : current;
                        });
                        if (fallbackItem && fallbackItem.name) {
                            console.log(`üéØ Fallback –≤–∑—è–ª –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –¥—Ä–æ–ø: ${fallbackItem.name}`);
                            return fallbackItem;
                        }
                    }
                }
                
                // –ü–æ—Å–ª–µ–¥–Ω–∏–π fallback - –±–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π –≤–∞–ª–∏–¥–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
                if (Array.isArray(adjustedItems)) {
                    const fallbackItem = adjustedItems.find(item => 
                        item && item.name && typeof item.chance === 'number'
                    );
                    if (fallbackItem) {
                        console.log(`üéØ Fallback –≤–∑—è–ª –≤–∞–ª–∏–¥–Ω—ã–π –¥—Ä–æ–ø: ${fallbackItem.name}`);
                        return fallbackItem;
                    }
                }
                
                console.log('‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤–∞–ª–∏–¥–Ω—ã—Ö –¥—Ä–æ–ø–æ–≤!');
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –±–∞–∑–æ–≤—ã–π –¥—Ä–æ–ø –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
                if (Array.isArray(items) && items.length > 0) {
                    return items[0];
                }
                return null;
            }
            
            // üé∞ –°–û–ó–î–ê–Å–ú –†–£–õ–ï–¢–ö–£ - –°–ù–ê–ß–ê–õ–ê –û–ü–†–ï–î–ï–õ–Ø–ï–ú –í–´–ò–ì–†–´–®!
            const actualWinningItem = getRandomItemByChance(availableItems, true); // true = –æ—Å–Ω–æ–≤–Ω–æ–π –¥—Ä–æ–ø
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–ª—É—á–∏–ª–∏ –≤–∞–ª–∏–¥–Ω—ã–π –¥—Ä–æ–ø
            if (!actualWinningItem) {
                console.log('‚ùå –û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π –¥—Ä–æ–ø!');
                hideResult();
                return;
            }
            
            console.log(`üéØ –†–ï–ê–õ–¨–ù–´–ô –í–´–ò–ì–†–´–®: ${actualWinningItem.name} (${actualWinningItem.value} ÍôÆ, —à–∞–Ω—Å ${actualWinningItem.chance}%)`);
            
            // üö´ –î–û–ë–ê–í–õ–Ø–ï–ú –í –ì–õ–û–ë–ê–õ–¨–ù–´–ô –°–ü–ò–°–û–ö –ù–ï–î–ê–í–ù–ò–• –î–†–û–ü–û–í
            recentDrops.unshift({
                name: actualWinningItem.name,
                timestamp: Date.now()
            });
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö –¥—Ä–æ–ø–æ–≤ –¥–æ 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
            recentDrops = recentDrops.slice(0, 5);
            
            console.log(`üìù –û–±–Ω–æ–≤–ª—ë–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö –¥—Ä–æ–ø–æ–≤:`, recentDrops.map(d => d.name));
            
            // üí∞ –û–ë–ù–û–í–õ–Ø–ï–ú –≠–ö–û–ù–û–ú–ò–ß–ï–°–ö–ò–ô –ë–ê–õ–ê–ù–°
            const profit = actualWinningItem.value - currentCasePrice;
            economyBalance += profit;
            totalSpent += currentCasePrice;
            totalWon += actualWinningItem.value;
            
            if (profit > 0) {
                economyStreak = economyStreak > 0 ? economyStreak + 1 : 1;
                console.log(`üìà –ü—Ä–∏–±—ã–ª—å: +${profit} ÍôÆ, –±–∞–ª–∞–Ω—Å —ç–∫–æ–Ω–æ–º–∏–∫–∏: ${economyBalance} ÍôÆ, —Å–µ—Ä–∏—è: ${economyStreak}`);
            } else {
                economyStreak = economyStreak < 0 ? economyStreak - 1 : -1;
                console.log(`üìâ –£–±—ã—Ç–æ–∫: ${profit} ÍôÆ, –±–∞–ª–∞–Ω—Å —ç–∫–æ–Ω–æ–º–∏–∫–∏: ${economyBalance} ÍôÆ, —Å–µ—Ä–∏—è: ${economyStreak}`);
            }
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º 30 –¥—Ä–æ–ø–æ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
            for (let i = 0; i < 30; i++) {
                if (i === 15) {
                    // 15-–π —ç–ª–µ–º–µ–Ω—Ç (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π) - —Å—Ç–∞–≤–∏–º –†–ï–ê–õ–¨–ù–´–ô –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π –¥—Ä–æ–ø!
                    rouletteItems.push(actualWinningItem);
                    console.log(`üéØ –í–´–ò–ì–†–´–®–ù–´–ô –°–õ–û–¢ (15): ${actualWinningItem.name} - —Ä–∞–∑–º–µ—â—ë–Ω –≤ —Ä—É–ª–µ—Ç–∫–µ`);
                } else {
                    // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ª–æ—Ç—ã - —Å–ª—É—á–∞–π–Ω—ã–µ –¥—Ä–æ–ø—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ (–±–µ–∑ –∞–Ω—Ç–∏–ø–æ–≤—Ç–æ—Ä–æ–≤)
                    const visualItem = getRandomItemByChance(availableItems, false);
                    rouletteItems.push(visualItem);
                }
            }

            // Create roulette items
            // üé® –ò–°–ü–û–õ–¨–ó–£–ï–ú –°–û–•–†–ê–ù–Å–ù–ù–£–Æ –¶–ï–ù–£ –ö–ï–ô–°–ê –í–ú–ï–°–¢–û –ü–û–ò–°–ö–ê –í DOM
            const casePrice = currentCasePrice; // –£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤—ã—à–µ!
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ –¥—Ä–æ–ø–∞—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
            rouletteStrip.dataset.items = JSON.stringify(rouletteItems);
            
            rouletteItems.forEach((item, index) => {
                const dropType = getDropType(item, casePrice);
                const itemEl = document.createElement('div');
                itemEl.className = `roulette-item ${dropType}`;
                itemEl.dataset.index = index;
                itemEl.dataset.originalIndex = index; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
                itemEl.style.transition = 'all 0.2s'; // –î–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è
                
                const imageDiv = document.createElement('div');
                imageDiv.style.cssText = `
                    font-size: 32px; 
                    margin-bottom: 8px; 
                    width: 80px; 
                    height: 80px; 
                    background-size: cover; 
                    background-position: center; 
                    margin: 0 auto 8px; 
                    display: flex; 
                    align-items: center; 
                    justify-content: center;
                    border-radius: 8px;
                    border: 2px solid rgba(255,255,255,0.3);
                `;
                
                // –ü—Ä–æ—Å—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥—Ä–æ–ø–∞
                loadDropImage(imageDiv, item.image);
                
                itemEl.appendChild(imageDiv);
                
                const nameDiv = document.createElement('div');
                nameDiv.style.cssText = 'font-size: 11px; text-align: center; margin-bottom: 4px; line-height: 1.2; max-width: 130px; word-wrap: break-word;';
                nameDiv.textContent = item.name;
                itemEl.appendChild(nameDiv);
                
                const valueDiv = document.createElement('div');
                valueDiv.style.cssText = 'font-size: 10px; color: #ffd700; font-weight: bold; text-align: center;';
                valueDiv.textContent = `${item.value} ÍôÆ`;
                itemEl.appendChild(valueDiv);
                
                rouletteStrip.appendChild(itemEl);
            });

            // –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Ä—É–ª–µ—Ç–∫–∏
            setTimeout(() => {
                // –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú–°–Ø –¢–û–ß–ù–û –ù–ê 15-–º —ç–ª–µ–º–µ–Ω—Ç–µ (–≥–¥–µ —Ä–∞–∑–º–µ—â—ë–Ω —Ä–µ–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à)
                const stopIndex = 15; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –≤—ã–∏–≥—Ä—ã—à–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ!
                const itemWidth = 150; // –®–∏—Ä–∏–Ω–∞ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
                const containerWidth = document.querySelector('.roulette-container').offsetWidth;
                const centerPosition = containerWidth / 2; // –¶–µ–Ω—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                
                // –¢–æ—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ü–û–î –°–¢–†–ï–õ–ö–û–ô
                const offset = -(stopIndex * itemWidth) + centerPosition - (itemWidth / 2);
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
                rouletteStrip.style.transition = 'none';
                rouletteStrip.style.transform = 'translateX(0)';
                void rouletteStrip.offsetWidth; // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π reflow
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –∫—Ä–∏–≤–æ–π –∑–∞–º–µ–¥–ª–µ–Ω–∏—è
                rouletteStrip.style.transition = 'transform 8.2s cubic-bezier(0.2, 0.8, 0.2, 1)';
                rouletteStrip.style.transform = `translateX(${offset}px)`;
                
                console.log(`üé∞ –†—É–ª–µ—Ç–∫–∞: –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¢–û–ß–ù–û –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ 15 - ${actualWinningItem.name}`);
                
                // –í—ã–¥–µ–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤–æ –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    const winningElement = rouletteStrip.children[15]; // –í—Å–µ–≥–¥–∞ 15-–π —ç–ª–µ–º–µ–Ω—Ç!
                    if (winningElement) {
                        winningElement.style.transform = 'scale(1.1)';
                        winningElement.style.filter = 'brightness(1.3)';
                        winningElement.style.boxShadow = '0 0 20px rgba(255, 215, 0, 0.8)';
                    }
                }, 7700); // –í—ã–¥–µ–ª—è–µ–º –∑–∞ 0.5 —Å–µ–∫ –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                
                // –ü–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                setTimeout(() => {
                    if (!fastSpinActive) { // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                        showRouletteResult(actualWinningItem);
                    } else {
                        console.log('‚ö° –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ —Ç–∞–π–º–µ—Ä');
                    }
                }, 8500); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 8.5 —Å–µ–∫—É–Ω–¥—ã
            }, 300);
        }

        function showResult(item) {
            // ‚ö†Ô∏è –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–õ–Ø "–ë–∞–π–∫–∏ –æ—Ç..."
            if (item.name === '–ë–∞–π–∫–∏ –æ—Ç...') {
                showBaikiErrorModal(item);
                return; // –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—ã—á–Ω–æ–µ –º–µ–Ω—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!
            }
            
            // üí• –ù–ï –ü–ï–†–ï–ó–ê–ü–ò–°–´–í–ê–ï–ú currentItem –ï–°–õ–ò –£–ñ–ï –£–°–¢–ê–ù–û–í–õ–ï–ù!
            if (currentItem === null) {
                currentItem = item;
                console.log(`üéØ showResult: currentItem —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ ${item.name}`);
            } else {
                console.log(`üéØ showResult: currentItem —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ ${currentItem.name}, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º`);
            }
            
            const rouletteResult = document.getElementById('rouletteResult');
            const resultItemImage = document.getElementById('resultItemImage');
            const resultItemName = document.getElementById('resultItemName');
            const resultItemValue = document.getElementById('resultItemValue');
            
            // üé® –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–µ–Ω—É –¢–û–ì–û –ö–ï–ô–°–ê –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–ª–∏, –∞ –Ω–µ –¥–µ—Ñ–æ–ª—Ç–Ω—É—é 120!
            const openedCasePrice = getCurrentCasePrice(); // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–µ–π—Å–∞
            const dropColor = getDropValueColor(item, openedCasePrice);
            resultItemImage.style.background = dropColor;
            resultItemImage.style.border = `3px solid ${dropColor}`;
            resultItemImage.style.boxShadow = `0 0 20px ${dropColor}60`;
            resultItemImage.innerHTML = '';
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥—Ä–æ–ø–∞
            loadDropImage(resultItemImage, item.image);
            
            resultItemName.textContent = item.name;
            resultItemValue.textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${item.value} ÍôÆ`;
            
            // Show result with animation
            rouletteResult.classList.add('show');
            
            // Animate item image (scale up effect)
            setTimeout(() => {
                resultItemImage.classList.add('animate');
            }, 100);
            
            console.log(`üé® –†–µ–∑—É–ª—å—Ç–∞—Ç: ${item.name} (${item.value} ÍôÆ) vs –∫–µ–π—Å (${openedCasePrice} ÍôÆ) = —Ü–≤–µ—Ç ${dropColor}`);
        }

        function keepItem() {
            if (currentItem) {
                console.log(`üéí –°–û–•–†–ê–ù–Ø–ï–ú –ü–†–ï–î–ú–ï–¢: ${currentItem.name} (${currentItem.value} ÍôÆ)`);
                
                // üîá –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í –ü–†–ò –í–´–ë–û–†–ï –î–ï–ô–°–¢–í–ò–Ø
                destroyAllSoundsCompletely();
                
                // ‚ö° –°–ë–†–ê–°–´–í–ê–ï–ú –í–°–ï –§–õ–ê–ì–ò –ó–í–£–ö–û–í –ò –ü–†–û–ö–†–£–¢–ö–ò
                fastSpinActive = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                soundsGloballyBlocked = false; // –†–ê–ó–ë–õ–û–ö–ò–†–£–ï–ú –ó–í–£–ö–ò
                soundPlayed = false;
                
                // üé® –°–û–•–†–ê–ù–Ø–ï–ú –¶–ï–ù–£ –ö–ï–ô–°–ê –í –î–†–û–ü –î–õ–Ø –ü–†–ê–í–ò–õ–¨–ù–´–• –¶–í–ï–¢–û–í –í –ò–ù–í–ï–ù–¢–ê–†–ï
                currentItem.casePrice = currentCasePrice;
                inventory.push(currentItem);
                
                // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û–ë–ù–£–õ–Ø–ï–ú currentItem –°–†–ê–ó–£ –ü–û–°–õ–ï –û–ë–†–ê–ë–û–¢–ö–ò!
                currentItem = null;
                console.log('‚úÖ currentItem —Å–±—Ä–æ—à–µ–Ω –≤ null –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è');
                
                updateInventory();
                saveGameData(); // Save when keeping item
                hideResult();
                
                // üí° –ü–†–û–í–ï–†–Ø–ï–ú –û–¢–õ–û–ñ–ï–ù–ù–£–Æ –ü–û–î–°–ö–ê–ó–ö–£ –ü–û–°–õ–ï –î–ï–ô–°–¢–í–ò–Ø
                checkPendingBonusHint();
            }
        }

        function sellItem() {
            if (currentItem) {
                console.log(`üí∞ –ü–†–û–î–ê–Å–ú –ü–†–ï–î–ú–ï–¢: ${currentItem.name} (${currentItem.value} ÍôÆ)`);
                
                // üîá –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í –ü–†–ò –í–´–ë–û–†–ï –î–ï–ô–°–¢–í–ò–Ø
                destroyAllSoundsCompletely();
                
                // ‚ö° –°–ë–†–ê–°–´–í–ê–ï–ú –í–°–ï –§–õ–ê–ì–ò –ó–í–£–ö–û–í –ò –ü–†–û–ö–†–£–¢–ö–ò
                fastSpinActive = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
                soundsGloballyBlocked = false; // –†–ê–ó–ë–õ–û–ö–ò–†–£–ï–ú –ó–í–£–ö–ò
                soundPlayed = false;
                
                // üé® –°–û–•–†–ê–ù–Ø–ï–ú –¶–ï–ù–£ –ö–ï–ô–°–ê –í –î–†–û–ü –ü–ï–†–ï–î –î–û–ë–ê–í–õ–ï–ù–ò–ï–ú –í WINGLIST
                currentItem.casePrice = currentCasePrice;
                balance += currentItem.value;
                addToWinglist(currentItem);
                
                // üö´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û–ë–ù–£–õ–Ø–ï–ú currentItem –°–†–ê–ó–£ –ü–û–°–õ–ï –û–ë–†–ê–ë–û–¢–ö–ò!
                currentItem = null;
                console.log('‚úÖ currentItem —Å–±—Ä–æ—à–µ–Ω –≤ null –ø–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏');
                
                updateBalance();
                saveGameData(); // Save when selling item
                hideResult();
                
                // üí° –ü–†–û–í–ï–†–Ø–ï–ú –û–¢–õ–û–ñ–ï–ù–ù–£–Æ –ü–û–î–°–ö–ê–ó–ö–£ –ü–û–°–õ–ï –î–ï–ô–°–¢–í–ò–Ø
                checkPendingBonusHint();
            }
        }

        // üö® –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –û–®–ò–ë–ö–ò –î–õ–Ø "–ë–∞–π–∫–∏ –æ—Ç..."
        function showBaikiErrorModal(item) {
            console.log('üö® –ü–û–ö–ê–ó–´–í–ê–ï–ú –û–®–ò–ë–ö–£ –î–õ–Ø "–ë–∞–π–∫–∏ –æ—Ç..." - –ù–ï –∑–∞—á–∏—Å–ª—è–µ–º –¥–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É!');
            
            // –ù–ï –ó–ê–ß–ò–°–õ–Ø–ï–ú –î–ï–ù–¨–ì–ò –°–†–ê–ó–£ - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–•–û–†–û–®–û"
            const refundAmount = 300; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
            
            console.log(`üí∞ –í–û–ó–í–†–ê–¢ –ì–û–¢–û–í: +${refundAmount} ÍôÆ –∑–∞ "–ë–∞–π–∫–∏ –æ—Ç..." (–±—É–¥–µ—Ç –∑–∞—á–∏—Å–ª–µ–Ω –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–•–û–†–û–®–û")`);
            
            const errorModal = document.createElement('div');
            errorModal.id = 'baiki-error-modal';
            errorModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.9);
                z-index: 10010;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
            const isMobile = window.innerWidth <= 768;
            
            errorModal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #e74c3c, #c0392b);
                    border: 3px solid #fff;
                    border-radius: ${isMobile ? '15px' : '20px'};
                    padding: ${isMobile ? '25px 20px' : '30px'};
                    text-align: center;
                    max-width: ${isMobile ? '320px' : '450px'};
                    width: ${isMobile ? '90vw' : 'auto'};
                    box-shadow: 0 10px 30px rgba(0,0,0,0.8);
                    animation: errorShake 0.5s ease-in-out;
                ">
                    <h2 style="color: #fff; font-size: ${isMobile ? '18px' : '24px'}; margin-bottom: ${isMobile ? '15px' : '20px'}; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">
                        ‚ùå ERROR ‚ùå
                    </h2>
                    <div style="
                        background: rgba(0,0,0,0.4);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '15px' : '20px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                        border: 1px solid rgba(255,255,255,0.3);
                        font-family: 'Courier New', monospace;
                    ">
                        <p style="color: #ff6b6b; font-size: ${isMobile ? '12px' : '14px'}; margin: 0; line-height: 1.4;">
                            <strong>SYSTEM ERROR 404</strong><br>
                            –§–∞–π–ª "${item.name}" —É—Ç–µ—Ä—è–Ω!<br><br>
                            <span style="color: #fff;">–ú—ã –≤–µ—Ä–Ω—ë–º –≤–∞–º —Å–æ—Ç—ã –∑–∞ –∫–µ–π—Å!</span>
                        </p>
                    </div>
                    <div style="
                        background: rgba(255,255,255,0.1);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '12px' : '15px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                    ">
                        <p style="color: #ffd700; font-size: ${isMobile ? '14px' : '16px'}; margin: 0; font-weight: bold;">
                            üí∞ –ö–û–ú–ü–ï–ù–°–ê–¶–ò–Ø: +${refundAmount} ÍôÆ
                        </p>
                        <p style="color: #fff; font-size: ${isMobile ? '11px' : '13px'}; margin: 5px 0 0 0;">
                            –ù–∞–∂–º–∏—Ç–µ "–•–û–†–û–®–û" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
                        </p>
                    </div>
                    <button onclick="closeBaikiErrorModal()" style="
                        background: #fff;
                        color: #e74c3c;
                        border: none;
                        padding: ${isMobile ? '12px 25px' : '15px 30px'};
                        border-radius: ${isMobile ? '10px' : '12px'};
                        font-size: ${isMobile ? '16px' : '18px'};
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        box-shadow: 0 3px 10px rgba(0,0,0,0.3);
                        ${isMobile ? 'width: 100%; max-width: 200px;' : ''}
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        üëç –•–û–†–û–®–û
                    </button>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç—Ä—è—Å–∫–∏
            if (!document.getElementById('error-shake-style')) {
                const style = document.createElement('style');
                style.id = 'error-shake-style';
                style.textContent = `
                    @keyframes errorShake {
                        0%, 100% { transform: translate(0, 0) rotate(0deg); }
                        10% { transform: translate(-5px, -2px) rotate(-1deg); }
                        20% { transform: translate(5px, -2px) rotate(1deg); }
                        30% { transform: translate(-5px, 2px) rotate(-1deg); }
                        40% { transform: translate(5px, 2px) rotate(1deg); }
                        50% { transform: translate(-5px, -2px) rotate(-1deg); }
                        60% { transform: translate(5px, -2px) rotate(1deg); }
                        70% { transform: translate(-5px, 2px) rotate(-1deg); }
                        80% { transform: translate(5px, 2px) rotate(1deg); }
                        90% { transform: translate(-5px, -2px) rotate(-1deg); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(errorModal);
            
            // üîí –ë–õ–û–ö–ò–†–£–ï–ú ESC –ò –ö–õ–ò–ö–ò –í–û–ö–†–£–ì –ú–û–î–ê–õ–ö–ò - –¢–û–õ–¨–ö–û –ö–ù–û–ü–ö–ê "–•–û–†–û–®–û"!
            errorModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    // –ù–ï –ó–ê–ö–†–´–í–ê–ï–ú –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–æ–∫—Ä—É–≥!
                    console.log('üö´ –ö–ª–∏–∫ –≤–æ–∫—Ä—É–≥ –æ—à–∏–±–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω - —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ "–•–û–†–û–®–û"!');
                    return false;
                }
            });
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º ESC
            const escapeBlocker = function(e) {
                if (e.key === 'Escape') {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('üö´ ESC –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ –æ—à–∏–±–∫–µ "–ë–∞–π–∫–∏ –æ—Ç..."');
                    return false;
                }
            };
            document.addEventListener('keydown', escapeBlocker, true);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
            errorModal.escapeBlocker = escapeBlocker;
        }
        
        // üö® –§–£–ù–ö–¶–ò–Ø –ó–ê–ö–†–´–¢–ò–Ø –û–®–ò–ë–ö–ò "–ë–∞–π–∫–∏ –æ—Ç..."
        window.closeBaikiErrorModal = function() {
            const modal = document.getElementById('baiki-error-modal');
            if (modal) {
                // –ó–ê–ß–ò–°–õ–Ø–ï–ú –î–ï–ù–¨–ì–ò –ü–†–ò –ù–ê–ñ–ê–¢–ò–ò "–•–û–†–û–®–û"!
                const refundAmount = 300; // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è
                balance += refundAmount;
                updateBalance();
                saveGameData();
                
                console.log(`üí∞ –ö–û–ú–ü–ï–ù–°–ê–¶–ò–Ø –ó–ê–ß–ò–°–õ–ï–ù–ê: +${refundAmount} ÍôÆ –∑–∞ "–ë–∞–π–∫–∏ –æ—Ç..."`);
                
                // ‚ö° –°–ë–†–ê–°–´–í–ê–ï–ú –§–õ–ê–ì –ë–´–°–¢–†–û–ô –ü–†–û–ö–†–£–¢–ö–ò –ò –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –ó–í–£–ö–ò
                fastSpinActive = false;
                soundsGloballyBlocked = false;
                soundPlayed = false;
                destroyAllSoundsCompletely(); // –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –í–°–ï –ó–í–£–ö–ò –ü–†–ò –ó–ê–ö–†–´–¢–ò–ò –û–®–ò–ë–ö–ò
                
                // –£–±–∏—Ä–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ ESC
                if (modal.escapeBlocker) {
                    document.removeEventListener('keydown', modal.escapeBlocker, true);
                }
                
                // –£–¥–∞–ª—è–µ–º –º–æ–¥–∞–ª–∫—É
                document.body.removeChild(modal);
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ä—É–ª–µ—Ç–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é - –ù–ï –ü–û–ö–ê–ó–´–í–ê–ï–ú –º–µ–Ω—é –≤—ã–±–æ—Ä–∞!
                hideResult();
                
                console.log('‚úÖ –û—à–∏–±–∫–∞ "–ë–∞–π–∫–∏ –æ—Ç..." –∑–∞–∫—Ä—ã—Ç–∞, –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –≤—ã–ø–ª–∞—á–µ–Ω–∞, —Ä—É–ª–µ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
            }
        };

        function hideResult() {
            // üîá –ü–û–õ–ù–û–°–¢–¨–Æ –£–ù–ò–ß–¢–û–ñ–ê–ï–ú –í–°–ï –ó–í–£–ö–ò –ü–†–ò –ó–ê–ö–†–´–¢–ò–ò –†–£–õ–ï–¢–ö–ò
            destroyAllSoundsCompletely();
            
            document.getElementById('rouletteResult').classList.remove('show');
            document.getElementById('rouletteSection').classList.remove('active');
            document.getElementById('resultItemImage').classList.remove('animate');
            
            // üõ°Ô∏è –û–¢–ö–õ–Æ–ß–ê–ï–ú –ó–ê–©–ò–¢–£ –†–£–õ–ï–¢–ö–ò
            rouletteProtection = false;
            unblockRouletteEscape();
            
            // ‚ö° –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ù–ï –°–ë–†–ê–°–´–í–ê–ï–ú fastSpinActive –ó–î–ï–°–¨!
            // –û–Ω –¥–æ–ª–∂–µ–Ω —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–µ–π—Å—Ç–≤–∏—è (keepItem/sellItem)
            console.log('üîì –ó–∞—â–∏—Ç–∞ —Ä—É–ª–µ—Ç–∫–∏ –û–¢–ö–õ–Æ–ß–ï–ù–ê - –º–æ–∂–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∫–ª–∏–∫–∞—Ç—å –ø–æ —Å–∞–π—Ç—É');
            
            // üö´ –ü–û–õ–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –†–£–õ–ï–¢–ö–ò –î–õ–Ø –ò–ó–ë–ï–ñ–ê–ù–ò–Ø –ë–ê–ì–û–í –° –ü–û–í–¢–û–†–ù–´–ú –ü–û–ö–ê–ó–û–ú
            const rouletteStrip = document.getElementById('rouletteStrip');
            rouletteStrip.style.transition = 'none';
            rouletteStrip.style.transform = 'translateX(0)';
            rouletteStrip.innerHTML = ''; // –ü–û–õ–ù–û–°–¢–¨–Æ –û–ß–ò–©–ê–ï–ú –°–û–î–ï–†–ñ–ò–ú–û–ï
            rouletteStrip.dataset.items = ''; // –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥—Ä–æ–ø–æ–≤
            
            // –û–ß–ò–©–ê–ï–ú –†–ï–ó–£–õ–¨–¢–ê–¢ –†–£–õ–ï–¢–ö–ò
            const resultItemImage = document.getElementById('resultItemImage');
            const resultItemName = document.getElementById('resultItemName');
            const resultItemValue = document.getElementById('resultItemValue');
            
            if (resultItemImage) {
                resultItemImage.style.background = '';
                resultItemImage.style.border = '';
                resultItemImage.style.boxShadow = '';
                resultItemImage.style.backgroundImage = '';
                resultItemImage.innerHTML = '';
                resultItemImage.classList.remove('animate');
            }
            
            if (resultItemName) resultItemName.textContent = '';
            if (resultItemValue) resultItemValue.textContent = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –æ–±—Ä–∞—Ç–Ω–æ
            const fastBtn = document.getElementById('fast-spin-btn');
            if (fastBtn) {
                fastBtn.style.display = 'flex';
            }
            
            // –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°–ë–†–ê–°–´–í–ê–ï–ú –¢–ï–ö–£–©–ò–ô –ü–†–ï–î–ú–ï–¢ –í NULL!
            currentItem = null;
            console.log('üîÑ –†—É–ª–µ—Ç–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–µ–Ω–∞, currentItem —Å–±—Ä–æ—à–µ–Ω –≤ null');
            
            // üîá –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê - –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í –†–£–õ–ï–¢–ö–ò
            setTimeout(() => {
                destroyAllSoundsCompletely();
                console.log('üîá –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ü–û–õ–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –≤—Å–µ—Ö –∑–≤—É–∫–æ–≤ —Ä—É–ª–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ');
            }, 100);
            
            // üí° –ü–†–û–í–ï–†–Ø–ï–ú –û–¢–õ–û–ñ–ï–ù–ù–£–Æ –ü–û–î–°–ö–ê–ó–ö–£ –ü–û–°–õ–ï –ó–ê–ö–†–´–¢–ò–Ø –†–£–õ–ï–¢–ö–ò
            checkPendingBonusHint();
        }

        // üõ°Ô∏è –ü–û–õ–ù–ê–Ø –ó–ê–©–ò–¢–ê –†–£–õ–ï–¢–ö–ò –û–¢ –ú–ò–°–ö–õ–ò–ö–û–í
        document.getElementById('rouletteSection').addEventListener('click', function(e) {
            // –ë–õ–û–ö–ò–†–£–ï–ú –í–°–ï –ö–õ–ò–ö–ò –í–û–ö–†–£–ì –†–£–õ–ï–¢–ö–ò!
            if (e.target === this) {
                if (rouletteProtection && currentItem === null) {
                    // –†—É–ª–µ—Ç–∫–∞ –∫—Ä—É—Ç–∏—Ç—Å—è - –ù–ò–ö–ê–ö–ò–• –î–ï–ô–°–¢–í–ò–ô!
                    console.log('üîí –†—É–ª–µ—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞! –ñ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!');
                    showBlockedMessage();
                    return false;
                } else if (currentItem !== null && !rouletteProtection) {
                    // –î—Ä–æ–ø –≤—ã–ø–∞–ª, –Ω–æ –∫–ª–∏–∫–Ω—É–ª–∏ –í–ù–ï –∫–Ω–æ–ø–æ–∫ - –ù–ï –ó–ê–ö–†–´–í–ê–ï–ú!
                    console.log('‚ö†Ô∏è –ö–ª–∏–∫–Ω—É–ª–∏ –≤–Ω–µ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è - —Ä—É–ª–µ—Ç–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ–π!');
                    showMisclickWarning();
                    return false;
                }
            }
        });

        // Close item menu on background click
        document.getElementById('itemMenuModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeItemMenu();
            }
        });

        // Avatar functions
        function handleAvatarClick() {
            // –ö–ª–∏–∫ –Ω–∞ –∞–≤–∞—Ç–∞—Ä —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
            openProfileMenu();
        }
        
        // üë§ –§–£–ù–ö–¶–ò–Ø –ó–ê–ì–†–£–ó–ö–ò –î–ï–§–û–õ–¢–ù–û–ì–û –ê–í–ê–¢–ê–†–ê
        function loadDefaultAvatar() {
            if (!userAvatar) { // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∞–≤–∞—Ç–∞—Ä–∞
                const profileAvatar = document.getElementById('profileAvatar');
                const img = new Image();
                
                img.onload = () => {
                    console.log('‚úÖ –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä avatar.png –∑–∞–≥—Ä—É–∂–µ–Ω');
                    profileAvatar.style.backgroundImage = `url('avatar.png')`;
                    profileAvatar.style.backgroundSize = 'cover';
                    profileAvatar.style.backgroundPosition = 'center';
                    profileAvatar.textContent = '';
                };
                
                img.onerror = () => {
                    console.log('‚ùå avatar.png –Ω–µ –Ω–∞–π–¥–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç–º–æ–¥–∑–∏ –∞–≤–∞—Ç–∞—Ä');
                    // –û—Å—Ç–∞–≤–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∏–∫–æ–Ω–∫—É üë§
                };
                
                img.src = 'avatar.png';
            }
        }

        function openAvatarUpload() {
            const input = document.getElementById('avatarUploadInput');
            input.click();
        }

        function handleAvatarUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (5 –ú–ë –º–∞–∫—Å–∏–º—É–º)
            if (file.size > 5 * 1024 * 1024) {
                alert('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5 –ú–ë');
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø —Ñ–∞–π–ª–∞
            if (!file.type.startsWith('image/')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const avatarData = e.target.result;
                
                // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                const preview = document.createElement('div');
                preview.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100vw;
                    height: 100vh;
                    background: rgba(0,0,0,0.8);
                    z-index: 10003;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    flex-direction: column;
                `;
                
                preview.innerHTML = `
                    <div style="background: #2c3e50; padding: 30px; border-radius: 20px; text-align: center; border: 3px solid #e74c3c;">
                        <h3 style="color: #ffd700; margin-bottom: 20px;">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–≤–∞—Ç–∞—Ä–∞</h3>
                        <div style="
                            width: 120px; 
                            height: 120px; 
                            border-radius: 50%; 
                            background-image: url('${avatarData}');
                            background-size: cover;
                            background-position: center;
                            margin: 0 auto 20px;
                            border: 3px solid #ffd700;
                        "></div>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <button id="confirmAvatar" style="
                                background: #27ae60; color: white; border: none; padding: 12px 25px; 
                                border-radius: 10px; cursor: pointer; font-size: 16px;
                            ">‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            <button id="cancelAvatar" style="
                                background: #e74c3c; color: white; border: none; padding: 12px 25px; 
                                border-radius: 10px; cursor: pointer; font-size: 16px;
                            ">‚ùå –û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(preview);
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
                document.getElementById('confirmAvatar').onclick = () => {
                    setUserAvatar(avatarData);
                    document.body.removeChild(preview);
                };
                
                document.getElementById('cancelAvatar').onclick = () => {
                    document.body.removeChild(preview);
                };
            };
            
            reader.readAsDataURL(file);
            
            // –û—á–∏—â–∞–µ–º input –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞
            event.target.value = '';
        }

        function setUserAvatar(avatarData) {
            userAvatar = avatarData;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –∞–≤–∞—Ç–∞—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            const profileAvatar = document.getElementById('profileAvatar');
            profileAvatar.style.backgroundImage = `url('${avatarData}')`;
            profileAvatar.style.backgroundSize = 'cover';
            profileAvatar.style.backgroundPosition = 'center';
            profileAvatar.textContent = '';
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            saveGameData();
            
            console.log('‚úÖ –ê–≤–∞—Ç–∞—Ä —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω!');
        }

        // Profile menu functions
        function openProfileMenu() {
            const profileMenuModal = document.getElementById('profileMenuModal');
            const profileMenuAvatar = document.getElementById('profileMenuAvatar');
            const nicknameInput = document.getElementById('nicknameInput');
            const promocodeInput = document.getElementById('promocodeInput');
            const promocodeMessage = document.getElementById('promocodeMessage');
            
            // Update avatar preview
            if (userAvatar) {
                profileMenuAvatar.style.backgroundImage = `url('${userAvatar}')`;
                profileMenuAvatar.style.backgroundSize = 'cover';
                profileMenuAvatar.style.backgroundPosition = 'center';
                profileMenuAvatar.textContent = '';
            } else {
                profileMenuAvatar.style.backgroundImage = 'none';
                profileMenuAvatar.textContent = 'üë§';
            }
            
            // Load current nickname
            nicknameInput.value = userNickname;
            
            // –ù–ï –û–ß–ò–©–ê–ï–ú –ø—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ —á—Ç–æ –±—ã–ª–æ –≤–≤–µ–¥–µ–Ω–æ
            // promocodeInput.value = ''; // –£–ë–†–ê–õ–ò –≠–¢–£ –°–¢–†–û–ö–£
            promocodeMessage.style.display = 'none';
            
            profileMenuModal.classList.add('active');
        }

        function closeProfileMenu() {
            document.getElementById('profileMenuModal').classList.remove('active');
        }

        function saveProfile() {
            const nicknameInput = document.getElementById('nicknameInput');
            const newNickname = nicknameInput.value.trim();
            
            if (newNickname.length > 0) {
                userNickname = newNickname;
                saveGameData(); // Save to localStorage
                closeProfileMenu();
                
                // üî• –ù–ï –û–ß–ò–©–ê–ï–ú –ø—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è!
                console.log('‚úÖ –ü—Ä–æ—Ñ–∏–ª—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω, –ø—Ä–æ–º–æ–∫–æ–¥ –æ—Å—Ç–∞–ª—Å—è –≤ –ø–æ–ª–µ');
            } else {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º!');
            }
        }

        // Close profile menu on background click
        document.getElementById('profileMenuModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeProfileMenu();
            }
        });

        // Functions for no drops modal
        function showNoDropsMessage() {
            document.getElementById('noDropsModal').classList.add('active');
        }

        function closeNoDropsModal() {
            document.getElementById('noDropsModal').classList.remove('active');
        }

        // Close no drops modal on background click
        document.getElementById('noDropsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeNoDropsModal();
            }
        });

        // –ë–∞–ª–∞–Ω—Å –±–æ–ª—å—à–µ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π - —É–±—Ä–∞–ª–∏ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

        // Promocode system
        let usedPromocodes = [];
        let promocodeClickCount = 0;
        let promocodeClickTimer = null;
        
        // üõ†Ô∏è –†–ï–ñ–ò–ú –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
        let devModeActive = false;
        let bugWarningClosed = false;
        
        function activatePromocode() {
            const promocodeInput = document.getElementById('promocodeInput');
            const promocodeMessage = document.getElementById('promocodeMessage');
            const promocode = promocodeInput.value.trim().toUpperCase();
            
            if (!promocode) {
                showPromocodeMessage('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥!', 'error');
                return;
            }
            
            // Check if promocode was already used
            if (usedPromocodes.includes(promocode)) {
                showPromocodeMessage('–ü—Ä–æ–º–æ–∫–æ–¥ —É–∂–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!', 'error');
                return;
            }
            
            // Available promocodes
            const promocodes = {
                'GLISTOK': {
                    bonus: 500,
                    description: '+500 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å'
                },
                'MEOFEN': {
                    bonus: 300,
                    description: '+300 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å'
                },
                'IVA STUDIO': {
                    bonus: 1000,
                    description: '+1000 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å'
                },
                'BONUS': {
                    bonus: 200,
                    description: '+200 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å'
                },
                'START': {
                    bonus: 100,
                    description: '+100 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å'
                },
                'GLIST': {
                    bonus: 0,
                    description: '–û—Å–æ–±—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ - –°–ö–†–ò–ú–ï–†',
                    special: 'jumpscare'
                },
                'GOSHA': {
                    bonus: 7000,
                    description: '+7000 ÍôÆ –Ω–∞ –±–∞–ª–∞–Ω—Å + —Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–æ–≤',
                    special: 'debt_forgiveness'
                },
                'RAZRAB': {
                    bonus: 0,
                    description: '–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω',
                    special: 'dev_mode'
                }
            };
            
            console.log(`üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–º–æ–∫–æ–¥: "${promocode}"`);
            console.log('üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã:', Object.keys(promocodes));
            console.log('üö´ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã:', usedPromocodes);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–º–æ–∫–æ–¥ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö
            let foundPromocode = null;
            let foundKey = null;
            
            for (const [key, value] of Object.entries(promocodes)) {
                if (key.toUpperCase() === promocode.toUpperCase()) {
                    foundPromocode = value;
                    foundKey = key;
                    break;
                }
            }
            
            if (foundPromocode) {
                const promoData = foundPromocode;
                console.log(`‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–∞–π–¥–µ–Ω: ${promocode}`, promoData);
                
                // Special handling for GLIST promocode
                if (promoData.special === 'jumpscare') {
                    console.log('üëª GLIST –ø—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω - –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–º–µ—Ä!');
                    
                    // –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                    showPromocodeMessage('üòà GLIST –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –ì–û–¢–û–í–¨–°–Ø...', 'success');
                    promocodeInput.value = '';
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ
                    usedPromocodes.push(foundKey);
                    saveGameData();
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é
                    setTimeout(() => {
                        closeProfileMenu();
                        
                        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
                        setTimeout(() => {
                            executeJumpscare();
                        }, 500);
                    }, 1000);
                    
                    return;
                }
                
                // Special handling for RAZRAB promocode
                if (promoData.special === 'dev_mode') {
                    console.log('üõ†Ô∏è RAZRAB –ø—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω - –≤–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞!');
                    
                    devModeActive = true;
                    showPromocodeMessage('üõ†Ô∏è –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!', 'success');
                    
                    usedPromocodes.push(foundKey);
                    saveGameData();
                    promocodeInput.value = '';
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                    document.getElementById('dev-mode-banner').style.display = 'block';
                    
                    console.log('üõ†Ô∏è –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –î–æ—Å—Ç—É–ø–Ω—ã —á–∏—Ç–µ—Ä—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏');
                    return;
                }
                
                // Special handling for GOSHA promocode
                if (promoData.special === 'debt_forgiveness') {
                    console.log('üéâ GOSHA –ø—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω - —Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–æ–≤!');
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –¥–µ–Ω—å–≥–∏
                    balance += promoData.bonus;
                    
                    // –°–ø–∏—Å—ã–≤–∞–µ–º –¥–æ–ª–≥–∏
                    const oldDebt = debtAmount;
                    hasDebt = false;
                    debtCasesLeft = 0;
                    debtAmount = 500;
                    isBlocked = false;
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
                    socialRating = Math.min(100, socialRating + 25);
                    
                    showPromocodeMessage(`‚úÖ GOSHA –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! +${promoData.bonus} ÍôÆ + —Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–æ–≤ + —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!`, 'success');
                    
                    usedPromocodes.push(foundKey);
                    updateBalance();
                    updateDebtStatus();
                    hideBlockBanner();
                    saveGameData();
                    promocodeInput.value = '';
                    
                    console.log(`üéÅ –ü—Ä–æ–º–æ–∫–æ–¥ GOSHA –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: +${promoData.bonus} ÍôÆ, –¥–æ–ª–≥ —Å–ø–∏—Å–∞–Ω, —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`);
                    return;
                }
                
                // Regular promocode handling
                balance += promoData.bonus;
                showPromocodeMessage(`‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! ${promoData.description}`, 'success');
                
                usedPromocodes.push(foundKey);
                updateBalance(); // –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–æ–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É BONUS –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å > 0
                saveGameData();
                promocodeInput.value = ''; // –û—á–∏—â–∞–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏!
                
                console.log(`üéÅ –ü—Ä–æ–º–æ–∫–æ–¥ "${promocode}" –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: +${promoData.bonus} ÍôÆ`);
            } else {
                console.log(`‚ùå –ü—Ä–æ–º–æ–∫–æ–¥ "${promocode}" –Ω–µ –Ω–∞–π–¥–µ–Ω!`);
                showPromocodeMessage('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥!', 'error');
            }
        }
        
        function showPromocodeMessage(message, type) {
            const promocodeMessage = document.getElementById('promocodeMessage');
            promocodeMessage.textContent = message;
            promocodeMessage.style.display = 'block';
            
            if (type === 'success') {
                promocodeMessage.style.color = '#27ae60';
            } else if (type === 'error') {
                promocodeMessage.style.color = '#e74c3c';
            }
            
            // Hide message after 3 seconds
            setTimeout(() => {
                promocodeMessage.style.display = 'none';
            }, 3000);
        }
        
        // Handle Enter key in promocode input
        function handlePromocodeKeydown(event) {
            if (event.key === 'Enter') {
                activatePromocode();
            }
        }
        
        // üö´ –£–ë–†–ê–õ–ò –ß–ò–¢–ï–†–°–ö–ò–ô –¢–†–û–ô–ù–û–ô –ö–õ–ò–ö - –¢–ï–ü–ï–†–¨ –¢–û–õ–¨–ö–û –ß–ï–†–ï–ó –ü–†–û–ú–û–ö–û–î RAZRAB
        function handlePromocodeInputClick(event) {
            // –ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö —á–∏—Ç–æ–≤ –±–µ–∑ –ø—Ä–æ–º–æ–∫–æ–¥–∞!
            if (!devModeActive) return;
            
            promocodeClickCount++;
            
            // Clear existing timer
            if (promocodeClickTimer) {
                clearTimeout(promocodeClickTimer);
            }
            
            // Set timer to reset click count
            promocodeClickTimer = setTimeout(() => {
                promocodeClickCount = 0;
            }, 800);
            
            // Check for triple click (—Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
            if (promocodeClickCount === 3) {
                devResetAll();
                promocodeClickCount = 0;
                clearTimeout(promocodeClickTimer);
            }
        }
        
        // üí° –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ö–ù–û–ü–û–ö
        window.closeBonusModal = function() {
            const modal = document.getElementById('bonus-modal');
            if (modal) {
                document.body.removeChild(modal);
                bonusHintShown = true; // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –ø–æ–∫–∞–∑–∞–ª–∏
                saveGameData(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–ª–∞–≥
                console.log('üí° –ú–µ–Ω—é—à–∫–∞ BONUS –∑–∞–∫—Ä—ã—Ç–∞, –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º');
            }
        };
        
        window.closeDebtSelectionMenu = function() {
            const modal = document.getElementById('debt-selection-modal');
            if (modal) {
                document.body.removeChild(modal);
            }
        };
        
        // ‚ö†Ô∏è –§–£–ù–ö–¶–ò–Ø –ó–ê–ö–†–´–¢–ò–Ø –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –ó–î–û–†–û–í–¨–ï
        window.closeHealthWarning = function() {
            const warningEl = document.getElementById('health-warning');
            if (warningEl) {
                warningEl.style.display = 'none';
                warningMessageShown = true; // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –ø–æ–∫–∞–∑–∞–ª–∏
                saveGameData(); // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–ª–∞–≥
                console.log('‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∑–¥–æ—Ä–æ–≤—å–µ –∑–∞–∫—Ä—ã—Ç–æ, –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º');
            }
        };
        
        // üö´ –§–£–ù–ö–¶–ò–Ø –ó–ê–ö–†–´–¢–ò–Ø –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –ë–ê–ì–ê–•
        window.closeBugWarning = function() {
            const warningEl = document.getElementById('bug-warning-banner');
            if (warningEl) {
                warningEl.style.display = 'none';
                bugWarningClosed = true; // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –∑–∞–∫—Ä—ã–ª–∏
                saveGameData(); // –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ä–∞–∑—É!
                console.log('üö´ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–∞–≥–∞—Ö –∑–∞–∫—Ä—ã—Ç–æ –Ω–∞–≤—Å–µ–≥–¥–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ');
            }
        };
        
        // üõ†Ô∏è –§–£–ù–ö–¶–ò–ò –†–ï–ñ–ò–ú–ê –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
        window.devAddBalance = function() {
            if (!devModeActive) return;
            balance += 1000;
            updateBalance();
            saveGameData();
            console.log('üõ†Ô∏è DEV: –î–æ–±–∞–≤–ª–µ–Ω–æ 1000 ÍôÆ');
        };
        
        window.devSetBalance = function() {
            if (!devModeActive) return;
            const newBalance = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å:', balance);
            if (newBalance !== null && !isNaN(newBalance)) {
                balance = Math.max(0, parseInt(newBalance));
                updateBalance();
                saveGameData();
                console.log(`üõ†Ô∏è DEV: –ë–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ ${balance} ÍôÆ`);
            }
        };
        
        window.devResetPromocodes = function() {
            if (!devModeActive) return;
            usedPromocodes = usedPromocodes.filter(code => code === 'RAZRAB'); // –°–æ—Ö—Ä–∞–Ω—è–µ–º RAZRAB
            bonusHintShown = false;
            pendingBonusHint = false;
            saveGameData();
            console.log('üõ†Ô∏è DEV: –ü—Ä–æ–º–æ–∫–æ–¥—ã —Å–±—Ä–æ—à–µ–Ω—ã (–∫—Ä–æ–º–µ RAZRAB)');
            alert('‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã —Å–±—Ä–æ—à–µ–Ω—ã!');
        };
        
        window.devResetRating = function() {
            if (!devModeActive) return;
            socialRating = 100;
            isBlocked = false;
            hasDebt = false;
            debtCasesLeft = 0;
            debtAmount = 500;
            updateDebtStatus();
            hideBlockBanner();
            saveGameData();
            console.log('üõ†Ô∏è DEV: –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ —Å–±—Ä–æ—à–µ–Ω');
            alert('‚úÖ –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
        };
        
        // üö´ –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø –°–ë–†–û–°–ê –ò–°–¢–û–†–ò–ò –î–†–û–ü–û–í
        window.devResetDropHistory = function() {
            if (!devModeActive) return;
            recentDrops = []; // –û—á–∏—â–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥—Ä–æ–ø–æ–≤
            saveGameData();
            console.log('üõ†Ô∏è DEV: –ò—Å—Ç–æ—Ä–∏—è –¥—Ä–æ–ø–æ–≤ —Å–±—Ä–æ—à–µ–Ω–∞');
            alert('üö´ –ò—Å—Ç–æ—Ä–∏—è –¥—Ä–æ–ø–æ–≤ –æ—á–∏—â–µ–Ω–∞! –ê–Ω—Ç–∏–ø–æ–≤—Ç–æ—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã.');
        };
        
        window.devResetAll = function() {
            if (!devModeActive) return;
            if (confirm('üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –í–°–Å? (–∫—Ä–æ–º–µ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)')) {
                // –°–±—Ä–æ—Å –≤—Å–µ–≥–æ –∫—Ä–æ–º–µ —Ä–µ–∂–∏–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
                balance = 1000;
                inventory = [{ name: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç', image: 'dropcase1_1', rarity: 'common', value: 10 }];
                usedPromocodes = ['RAZRAB']; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ RAZRAB
                socialRating = 100;
                bonusHintShown = false;
                pendingBonusHint = false;
                isBlocked = false;
                hasDebt = false;
                debtCasesLeft = 0;
                debtAmount = 500;
                winglistItems = [];
                recentDrops = []; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥—Ä–æ–ø–æ–≤
                // üé≤ –°–ë–†–û–° –≠–ö–û–ù–û–ú–ò–ß–ï–°–ö–ò–• –î–ê–ù–ù–´–•
                economyBalance = 0;
                economyStreak = 0;
                totalSpent = 0;
                totalWon = 0;
                
                updateBalance();
                updateInventory();
                updateWinglist();
                updateDebtStatus();
                hideBlockBanner();
                saveGameData();
                
                console.log('üõ†Ô∏è DEV: –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω + —ç–∫–æ–Ω–æ–º–∏–∫–∞ + –∏—Å—Ç–æ—Ä–∏—è –¥—Ä–æ–ø–æ–≤ —Å–±—Ä–æ—à–µ–Ω—ã');
                alert('üóëÔ∏è –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω!');
            }
        };
        
        // ‚ö†Ô∏è –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –ó–î–û–†–û–í–¨–ï
        function showHealthWarning() {
            if (!warningMessageShown) {
                const warningEl = document.getElementById('health-warning');
                if (warningEl) {
                    warningEl.style.display = 'block';
                    console.log('‚ö†Ô∏è –ü–æ–∫–∞–∑–∞–Ω–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∑–¥–æ—Ä–æ–≤—å–µ');
                }
            }
        }

        // üëª –°–ö–†–ò–ú–ï–† –° –í–ò–î–ï–û –ù–ê –í–ï–°–¨ –≠–ö–†–ê–ù
        function executeJumpscare() {
            console.log('üòà GLIST –°–ö–†–ò–ú–ï–† –ó–ê–ü–£–©–ï–ù! üëª');
            
            // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∫—Ä–∏–º–µ—Ä–∞ –ë–ï–ó –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ì–û –§–û–ù–ê
            const screamer = document.createElement('div');
            screamer.id = 'glist-screamer';
            screamer.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: transparent;
                z-index: 999999;
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏—é —Ç—Ä—è—Å–∫–∏ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            if (!document.getElementById('glist-shake-style')) {
                const style = document.createElement('style');
                style.id = 'glist-shake-style';
                style.textContent = `
                    @keyframes glistShake {
                        0% { transform: translate(0, 0) rotate(0deg) scale(1); }
                        10% { transform: translate(-8px, -8px) rotate(-2deg) scale(1.02); }
                        20% { transform: translate(8px, -8px) rotate(2deg) scale(0.98); }
                        30% { transform: translate(-8px, 8px) rotate(-1deg) scale(1.01); }
                        40% { transform: translate(8px, 8px) rotate(2deg) scale(0.99); }
                        50% { transform: translate(-8px, -8px) rotate(-2deg) scale(1.02); }
                        60% { transform: translate(8px, -8px) rotate(1deg) scale(0.98); }
                        70% { transform: translate(-8px, 8px) rotate(-2deg) scale(1.01); }
                        80% { transform: translate(8px, 8px) rotate(2deg) scale(0.99); }
                        90% { transform: translate(-8px, -8px) rotate(-1deg) scale(1.01); }
                        100% { transform: translate(0, 0) rotate(0deg) scale(1); }
                    }
                    
                    .glist-video-effect {
                        filter: brightness(1.2) contrast(1.3);
                    }
                `;
                document.head.appendChild(style);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–º–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
            document.body.appendChild(screamer);
            
            // üîä –ó–í–£–ö –° –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ô –ì–†–û–ú–ö–û–°–¢–¨–Æ (–Ω–µ –Ω—É–∂–µ–Ω –µ—Å–ª–∏ –≤–∏–¥–µ–æ —Å–æ –∑–≤—É–∫–æ–º)
            // playMaxVolumeScreamerSound();
            
            // üñºÔ∏è –ó–ê–ì–†–£–ñ–ê–ï–ú –§–û–¢–û –°–ö–†–ò–ú–ï–† (–±–µ–∑ –≤–∏–¥–µ–æ)
            setTimeout(() => {
                console.log('üñºÔ∏è –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä glist.png...');
                
                const isMobile = window.innerWidth <= 768;
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∑–≤—É–∫ —Å–∫—Ä–∏–º–µ—Ä–∞
                playMaxVolumeScreamerSound();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä
                showFallbackImageScreamer(screamer, isMobile);
                
            }, 300);
            
            // –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ç–∞–π–º–µ—Ä —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä–∞
            setTimeout(() => {
                if (document.getElementById('glist-screamer')) {
                    console.log('‚è∞ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–∫—Ä–∏–º–µ—Ä–∞ –ø–æ —Ç–∞–π–º–µ—Ä—É');
                    removeScreamer();
                }
            }, 8000); // 8 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä–∞
        }
        
        // üóëÔ∏è –§–£–ù–ö–¶–ò–Ø –£–î–ê–õ–ï–ù–ò–Ø –°–ö–†–ò–ú–ï–†–ê
        function removeScreamer() {
            const screamer = document.getElementById('glist-screamer');
            if (screamer) {
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
                if (window.innerWidth <= 768) {
                    document.body.style.overflow = '';
                    document.documentElement.style.overflow = '';
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º viewport
                    const viewport = document.querySelector('meta[name=viewport]');
                    if (viewport) {
                        viewport.content = 'width=device-width, initial-scale=1.0';
                    }
                }
                
                // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –µ—Å–ª–∏ –æ–Ω–æ –∏–≥—Ä–∞–µ—Ç
                const video = screamer.querySelector('video');
                if (video) {
                    video.pause();
                    video.currentTime = 0;
                    video.src = ''; // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å—ã
                }
                
                document.body.removeChild(screamer);
                console.log('üîö –°–∫—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω');
            }
        }
        
        // üñºÔ∏è –§–û–¢–û –°–ö–†–ò–ú–ï–† –ë–ï–ó –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ì–û –ß–Å–†–ù–û–ì–û –§–û–ù–ê
        function showFallbackImageScreamer(screamer, isMobile) {
            console.log('üñºÔ∏è –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä glist.png...');
            
            screamer.innerHTML = '';
            
            const glistImage = document.createElement('img');
            glistImage.src = 'glist.png'; // –§–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä
            
            glistImage.style.cssText = `
                position: absolute;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                object-fit: ${isMobile ? 'contain' : 'cover'};
                object-position: center;
                z-index: 1000000;
                animation: glistShake 0.1s infinite;
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            `;
            
            // –ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å
            glistImage.onload = () => {
                console.log('‚úÖ –§–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä glist.png –∑–∞–≥—Ä—É–∂–µ–Ω! –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω.');
                
                screamer.appendChild(glistImage);
                
                // üì± –ê–î–ê–ü–¢–ê–¶–ò–Ø –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–•
                if (isMobile) {
                    // –û—Ç–∫–ª—é—á–∞–µ–º —Å–∫—Ä–æ–ª–ª –Ω–∞ –≤—Ä–µ–º—è —Å–∫—Ä–∏–º–µ—Ä–∞
                    document.body.style.overflow = 'hidden';
                    document.documentElement.style.overflow = 'hidden';
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∑—É–º –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
                    const viewport = document.querySelector('meta[name=viewport]');
                    if (viewport) {
                        viewport.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no';
                    }
                    
                    console.log('üì± –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
                }
                
                console.log('üñºÔ∏è –§–æ—Ç–æ —Å–∫—Ä–∏–º–µ—Ä glist.png —É—Å–ø–µ—à–Ω–æ –æ—Ç–æ–±—Ä–∞–∂—ë–Ω!');
            };
            
            // –ï—Å–ª–∏ —Ñ–æ—Ç–æ —Ç–æ–∂–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π fallback
            glistImage.onerror = () => {
                console.log('‚ùå –§–æ—Ç–æ glist.png –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–º–µ—Ä');
                showFallbackScreamerText(screamer, isMobile);
            };
        }
        
        // üì± –†–ï–ó–ï–†–í–ù–´–ô –¢–ï–ö–°–¢–û–í–´–ô –°–ö–†–ò–ú–ï–† (–µ—Å–ª–∏ –∏ PNG –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è)
        function showFallbackScreamerText(screamer, isMobile) {
            const textScreamer = document.createElement('div');
            textScreamer.id = 'text-screamer';
            textScreamer.style.cssText = `
                color: #ff0000;
                font-size: ${isMobile ? '12vw' : '15vw'};
                font-weight: bold;
                text-align: center;
                font-family: Arial, sans-serif;
                animation: glistShake 0.1s infinite;
                text-shadow: 0 0 50px #ff0000, 0 0 100px #ff0000, 0 0 150px #ff0000;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                background: rgba(0, 0, 0, 0.3);
                backdrop-filter: blur(2px);
            `;
            
            textScreamer.innerHTML = `
                <div style="line-height: 0.9;">üëª GLIST! üëª</div>
                <div style="
                    font-size: ${isMobile ? '6vw' : '8vw'}; 
                    color: #ffff00; 
                    margin-top: ${isMobile ? '15px' : '20px'}; 
                    text-shadow: 0 0 30px #ffff00, 0 0 60px #ffff00;
                    line-height: 1;
                ">
                    –ò–°–ü–£–ì–ê–õ–°–Ø?! üòà
                </div>
            `;
            
            screamer.appendChild(textScreamer);
            console.log('üì± –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–º–µ—Ä –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–ø–æ—Å–ª–µ–¥–Ω–∏–π fallback)');
        }



        // üîä –ó–í–£–ö –°–ö–†–ò–ú–ï–†–ê
        function playMaxVolumeScreamerSound() {
            console.log('üîä –ó–ê–ü–£–°–ö –ó–í–£–ö–ê –°–ö–†–ò–ú–ï–†–ê!');
            
            const screamAudio = new Audio();
            screamAudio.volume = 1.0;
            screamAudio.preload = 'auto';
            screamAudio.src = 'scream.mp3';
            
            const playPromise = screamAudio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    console.log('üîä scream.mp3 —É—Å–ø–µ—à–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!');
                }).catch(() => {
                    console.log('‚ùå scream.mp3 –Ω–µ –Ω–∞–π–¥–µ–Ω - —Å–∫—Ä–∏–º–µ—Ä –±–µ–∑ –∑–≤—É–∫–∞');
                });
            }
        }
        
        // üîä –ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ó–í–£–ö –°–ö–†–ò–ú–ï–†–ê
        function playGeneratedMaxScream() {
            console.log('üéµ –ó–ê–ü–£–°–ö –°–ò–ù–¢–ï–ó–ò–†–û–í–ê–ù–ù–û–ì–û –°–ö–†–ò–ú–ï–†–ê!');
            
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // üéµ –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ê –ê–£–î–ò–û –ö–û–ù–¢–ï–ö–°–¢–ê (–≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤)
                if (audioContext.state === 'suspended') {
                    audioContext.resume().then(() => {
                        console.log('üîì AudioContext —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!');
                        generateScreamSound(audioContext);
                    });
                } else {
                    generateScreamSound(audioContext);
                }
                
            } catch (e) {
                console.log('üîä –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è AudioContext:', e);
                
                // –†–µ–∑–µ—Ä–≤–Ω—ã–π –º–µ—Ç–æ–¥ - –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç
                tryFallbackAudio();
            }
        }
        
        // üéµ –§–£–ù–ö–¶–ò–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –ó–í–£–ö–ê
        function generateScreamSound(audioContext) {
            try {
                // üîä –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –û–°–¶–ò–õ–õ–Ø–¢–û–†–´ –î–õ–Ø –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ì–û –•–ê–û–°–ê
                const oscillators = [];
                const masterGain = audioContext.createGain();
                masterGain.connect(audioContext.destination);
                
                // –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ì–†–û–ú–ö–û–°–¢–¨!
                masterGain.gain.setValueAtTime(1.0, audioContext.currentTime);
                
                // –°–æ–∑–¥–∞—ë–º 5 –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —á–∞—Å—Ç–æ—Ç–∞–º–∏ –¥–ª—è –∂—É—Ç–∫–æ–≥–æ –∑–≤—É–∫–∞
                const frequencies = [150, 300, 450, 600, 800];
                const waveTypes = ['sawtooth', 'square', 'triangle', 'sine', 'sawtooth'];
                
                frequencies.forEach((baseFreq, i) => {
                    const osc = audioContext.createOscillator();
                    const oscGain = audioContext.createGain();
                    
                    osc.connect(oscGain);
                    oscGain.connect(masterGain);
                    
                    // –•–∞–æ—Ç–∏—á–Ω—ã–µ —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è —Å—Ç—Ä–∞—à–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
                    const startFreq = baseFreq + (Math.random() * 100);
                    const midFreq = baseFreq * 2 + (Math.random() * 200);
                    const endFreq = baseFreq * 0.5 + (Math.random() * 50);
                    
                    osc.frequency.setValueAtTime(startFreq, audioContext.currentTime);
                    osc.frequency.exponentialRampToValueAtTime(midFreq, audioContext.currentTime + 0.3);
                    osc.frequency.exponentialRampToValueAtTime(endFreq, audioContext.currentTime + 0.8);
                    osc.frequency.exponentialRampToValueAtTime(startFreq * 1.5, audioContext.currentTime + 1.5);
                    
                    // –ì—Ä–æ–º–∫–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –æ—Å—Ü–∏–ª–ª—è—Ç–æ—Ä–∞
                    oscGain.gain.setValueAtTime(0.3, audioContext.currentTime);
                    oscGain.gain.exponentialRampToValueAtTime(0.6, audioContext.currentTime + 0.2);
                    oscGain.gain.exponentialRampToValueAtTime(0.1, audioContext.currentTime + 1.5);
                    oscGain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 2);
                    
                    osc.type = waveTypes[i];
                    osc.start();
                    osc.stop(audioContext.currentTime + 2);
                    
                    oscillators.push(osc);
                });
                
                // üì± –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∏–∑–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö (–æ–Ω–∏ –ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞—é—Ç –Ω–∏–∑—ã)
                const bassOsc = audioContext.createOscillator();
                const bassGain = audioContext.createGain();
                
                bassOsc.connect(bassGain);
                bassGain.connect(masterGain);
                
                bassOsc.frequency.setValueAtTime(50, audioContext.currentTime);
                bassOsc.frequency.exponentialRampToValueAtTime(80, audioContext.currentTime + 0.5);
                bassOsc.frequency.exponentialRampToValueAtTime(30, audioContext.currentTime + 1);
                
                bassGain.gain.setValueAtTime(0.4, audioContext.currentTime);
                bassGain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 1.5);
                
                bassOsc.type = 'sine';
                bassOsc.start();
                bassOsc.stop(audioContext.currentTime + 1.5);
                
                console.log('üîä –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–´–ô –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ó–í–£–ö –°–ö–†–ò–ú–ï–†–ê –ó–ê–ü–£–©–ï–ù!');
                
            } catch (e) {
                console.log('üîä –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–≤—É–∫–∞:', e);
            }
        }
        
        // üîä –§–£–ù–ö–¶–ò–Ø –†–ï–ó–ï–†–í–ù–û–ì–û –ê–£–î–ò–û
        function tryFallbackAudio() {
            try {
                // –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–∑–µ—Ä–≤ - —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫ –±—Ä–∞—É–∑–µ—Ä–∞
                try {
                    // –°–æ–∑–¥–∞—ë–º –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª
                    const audioElement = document.createElement('audio');
                    audioElement.volume = 1.0;
                    audioElement.autoplay = true;
                    
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º data URL –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–≤—É–∫–∞
                    const soundData = 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEFl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEGl31ydJj8q2ApBTiR1+TGcSEHPIXL8NiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LGcSEG';
                    audioElement.src = soundData;
                    
                    console.log('üîä –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–≤—É–∫');
                } catch (e2) {
                    console.log('üîä –í—Å–µ –∑–≤—É–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–º–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å');
                }
            } catch (mainError) {
                console.log('üîä –ü–æ–ª–Ω–∞—è –æ—à–∏–±–∫–∞ fallback –∞—É–¥–∏–æ:', mainError);
            }
        }

        // üîí –ë–õ–û–ö–ò–†–û–í–ö–ê –í–°–ï–• –°–ü–û–°–û–ë–û–í –ó–ê–ö–†–´–¢–¨ –†–£–õ–ï–¢–ö–£
        let escapeBlocker = null;
        
        function blockRouletteEscape() {
            // –ë–ª–æ–∫–∏—Ä—É–µ–º ESC –∏ –¥—Ä—É–≥–∏–µ –∫–ª–∞–≤–∏—à–∏
            escapeBlocker = function(e) {
                if (rouletteProtection && currentItem === null) {
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º ESC, Enter, Space, –∏ –¥—Ä—É–≥–∏–µ –∫–ª–∞–≤–∏—à–∏ –∑–∞–∫—Ä—ã—Ç–∏—è
                    if (e.key === 'Escape' || e.key === 'Enter' || e.key === ' ' || e.key === 'Backspace') {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('üö´ –ö–ª–∞–≤–∏—à–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞! –ñ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä—É–ª–µ—Ç–∫–∏!');
                        showBlockedMessage();
                        return false;
                    }
                }
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—à–∞—Ç–µ–ª—å –∫–ª–∞–≤–∏—à
            document.addEventListener('keydown', escapeBlocker, true);
            document.addEventListener('keyup', escapeBlocker, true);
            
            console.log('üîí –í—Å–µ —Å–ø–æ—Å–æ–±—ã –≤—ã—Ö–æ–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!');
        }
        
        function unblockRouletteEscape() {
            // –£–±–∏—Ä–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–ª–∞–≤–∏—à
            if (escapeBlocker) {
                document.removeEventListener('keydown', escapeBlocker, true);
                document.removeEventListener('keyup', escapeBlocker, true);
                escapeBlocker = null;
            }
            
            console.log('üîì –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–Ω—è—Ç–∞, –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å —Ä—É–ª–µ—Ç–∫—É');
        }
        
        function showMisclickWarning() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –º–∏—Å–∫–ª–∏–∫–µ –ø—Ä–∏ –≤—ã–ø–∞–≤—à–µ–º –¥—Ä–æ–ø–µ
            const existingMessage = document.getElementById('misclick-warning-message');
            if (existingMessage) return; // –£–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ
            
            const message = document.createElement('div');
            message.id = 'misclick-warning-message';
            message.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(255, 152, 0, 0.95);
                color: white;
                padding: 15px 25px;
                border-radius: 12px;
                font-weight: bold;
                z-index: 10005;
                animation: warningShake 0.6s ease-in-out;
                border: 3px solid #fff;
                text-align: center;
                max-width: 90vw;
                box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            `;
            
            message.innerHTML = `
                ‚ö†Ô∏è <strong>–í–´–ë–ï–†–ò–¢–ï –î–ï–ô–°–¢–í–ò–ï!</strong><br>
                <span style="font-size: 14px;">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ "–û—Å—Ç–∞–≤–∏—Ç—å" –∏–ª–∏ "–ü—Ä–æ–¥–∞—Ç—å"</span>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ç—Ä—è—Å–∫–∏
            if (!document.getElementById('warning-shake-style')) {
                const style = document.createElement('style');
                style.id = 'warning-shake-style';
                style.textContent = `
                    @keyframes warningShake {
                        0%, 100% { transform: translateX(-50%) rotate(0deg); }
                        10% { transform: translateX(-50%) rotate(-2deg); }
                        20% { transform: translateX(-50%) rotate(2deg); }
                        30% { transform: translateX(-50%) rotate(-2deg); }
                        40% { transform: translateX(-50%) rotate(2deg); }
                        50% { transform: translateX(-50%) rotate(-2deg); }
                        60% { transform: translateX(-50%) rotate(2deg); }
                        70% { transform: translateX(-50%) rotate(-2deg); }
                        80% { transform: translateX(-50%) rotate(2deg); }
                        90% { transform: translateX(-50%) rotate(-2deg); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(message);
            
            // –£–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (document.body.contains(message)) {
                    document.body.removeChild(message);
                }
            }, 3000);
        }
        
        function showBlockedMessage() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä–æ—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
            const existingMessage = document.getElementById('roulette-blocked-message');
            if (existingMessage) return; // –£–∂–µ –ø–æ–∫–∞–∑–∞–Ω–æ
            
            const message = document.createElement('div');
            message.id = 'roulette-blocked-message';
            message.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(231, 76, 60, 0.9);
                color: white;
                padding: 10px 20px;
                border-radius: 10px;
                font-weight: bold;
                z-index: 10005;
                animation: blockPulse 0.5s ease-in-out;
                border: 2px solid #fff;
            `;
            
            message.textContent = 'üîí –†—É–ª–µ—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞! –ñ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø—É–ª—å—Å–∞—Ü–∏–∏
            if (!document.getElementById('block-pulse-style')) {
                const style = document.createElement('style');
                style.id = 'block-pulse-style';
                style.textContent = `
                    @keyframes blockPulse {
                        0% { transform: translateX(-50%) scale(0.8); opacity: 0; }
                        50% { transform: translateX(-50%) scale(1.1); opacity: 1; }
                        100% { transform: translateX(-50%) scale(1); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(message);
            
            // –£–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if (document.body.contains(message)) {
                    document.body.removeChild(message);
                }
            }, 2000);
        }
        
        // üèõÔ∏è –§–£–ù–ö–¶–ò–ò –ì–û–°–î–û–õ–ì–ê
        
        function takeDebt() {
            if (socialRating <= 10) {
                showDebtMessage('üö´ –ß–Å–†–ù–´–ô –°–ü–ò–°–û–ö! –†–µ–π—Ç–∏–Ω–≥ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π! –ì–æ—Å–¥–æ–ª–≥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!', 'error');
                return;
            }
            
            if (hasDebt) {
                showDebtMessage('–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –≥–æ—Å–¥–æ–ª–≥!', 'warning');
                return;
            }
            
            if (isBlocked) {
                showDebtMessage('–°–Ω–∞—á–∞–ª–∞ –ø–æ–≥–∞—Å–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–æ–ª–≥!', 'error');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å—É–º–º—ã –¥–æ–ª–≥–∞
            showDebtSelectionMenu();
        }
        
        // üí∞ –§–£–ù–ö–¶–ò–Ø –†–ê–°–ß–Å–¢–ê –ü–†–û–¶–ï–ù–¢–û–í –ü–û –†–ï–ô–¢–ò–ù–ì–£
        function calculateDebtInterest(rating) {
            if (rating >= 70) return 0;      // –ë–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
            if (rating >= 65) return 5;      // +5%
            if (rating >= 60) return 10;     // +10%
            if (rating >= 55) return 15;     // +15%
            if (rating >= 50) return 20;     // +20%
            if (rating >= 45) return 25;     // +25%
            if (rating >= 40) return 30;     // +30%
            if (rating >= 35) return 35;     // +35%
            if (rating >= 11) return 40;     // +40% (–º–∞–∫—Å–∏–º—É–º)
            return 0; // –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ - –¥–æ–ª–≥ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
        }
        
        // üí∞ –§–£–ù–ö–¶–ò–Ø –†–ê–°–ß–Å–¢–ê –ö–û–õ–ò–ß–ï–°–¢–í–ê –ö–ï–ô–°–û–í –î–õ–Ø –î–û–õ–ì–ê
        function calculateCasesForDebt(amount) {
            const interestRate = calculateDebtInterest(socialRating);
            const baseReturn = amount * 2;
            const interestAmount = Math.floor(baseReturn * interestRate / 100);
            const returnAmount = baseReturn + interestAmount;
            
            // –°—á–∏—Ç–∞–µ–º —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥ —Å –∫–µ–π—Å–∞ –ø—Ä–∏–º–µ—Ä–Ω–æ 50-100 ÍôÆ
            // –° —É—á—ë—Ç–æ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ–∫—É–ø–∞ 50/50 –∏ —Å—Ä–µ–¥–Ω–∏—Ö —Ü–µ–Ω –∫–µ–π—Å–æ–≤
            
            let casesNeeded;
            if (amount <= 500) {
                casesNeeded = Math.ceil(returnAmount / 80); // ~12-13 –∫–µ–π—Å–æ–≤
            } else if (amount <= 1000) {
                casesNeeded = Math.ceil(returnAmount / 85); // ~23-24 –∫–µ–π—Å–∞
            } else if (amount <= 5000) {
                casesNeeded = Math.ceil(returnAmount / 90); // ~111 –∫–µ–π—Å–æ–≤
            } else if (amount <= 10000) {
                casesNeeded = Math.ceil(returnAmount / 95); // ~210 –∫–µ–π—Å–æ–≤
            } else {
                casesNeeded = Math.ceil(returnAmount / 100); // ~400 –∫–µ–π—Å–æ–≤ –¥–ª—è –º–∞–∫—Å–∏–º—É–º–∞
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º—É–º 30 –∫–µ–π—Å–∞–º–∏ –∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª
            casesNeeded = Math.min(casesNeeded, 30);
            
            // –ú–∏–Ω–∏–º—É–º 5 –∫–µ–π—Å–æ–≤ –¥–ª—è –ª—é–±–æ–≥–æ –¥–æ–ª–≥–∞
            casesNeeded = Math.max(casesNeeded, 5);
            
            return casesNeeded;
        }

        function showDebtSelectionMenu() {
            const selectionModal = document.createElement('div');
            selectionModal.id = 'debt-selection-modal';
            selectionModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.8);
                z-index: 10005;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
            const isMobile = window.innerWidth <= 768;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞
            const currentInterest = calculateDebtInterest(socialRating);
            
            selectionModal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #2c3e50, #34495e);
                    border: 3px solid #e74c3c;
                    border-radius: ${isMobile ? '15px' : '20px'};
                    padding: ${isMobile ? '25px 20px' : '30px'};
                    text-align: center;
                    max-width: ${isMobile ? '340px' : '520px'};
                    width: ${isMobile ? '90vw' : 'auto'};
                    box-shadow: 0 10px 30px rgba(0,0,0,0.7);
                ">
                    <h2 style="color: #e74c3c; font-size: ${isMobile ? '18px' : '22px'}; margin-bottom: ${isMobile ? '15px' : '20px'};">üí∞ –í–´–ë–û–† –°–£–ú–ú–´ –ì–û–°–î–û–õ–ì–ê üí∞</h2>
                    <div style="
                        background: rgba(255,255,255,0.1);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '10px' : '12px'};
                        margin-bottom: ${isMobile ? '15px' : '20px'};
                        border: 1px solid rgba(255,255,255,0.3);
                    ">
                        <div style="color: #fff; font-size: ${isMobile ? '14px' : '16px'}; margin-bottom: 5px;">
                            üìä –í–∞—à —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥: <strong style="color: ${socialRating >= 70 ? '#27ae60' : socialRating >= 50 ? '#f39c12' : '#e74c3c'};">${socialRating}</strong>
                        </div>
                        <div style="color: ${currentInterest === 0 ? '#27ae60' : currentInterest <= 20 ? '#f39c12' : '#e74c3c'}; font-size: ${isMobile ? '12px' : '14px'}; font-weight: bold;">
                            ${currentInterest === 0 ? '‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç: 0% (–≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è)' : 
                              currentInterest <= 20 ? `‚ö†Ô∏è –ü—Ä–æ—Ü–µ–Ω—Ç: +${currentInterest}% (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞)` : 
                              `üö´ –ü—Ä–æ—Ü–µ–Ω—Ç: +${currentInterest}% (–∫–∞–±–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è)`}
                        </div>
                    </div>
                    <p style="color: #fff; font-size: ${isMobile ? '13px' : '15px'}; margin-bottom: ${isMobile ? '20px' : '25px'}; line-height: 1.4;">
                        –í—ã–±–µ—Ä–∏—Ç–µ —Å—É–º–º—É –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –≤–∑—è—Ç—å –≤ –¥–æ–ª–≥ —É –°–ü–û.<br>
                        <strong style="color: #ff6b6b;">‚ö†Ô∏è –ö –≤–æ–∑–≤—Ä–∞—Ç—É: —Å—É–º–º–∞ √ó 2 ${currentInterest > 0 ? `+ ${currentInterest}% –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤` : ''}!</strong><br>
                        <span style="color: #ffd700; font-size: ${isMobile ? '11px' : '13px'};">üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–µ–π—Å–æ–≤ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</span>
                    </p>
                    <div style="
                        display: grid;
                        grid-template-columns: ${isMobile ? 'repeat(2, 1fr)' : 'repeat(3, 1fr)'};
                        gap: ${isMobile ? '8px' : '12px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                    ">
                        ${generateDebtButtons(currentInterest, isMobile)}
                    </div>
                    <button onclick="closeDebtSelectionMenu()" style="
                        background: #95a5a6;
                        color: white;
                        border: none;
                        padding: ${isMobile ? '12px 25px' : '15px 30px'};
                        border-radius: ${isMobile ? '10px' : '12px'};
                        font-size: ${isMobile ? '14px' : '16px'};
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        ${isMobile ? 'width: 100%; max-width: 200px;' : ''}
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        ‚ùå –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            `;
            
            document.body.appendChild(selectionModal);
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
            selectionModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeDebtSelectionMenu();
                }
            });
        }
        
        function generateDebtButtons(currentInterest, isMobile) {
            const amounts = [500, 1000, 2500, 5000, 10000, 20000];
            
            return amounts.map(amount => {
                const baseReturn = amount * 2;
                const interestAmount = Math.floor(baseReturn * currentInterest / 100);
                const returnAmount = baseReturn + interestAmount;
                const casesNeeded = calculateCasesForDebt(amount);
                
                const buttonColor = amount <= 1000 ? '#27ae60' : amount <= 5000 ? '#f39c12' : '#e74c3c';
                
                return `
                    <button onclick="confirmDebt(${amount}, ${returnAmount}, ${casesNeeded})" style="
                        background: linear-gradient(145deg, ${buttonColor}, ${buttonColor}CC);
                        color: white;
                        border: none;
                        padding: ${isMobile ? '12px 8px' : '15px 12px'};
                        border-radius: ${isMobile ? '8px' : '10px'};
                        font-size: ${isMobile ? '12px' : '14px'};
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        text-align: center;
                        line-height: 1.2;
                        border: 2px solid rgba(255,255,255,0.3);
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        üí∞ ${amount} ÍôÆ<br>
                        <span style="font-size: ${isMobile ? '10px' : '11px'}; color: #ffeb3b;">
                            –ö –≤–æ–∑–≤—Ä–∞—Ç—É: ${returnAmount} ÍôÆ
                        </span><br>
                        <span style="font-size: ${isMobile ? '9px' : '10px'}; color: #fff;">
                            –ö–µ–π—Å–æ–≤: ${casesNeeded}
                        </span>
                    </button>
                `;
            }).join('');
        }
        
        function confirmDebt(amount, returnAmount, casesNeeded) {
            const confirmation = confirm(`üí∞ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ì–û–°–î–û–õ–ì–ê\n\n–í–∑—è—Ç—å: ${amount} ÍôÆ\n–ö –≤–æ–∑–≤—Ä–∞—Ç—É: ${returnAmount} ÍôÆ\n–ö–µ–π—Å–æ–≤ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è: ${casesNeeded}\n\n‚ö†Ô∏è –î–æ–ª–≥ —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ ${casesNeeded} –∫–µ–π—Å–æ–≤!\n\n–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ?`);
            
            if (confirmation) {
                // –î–∞—ë–º –¥–µ–Ω—å–≥–∏
                balance += amount;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–æ–ª–≥
                hasDebt = true;
                debtCasesLeft = casesNeeded;
                debtAmount = returnAmount;
                
                // –°–Ω–∏–∂–∞–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥
                const oldRating = socialRating;
                socialRating = Math.max(10, socialRating - 5); // –ú–∏–Ω–∏–º—É–º 10
                const ratingLoss = oldRating - socialRating;
                
                updateBalance();
                updateDebtStatus();
                saveGameData();
                closeDebtSelectionMenu();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –≤–∑—è—Ç–∏–∏ –¥–æ–ª–≥–∞
                showDebtMessage(`‚úÖ –ì–æ—Å–¥–æ–ª–≥ –æ—Ñ–æ—Ä–º–ª–µ–Ω!\nüí∞ –ü–æ–ª—É—á–µ–Ω–æ: +${amount} ÍôÆ\nüìâ –†–µ–π—Ç–∏–Ω–≥: -${ratingLoss} (${socialRating})\n‚è≥ –ö–µ–π—Å–æ–≤ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è: ${casesNeeded}`, 'success');
                
                console.log(`üí∞ –ì–æ—Å–¥–æ–ª–≥ –≤–∑—è—Ç: +${amount} ÍôÆ, –∫ –≤–æ–∑–≤—Ä–∞—Ç—É ${returnAmount} ÍôÆ —á–µ—Ä–µ–∑ ${casesNeeded} –∫–µ–π—Å–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥ —Å–Ω–∏–∂–µ–Ω –Ω–∞ ${ratingLoss}`);
            }
        }
        
        // üìâ –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –ì–û–°–î–û–õ–ì–ê –ü–û–°–õ–ï –û–¢–ö–†–´–¢–ò–Ø –ö–ï–ô–°–ê
        function checkDebtOnCaseOpen() {
            if (!hasDebt) return; // –ù–µ—Ç –¥–æ–ª–≥–∞
            
            debtCasesLeft--;
            console.log(`üìâ –ì–æ—Å–¥–æ–ª–≥: –æ—Å—Ç–∞–ª–æ—Å—å –∫–µ–π—Å–æ–≤ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è: ${debtCasesLeft}`);
            
            updateDebtStatus();
            saveGameData();
            
            // –ï—Å–ª–∏ –∫–µ–π—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å - —Å–ø–∏—Å—ã–≤–∞–µ–º –¥–æ–ª–≥
            if (debtCasesLeft <= 0) {
                console.log(`üí∞ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–µ–π—Å–æ–≤ –∏—Å—á–µ—Ä–ø–∞–Ω–æ! –ü–æ–ø—ã—Ç–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è –≥–æ—Å–¥–æ–ª–≥–∞ ${debtAmount} ÍôÆ...`);
                
                if (balance >= debtAmount) {
                    // –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ - —Å–ø–∏—Å—ã–≤–∞–µ–º
                    balance -= debtAmount;
                    const paidAmount = debtAmount;
                    
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥
                    const oldRating = socialRating;
                    socialRating = Math.min(100, socialRating + 10);
                    const ratingGain = socialRating - oldRating;
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ–ª–≥
                    hasDebt = false;
                    debtCasesLeft = 0;
                    debtAmount = 500;
                    
                    updateBalance();
                    updateDebtStatus();
                    saveGameData();
                    
                    showDebtMessage(`‚úÖ –ì–æ—Å–¥–æ–ª–≥ –ø–æ–≥–∞—à–µ–Ω!\nüí∞ –°–ø–∏—Å–∞–Ω–æ: ${paidAmount} ÍôÆ\nüìà –†–µ–π—Ç–∏–Ω–≥: +${ratingGain} (${socialRating})`, 'success');
                    
                    console.log(`‚úÖ –ì–æ—Å–¥–æ–ª–≥ —É—Å–ø–µ—à–Ω–æ –ø–æ–≥–∞—à–µ–Ω: -${paidAmount} ÍôÆ, —Ä–µ–π—Ç–∏–Ω–≥ +${ratingGain}`);
                } else {
                    // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ - –ë–õ–û–ö–ò–†–û–í–ö–ê!
                    console.log(`üö® –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í –î–õ–Ø –ü–û–ì–ê–®–ï–ù–ò–Ø –ì–û–°–î–û–õ–ì–ê! –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø!`);
                    
                    isBlocked = true;
                    hasDebt = false; // –î–æ–ª–≥ "—Å–ø–∏—Å–∞–Ω" –Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–æ—Å—Ç—É–ø
                    debtCasesLeft = 0;
                    
                    // –°–∏–ª—å–Ω–æ –ø–æ—Ä—Ç–∏–º —Ä–µ–π—Ç–∏–Ω–≥
                    const oldRating = socialRating;
                    socialRating = Math.max(1, socialRating - 25); // –°–∏–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ
                    const ratingLoss = oldRating - socialRating;
                    
                    updateDebtStatus();
                    showBlockBanner();
                    saveGameData();
                    
                    showDebtMessage(`üö® –î–û–õ–ì –ù–ï –ü–û–ì–ê–®–ï–ù!\nüí∏ –ù–µ —Ö–≤–∞—Ç–∏–ª–æ: ${debtAmount - balance} ÍôÆ\nüìâ –†–µ–π—Ç–∏–Ω–≥: -${ratingLoss} (${socialRating})\nüö´ –î–û–°–¢–£–ü –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù!`, 'error');
                    
                    console.log(`üö® –ì–æ—Å–¥–æ–ª–≥ –Ω–µ –ø–æ–≥–∞—à–µ–Ω! –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞, —Ä–µ–π—Ç–∏–Ω–≥ —É–ø–∞–ª –Ω–∞ ${ratingLoss}`);
                }
            } else if (debtCasesLeft <= 3) {
                // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–∫–æ—Ä–æ–º —Å–ø–∏—Å–∞–Ω–∏–∏
                showDebtMessage(`‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï!\n–û—Å—Ç–∞–ª–æ—Å—å –∫–µ–π—Å–æ–≤ –¥–æ —Å–ø–∏—Å–∞–Ω–∏—è: ${debtCasesLeft}\n–ö –≤–æ–∑–≤—Ä–∞—Ç—É: ${debtAmount} ÍôÆ`, 'warning');
            }
        }
        
        // üîÑ –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–Ø–ù–ò–Ø
        function repent() {
            if (!isBlocked) {
                showDebtMessage('–í—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!', 'info');
                return;
            }
            
            const repentModal = document.createElement('div');
            repentModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.8);
                z-index: 10006;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            const isMobile = window.innerWidth <= 768;
            
            repentModal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #8e44ad, #9b59b6);
                    border: 3px solid #ffd700;
                    border-radius: ${isMobile ? '15px' : '20px'};
                    padding: ${isMobile ? '25px 20px' : '30px'};
                    text-align: center;
                    max-width: ${isMobile ? '340px' : '500px'};
                    width: ${isMobile ? '90vw' : 'auto'};
                    box-shadow: 0 10px 30px rgba(0,0,0,0.8);
                    animation: repentGlow 2s ease-in-out infinite;
                ">
                    <h2 style="color: #ffd700; font-size: ${isMobile ? '20px' : '24px'}; margin-bottom: ${isMobile ? '15px' : '20px'}; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">üôè –ü–û–ö–ê–Ø–ù–ò–ï üôè</h2>
                    <div style="
                        background: rgba(255,255,255,0.1);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '15px' : '20px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                        border: 1px solid rgba(255,255,255,0.3);
                    ">
                        <p style="color: #fff; font-size: ${isMobile ? '14px' : '16px'}; margin-bottom: 15px; line-height: 1.4;">
                            –°–ü–û –≥–æ—Ç–æ–≤–æ –ø—Ä–æ—Å—Ç–∏—Ç—å –≤–∞—à–∏ –¥–æ–ª–≥–∏ –≤ –æ–±–º–µ–Ω –Ω–∞ –∏—Å–∫—Ä–µ–Ω–Ω–µ–µ –ø–æ–∫–∞—è–Ω–∏–µ.
                        </p>
                        <div style="
                            background: rgba(255,215,0,0.2);
                            border-radius: 8px;
                            padding: 12px;
                            margin-bottom: 15px;
                            border: 1px solid rgba(255,215,0,0.4);
                        ">
                            <div style="color: #ffd700; font-size: ${isMobile ? '13px' : '15px'}; font-weight: bold; margin-bottom: 8px;">
                                üìã –£–°–õ–û–í–ò–Ø –ü–û–ö–ê–Ø–ù–ò–Ø:
                            </div>
                            <div style="color: #fff; font-size: ${isMobile ? '12px' : '14px'}; line-height: 1.3;">
                                ‚úÖ –ü–æ–ª–Ω–æ–µ –ø—Ä–æ—â–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ–ª–≥–æ–≤<br>
                                ‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–µ–π—Å–∞–º<br>
                                ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –¥–æ 75<br>
                                ‚ö†Ô∏è –°–±—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞ –¥–æ 100 ÍôÆ<br>
                                ‚ö†Ô∏è –ö–æ–Ω—Ñ–∏—Å–∫–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
                            </div>
                        </div>
                        <div style="
                            background: rgba(231,76,60,0.2);
                            border-radius: 8px;
                            padding: 10px;
                            border: 1px solid rgba(231,76,60,0.4);
                        ">
                            <p style="color: #ff6b6b; font-size: ${isMobile ? '11px' : '12px'}; margin: 0; font-style: italic; line-height: 1.3;">
                                "–ü–æ–∫–∞—è–Ω–∏–µ - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ—â–µ–Ω–∏—é.<br>
                                –°–ü–û –º–∏–ª–æ—Å–µ—Ä–¥–Ω–æ –∫ —Ä–∞—Å–∫–∞—è–≤—à–∏–º—Å—è –¥–æ–ª–∂–Ω–∏–∫–∞–º."<br>
                                <span style="color: #ffd700;">- –°—Ç–∞—Ç—å—è 666 –£–ö –°–ü–û</span>
                            </p>
                        </div>
                    </div>
                    <div style="display: flex; gap: ${isMobile ? '10px' : '15px'}; justify-content: center; ${isMobile ? 'flex-direction: column;' : ''}">
                        <button onclick="executeRepentance()" style="
                            background: linear-gradient(145deg, #27ae60, #229954);
                            color: white;
                            border: none;
                            padding: ${isMobile ? '15px 25px' : '15px 30px'};
                            border-radius: ${isMobile ? '10px' : '12px'};
                            font-size: ${isMobile ? '14px' : '16px'};
                            font-weight: bold;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            ${isMobile ? 'width: 100%;' : ''}
                        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            üôè –ü–û–ö–ê–Ø–¢–¨–°–Ø
                        </button>
                        <button onclick="closeRepentModal()" style="
                            background: linear-gradient(145deg, #e74c3c, #c0392b);
                            color: white;
                            border: none;
                            padding: ${isMobile ? '15px 25px' : '15px 30px'};
                            border-radius: ${isMobile ? '10px' : '12px'};
                            font-size: ${isMobile ? '14px' : '16px'};
                            font-weight: bold;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            ${isMobile ? 'width: 100%;' : ''}
                        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            üò§ –û–¢–ö–ê–ó–ê–¢–¨–°–Ø
                        </button>
                    </div>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–≤–µ—á–µ–Ω–∏—è
            if (!document.getElementById('repent-glow-style')) {
                const style = document.createElement('style');
                style.id = 'repent-glow-style';
                style.textContent = `
                    @keyframes repentGlow {
                        0%, 100% { 
                            box-shadow: 0 10px 30px rgba(0,0,0,0.8), 0 0 20px rgba(255,215,0,0.3);
                        }
                        50% { 
                            box-shadow: 0 15px 40px rgba(0,0,0,1), 0 0 40px rgba(255,215,0,0.6);
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(repentModal);
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
            window.executeRepentance = function() {
                // –ü–û–ö–ê–Ø–ù–ò–ï: —Å–ø–∏—Å—ã–≤–∞–µ–º –≤—Å–µ –¥–æ–ª–≥–∏ –Ω–æ –æ–±–Ω—É–ª—è–µ–º –±–æ–≥–∞—Ç—Å—Ç–≤–æ
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ–ª–≥–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É
                isBlocked = false;
                hasDebt = false;
                debtCasesLeft = 0;
                debtAmount = 500;
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–π—Ç–∏–Ω–≥ –¥–æ 75 (—Ö–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å)
                socialRating = 75;
                
                // –ñ–Å–°–¢–ö–ò–ï –£–°–õ–û–í–ò–Ø –ü–û–ö–ê–Ø–ù–ò–Ø
                balance = 100; // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ 100 ÍôÆ
                inventory = [{ name: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç', image: 'dropcase1_1', rarity: 'common', value: 10 }]; // –ö–æ–Ω—Ñ–∏—Å–∫—É–µ–º –≤–µ—Å—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                
                updateBalance();
                updateInventory();
                updateDebtStatus();
                hideBlockBanner();
                saveGameData();
                
                closeRepentModal();
                
                showDebtMessage(`üôè –ü–û–ö–ê–Ø–ù–ò–ï –ü–†–ò–ù–Ø–¢–û!\n‚úÖ –í—Å–µ –¥–æ–ª–≥–∏ –ø—Ä–æ—â–µ–Ω—ã\n‚úÖ –î–æ—Å—Ç—É–ø –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω\nüìà –†–µ–π—Ç–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–æ 75\n‚ö†Ô∏è –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –∫–æ–Ω—Ñ–∏—Å–∫–æ–≤–∞–Ω\nüí∞ –ë–∞–ª–∞–Ω—Å —Å–±—Ä–æ—à–µ–Ω –¥–æ 100 ÍôÆ`, 'success');
                
                console.log('üôè –ü–æ–∫–∞—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: –¥–æ–ª–≥–∏ –ø—Ä–æ—â–µ–Ω—ã, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∫–æ–Ω—Ñ–∏—Å–∫–æ–≤–∞–Ω, –±–∞–ª–∞–Ω—Å —Å–±—Ä–æ—à–µ–Ω, —Ä–µ–π—Ç–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–æ 75');
            };
            
            window.closeRepentModal = function() {
                document.body.removeChild(repentModal);
                showDebtMessage('üò§ –ü–æ–∫–∞—è–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Å–∏–ª–µ.', 'warning');
            };
        }
        
        // üèõÔ∏è –§–£–ù–ö–¶–ò–ò –û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–¢–ê–¢–£–°–ê –î–û–õ–ì–ê
        function updateDebtStatus() {
            const debtButton = document.getElementById('debtButton');
            const debtStatus = document.getElementById('debtStatus');
            
            if (isBlocked) {
                // –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù
                debtButton.style.display = 'none';
                debtStatus.style.display = 'block';
                debtStatus.innerHTML = `
                    üö´ <strong style="color: #e74c3c;">–ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù</strong><br>
                    <span style="color: #fff;">–†–µ–π—Ç–∏–Ω–≥: ${socialRating}</span>
                `;
            } else if (hasDebt) {
                // –ï–°–¢–¨ –ê–ö–¢–ò–í–ù–´–ô –î–û–õ–ì
                debtButton.style.display = 'none';
                debtStatus.style.display = 'block';
                debtStatus.innerHTML = `
                    üí∏ –î–æ–ª–≥: <strong style="color: #e74c3c;">${debtAmount} ÍôÆ</strong><br>
                    ‚è≥ –ö–µ–π—Å–æ–≤: <strong style="color: #f39c12;">${debtCasesLeft}</strong><br>
                    üìä –†–µ–π—Ç–∏–Ω–≥: <strong style="color: ${socialRating >= 70 ? '#27ae60' : socialRating >= 50 ? '#f39c12' : '#e74c3c'};">${socialRating}</strong>
                `;
            } else {
                // –î–û–õ–ì–ê –ù–ï–¢ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤–∑—è—Ç–∏—è –¥–æ–ª–≥–∞
                debtButton.style.display = 'block';
                debtStatus.style.display = 'none';
                
                // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–π—Ç–∏–Ω–≥–∞
                if (socialRating <= 10) {
                    debtButton.textContent = 'üö´ –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫';
                    debtButton.style.background = 'linear-gradient(145deg, #95a5a6, #7f8c8d)';
                    debtButton.style.cursor = 'not-allowed';
                } else {
                    debtButton.textContent = 'üí∞ –í–∑—è—Ç—å –≥–æ—Å–¥–æ–ª–≥';
                    debtButton.style.background = 'linear-gradient(145deg, #e74c3c, #c0392b)';
                    debtButton.style.cursor = 'pointer';
                }
            }
        }
        
        function showDebtMessage(message, type) {
            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'linear-gradient(135deg, #27ae60, #229954)' : 
                            type === 'warning' ? 'linear-gradient(135deg, #f39c12, #d68910)' : 
                            type === 'error' ? 'linear-gradient(135deg, #e74c3c, #c0392b)' : 
                            'linear-gradient(135deg, #3498db, #2980b9)'};
                color: white;
                padding: 15px 20px;
                border-radius: 12px;
                font-weight: bold;
                z-index: 10008;
                max-width: 300px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.4);
                border: 2px solid rgba(255,255,255,0.3);
                animation: debtMessageSlide 0.5s ease-out;
                font-size: 14px;
                line-height: 1.3;
                white-space: pre-line;
            `;
            
            messageEl.textContent = message;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—è–≤–ª–µ–Ω–∏—è
            if (!document.getElementById('debt-message-style')) {
                const style = document.createElement('style');
                style.id = 'debt-message-style';
                style.textContent = `
                    @keyframes debtMessageSlide {
                        0% { 
                            transform: translateX(100%);
                            opacity: 0;
                        }
                        100% { 
                            transform: translateX(0);
                            opacity: 1;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(messageEl);
            
            // –£–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (document.body.contains(messageEl)) {
                    messageEl.style.animation = 'debtMessageSlide 0.5s ease-out reverse';
                    setTimeout(() => {
                        if (document.body.contains(messageEl)) {
                            document.body.removeChild(messageEl);
                        }
                    }, 500);
                }
            }, 5000);
        }
        
        // üö´ –§–£–ù–ö–¶–ò–ò –ë–ê–ù–ù–ï–†–ê –ë–õ–û–ö–ò–†–û–í–ö–ò
        function showBlockBanner() {
            const blockBanner = document.getElementById('blockBanner');
            const blockMessage = document.getElementById('blockMessage');
            const repentButton = document.getElementById('repentButton');
            
            blockBanner.style.display = 'block';
            blockMessage.innerHTML = `
                –í–∞—à –¥–æ—Å—Ç—É–ø –∫ –∫–µ–π—Å–∞–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∑–∞ –Ω–µ—É–ø–ª–∞—Ç—É –≥–æ—Å–¥–æ–ª–≥–∞!<br>
                <strong style="color: #ffeb3b;">–°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥: ${socialRating}</strong><br>
                –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ - –ø–æ–∫–∞—è–Ω–∏–µ.
            `;
            repentButton.style.display = 'block';
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∫–µ–π—Å—ã –≤–∏–∑—É–∞–ª—å–Ω–æ
            document.querySelectorAll('.case').forEach(caseEl => {
                caseEl.style.opacity = '0.3';
                caseEl.style.pointerEvents = 'none';
            });
        }
        
        function hideBlockBanner() {
            const blockBanner = document.getElementById('blockBanner');
            blockBanner.style.display = 'none';
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∫–µ–π—Å—ã –≤–∏–∑—É–∞–ª—å–Ω–æ
            document.querySelectorAll('.case').forEach(caseEl => {
                caseEl.style.opacity = '1';
                caseEl.style.pointerEvents = 'auto';
            });
        }

        // üí∞ –§–£–ù–ö–¶–ò–Ø –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –ü–û–ö–ê–ó–ê –ü–û–î–°–ö–ê–ó–ö–ò –û –ë–ê–õ–ê–ù–°–ï 0
        let pendingBonusHint = false; // –§–ª–∞–≥ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
        
        function checkZeroBalance() {
            // –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å –ù–ï —Ä–∞–≤–µ–Ω 0 - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
            if (balance !== 0) {
                if (pendingBonusHint) {
                    pendingBonusHint = false;
                    saveGameData();
                    console.log('üí° –ë–∞–ª–∞–Ω—Å –Ω–µ 0 - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏');
                }
                return;
            }
            
            // –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å 0 –ò –ø–æ–¥—Å–∫–∞–∑–∫–∞ –µ—â—ë –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å –ò —Ä—É–ª–µ—Ç–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞
            if (balance === 0 && !bonusHintShown && !rouletteProtection) {
                console.log('üí° –ë–∞–ª–∞–Ω—Å = 0, –ø–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–∞, —Ä—É–ª–µ—Ç–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É');
                showBonusHint();
            } else if (balance === 0 && !bonusHintShown && rouletteProtection) {
                // –ï—Å–ª–∏ —Ä—É–ª–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º –ø–æ–∫–∞–∑
                pendingBonusHint = true;
                saveGameData();
                console.log('üí° –ë–∞–ª–∞–Ω—Å = 0, –Ω–æ —Ä—É–ª–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É');
            }
        }
        
        // üí° –§–£–ù–ö–¶–ò–Ø –ü–†–û–í–ï–†–ö–ò –û–¢–õ–û–ñ–ï–ù–ù–û–ô –ü–û–î–°–ö–ê–ó–ö–ò
        function checkPendingBonusHint() {
            if (pendingBonusHint && balance === 0 && !bonusHintShown && !rouletteProtection) {
                console.log('üí° –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º!');
                pendingBonusHint = false;
                saveGameData();
                showBonusHint();
            }
        }
        
        // üí° –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –ü–û–î–°–ö–ê–ó–ö–ò –û –ü–†–û–ú–û–ö–û–î–ï BONUS
        function showBonusHint() {
            if (bonusHintShown) return; // –£–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å
            
            const bonusModal = document.createElement('div');
            bonusModal.id = 'bonus-modal';
            bonusModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.8);
                z-index: 10007;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                padding: 20px;
                box-sizing: border-box;
            `;
            
            const isMobile = window.innerWidth <= 768;
            
            bonusModal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #f39c12, #d68910);
                    border: 3px solid #fff;
                    border-radius: ${isMobile ? '15px' : '20px'};
                    padding: ${isMobile ? '25px 20px' : '30px'};
                    text-align: center;
                    max-width: ${isMobile ? '320px' : '400px'};
                    width: ${isMobile ? '90vw' : 'auto'};
                    box-shadow: 0 10px 30px rgba(0,0,0,0.8);
                    animation: bonusGlow 2s ease-in-out infinite;
                ">
                    <h2 style="color: #fff; font-size: ${isMobile ? '20px' : '24px'}; margin-bottom: ${isMobile ? '15px' : '20px'}; text-shadow: 2px 2px 4px rgba(0,0,0,0.7);">üí° –ü–û–î–°–ö–ê–ó–ö–ê üí°</h2>
                    <div style="
                        background: rgba(255,255,255,0.2);
                        border-radius: ${isMobile ? '8px' : '10px'};
                        padding: ${isMobile ? '15px' : '20px'};
                        margin-bottom: ${isMobile ? '20px' : '25px'};
                        border: 1px solid rgba(255,255,255,0.4);
                    ">
                        <p style="color: #fff; font-size: ${isMobile ? '16px' : '18px'}; margin-bottom: 15px; line-height: 1.4;">
                            –£ –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –¥–µ–Ω—å–≥–∏! üò¢
                        </p>
                        <div style="
                            background: linear-gradient(145deg, #27ae60, #229954);
                            border-radius: 8px;
                            padding: 12px;
                            margin-bottom: 15px;
                        ">
                            <div style="color: #fff; font-size: ${isMobile ? '14px' : '16px'}; font-weight: bold; margin-bottom: 8px;">
                                üéÅ –°–ï–ö–†–ï–¢–ù–´–ô –ü–†–û–ú–û–ö–û–î:
                            </div>
                            <div style="
                                background: rgba(255,255,255,0.3);
                                border-radius: 6px;
                                padding: 8px;
                                font-family: monospace;
                                font-size: ${isMobile ? '18px' : '20px'};
                                font-weight: bold;
                                color: #fff;
                                letter-spacing: 2px;
                                text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
                            ">
                                BONUS
                            </div>
                        </div>
                        <p style="color: #fff; font-size: ${isMobile ? '13px' : '15px'}; margin: 0; line-height: 1.3;">
                            –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å (–∫–ª–∏–∫ –ø–æ –∞–≤–∞—Ç–∞—Ä—É) –∏ –≤–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞! üéâ
                        </p>
                    </div>
                    <button onclick="closeBonusModal()" style="
                        background: #fff;
                        color: #f39c12;
                        border: none;
                        padding: ${isMobile ? '12px 25px' : '15px 30px'};
                        border-radius: ${isMobile ? '10px' : '12px'};
                        font-size: ${isMobile ? '16px' : '18px'};
                        font-weight: bold;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        box-shadow: 0 3px 10px rgba(0,0,0,0.3);
                        ${isMobile ? 'width: 100%; max-width: 200px;' : ''}
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        üëç –ü–æ–Ω—è—Ç–Ω–æ!
                    </button>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Å–≤–µ—á–µ–Ω–∏—è
            if (!document.getElementById('bonus-glow-style')) {
                const style = document.createElement('style');
                style.id = 'bonus-glow-style';
                style.textContent = `
                    @keyframes bonusGlow {
                        0%, 100% { 
                            box-shadow: 0 10px 30px rgba(0,0,0,0.8), 0 0 20px rgba(243,156,18,0.4);
                        }
                        50% { 
                            box-shadow: 0 15px 40px rgba(0,0,0,1), 0 0 40px rgba(243,156,18,0.7);
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(bonusModal);
            
            console.log('üí° –ü–æ–∫–∞–∑–∞–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –æ –ø—Ä–æ–º–æ–∫–æ–¥–µ BONUS');
        }

        // WingList functionality
        let winglistItems = [];

        function addToWinglist(item) {
            // Add timestamp for sorting
            const winglistItem = {
                ...item,
                timestamp: Date.now()
            };
            
            winglistItems.unshift(winglistItem); // Add to beginning
            
            // Limit to 15 items
            if (winglistItems.length > 15) {
                winglistItems = winglistItems.slice(0, 15);
            }
            
            updateWinglist();
            saveGameData(); // Save when adding to winglist
            
            console.log(`üéØ –î–æ–±–∞–≤–ª–µ–Ω –≤ Winglist: ${item.name} (${item.value} ÍôÆ)`);
        }

        function updateWinglist() {
            const winglistContainer = document.getElementById('winglist-items');
            
            if (winglistItems.length === 0) {
                winglistContainer.innerHTML = '<div class="winglist-item">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>';
                document.getElementById('winglist-toggle').style.display = 'none';
                return;
            }
            
            // Show only first 3 items initially
            const visibleItems = winglistItems.slice(0, 3);
            const hiddenItems = winglistItems.slice(3);
            
            winglistContainer.innerHTML = '';
            
            // Add visible items
            visibleItems.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.className = 'winglist-item';
                
                const timeAgo = getTimeAgo(item.timestamp);
                
                // üé® –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ü–µ–Ω—É –∫–µ–π—Å–∞ –¥–ª—è –¥—Ä–æ–ø–∞
                const dropColor = getDropValueColor(item, item.casePrice || 200);
                
                itemEl.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="
                            width: 25px; 
                            height: 25px; 
                            background: ${dropColor}; 
                            border-radius: 4px; 
                            display: flex; 
                            align-items: center; 
                            justify-content: center; 
                            font-size: 12px;
                            flex-shrink: 0;
                            border: 1px solid rgba(255,255,255,0.3);
                            box-shadow: 0 0 5px ${dropColor}40;
                        ">üì¶</div>
                        <div style="flex-grow: 1; min-width: 0;">
                            <div style="font-size: 11px; color: white; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                ${item.name}
                            </div>
                            <div style="font-size: 9px; color: #ffd700; font-weight: bold;">
                                ${item.value} ÍôÆ
                            </div>
                        </div>
                        <div style="font-size: 8px; color: #95a5a6; text-align: right; line-height: 1.2; flex-shrink: 0;">
                            ${timeAgo}
                        </div>
                    </div>
                `;
                winglistContainer.appendChild(itemEl);
            });
            
            // Add hidden items
            hiddenItems.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.className = 'winglist-item hidden';
                
                const timeAgo = getTimeAgo(item.timestamp);
                
                // üé® –ò–°–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ü–µ–Ω—É –∫–µ–π—Å–∞ –¥–ª—è –¥—Ä–æ–ø–∞
                const dropColor = getDropValueColor(item, item.casePrice || 200);
                
                itemEl.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="
                            width: 25px; 
                            height: 25px; 
                            background: ${dropColor}; 
                            border-radius: 4px; 
                            display: flex; 
                            align-items: center; 
                            justify-content: center; 
                            font-size: 12px;
                            flex-shrink: 0;
                            border: 1px solid rgba(255,255,255,0.3);
                            box-shadow: 0 0 5px ${dropColor}40;
                        ">üì¶</div>
                        <div style="flex-grow: 1; min-width: 0;">
                            <div style="font-size: 11px; color: white; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                ${item.name}
                            </div>
                            <div style="font-size: 9px; color: #ffd700; font-weight: bold;">
                                ${item.value} ÍôÆ
                            </div>
                        </div>
                        <div style="font-size: 8px; color: #95a5a6; text-align: right; line-height: 1.2; flex-shrink: 0;">
                            ${timeAgo}
                        </div>
                    </div>
                `;
                winglistContainer.appendChild(itemEl);
            });
            
            // Show/hide toggle button
            const toggleButton = document.getElementById('winglist-toggle');
            if (hiddenItems.length > 0) {
                toggleButton.style.display = 'block';
                toggleButton.textContent = `–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ (${winglistItems.length}) ‚ñº`;
            } else {
                toggleButton.style.display = 'none';
            }
        }

        function getTimeAgo(timestamp) {
            const now = Date.now();
            const diff = now - timestamp;
            const minutes = Math.floor(diff / 60000);
            const hours = Math.floor(diff / 3600000);
            
            if (minutes < 1) return '—Å–µ–π—á–∞—Å';
            if (minutes < 60) return `${minutes}–º`;
            if (hours < 24) return `${hours}—á`;
            return `${Math.floor(hours / 24)}–¥`;
        }

        function toggleWinglist() {
            const winglistItems = document.getElementById('winglist-items');
            const toggleButton = document.getElementById('winglist-toggle');
            const hiddenItems = winglistItems.querySelectorAll('.winglist-item.hidden');
            
            if (winglistItems.classList.contains('expanded')) {
                // Collapse
                winglistItems.classList.remove('expanded');
                hiddenItems.forEach(item => item.style.display = 'none');
                toggleButton.textContent = `–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ (${document.querySelectorAll('.winglist-item').length}) ‚ñº`;
            } else {
                // Expand
                winglistItems.classList.add('expanded');
                hiddenItems.forEach(item => item.style.display = 'block');
                toggleButton.textContent = '–°–∫—Ä—ã—Ç—å ‚ñ≤';
            }
        }

        // Countdown timer - –û–ë–ù–£–õ–Ø–ï–¢–°–Ø –ü–†–ò –ö–ê–ñ–î–û–ô –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ï
        function startCountdown() {
            const countdownElement = document.getElementById('countdownTimer');
            
            // –í–°–ï–ì–î–ê –ù–ê–ß–ò–ù–ê–ï–ú –° –ù–û–í–û–ì–û –°–õ–£–ß–ê–ô–ù–û–ì–û –í–†–ï–ú–ï–ù–ò –ü–†–ò –ö–ê–ñ–î–û–ô –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ï!
            let totalSeconds = Math.floor(Math.random() * (6 * 3600 - 2 * 3600)) + 2 * 3600;
            console.log(`‚è∞ –¢–∞–π–º–µ—Ä —Å–±—Ä–æ—à–µ–Ω! –ù–æ–≤–æ–µ –≤—Ä–µ–º—è: ${Math.floor(totalSeconds/3600)}—á ${Math.floor((totalSeconds%3600)/60)}–º ${totalSeconds%60}—Å`);
            
            function updateCountdown() {
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                const seconds = totalSeconds % 60;
                
                const display = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                countdownElement.textContent = display;
                
                totalSeconds--;
                
                if (totalSeconds < 0) {
                    // Reset to random time when reaches 0
                    totalSeconds = Math.floor(Math.random() * (6 * 3600 - 2 * 3600)) + 2 * 3600;
                    console.log(`‚è∞ –¢–∞–π–º–µ—Ä –¥–æ—Å—Ç–∏–≥ 0! –ù–æ–≤–æ–µ –≤—Ä–µ–º—è: ${Math.floor(totalSeconds/3600)}—á ${Math.floor((totalSeconds%3600)/60)}–º ${totalSeconds%60}—Å`);
                }
            }
            
            // Update immediately and then every second
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Case image loading - –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –° –ê–ù–ò–ú–ê–¶–ò–ï–ô
        const caseImages = {
            1: { closed: 'case1_closed.png', open: 'case1_open.png' },
            2: { closed: 'case2_closed.png', open: 'case2_open.png' },
            3: { closed: 'case3_closed.png', open: 'case3_open.png' },
            4: { closed: 'case4_closed.png', open: 'case4_open.png' },
            5: { closed: 'case5_closed.png', open: 'case5_open.png' },
            6: { closed: 'case6_closed.png', open: 'case6_open.png' },
            7: { closed: 'case7_closed.png', open: 'case7_open.png' },
            8: { closed: 'case8_closed.png', open: 'case8_open.png' },
            9: { closed: 'case9_closed.png', open: 'case9_open.png' },
            10: { closed: 'case10_closed.png', open: 'case10_open.png' },
            11: { closed: 'case11_closed.png', open: 'case11_open.png' },
            12: { closed: 'case12_closed.png', open: 'case12_open.png' },
            13: { closed: 'case13_closed.png', open: 'case13_open.png' },
            14: { closed: 'case14_closed.png', open: 'case14_open.png' },
            15: { closed: 'case15_closed.png', open: 'case15_open.png' },
            16: { closed: 'case16_closed.png', open: 'case16_open.png' },
            17: { closed: 'case17_closed.png', open: 'case17_open.png' },
            18: { closed: 'case18_closed.png', open: 'case18_open.png' },
            19: { closed: 'case19_closed.png', open: 'case19_open.png' },
            20: { closed: 'case20_closed.png', open: 'case20_open.png' }
        };

        function loadCaseImages() {
            console.log('üñºÔ∏è –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–µ–π—Å–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π...');
            
            document.querySelectorAll('[data-case-num]').forEach(caseImageEl => {
                const caseNum = parseInt(caseImageEl.dataset.caseNum);
                const imageData = caseImages[caseNum];
                
                console.log(`üñºÔ∏è –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–µ–π—Å ${caseNum}:`, imageData);
                
                if (imageData && imageData.closed) {
                    // –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –æ–±–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    const closedImg = new Image();
                    const openImg = new Image();
                    
                    let loadedCount = 0;
                    
                    function checkBothLoaded() {
                        loadedCount++;
                        if (loadedCount === 2) {
                            console.log(`‚úÖ –ö–µ–π—Å ${caseNum} –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω (closed + open)`);
                            setupCaseImageAnimation(caseImageEl, imageData.closed, imageData.open);
                        }
                    }
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–∫—Ä—ã—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    closedImg.onload = () => {
                        console.log(`‚úÖ –ö–µ–π—Å ${caseNum} closed –∑–∞–≥—Ä—É–∂–µ–Ω: ${imageData.closed}`);
                        // –°—Ä–∞–∑—É —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–∫—Ä—ã—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        caseImageEl.style.backgroundImage = `url('${imageData.closed}')`;
                        caseImageEl.style.backgroundSize = 'cover';
                        caseImageEl.style.backgroundPosition = 'center';
                        caseImageEl.style.transition = 'background-image 0.3s ease';
                        caseImageEl.textContent = '';
                        checkBothLoaded();
                    };
                    
                    closedImg.onerror = () => {
                        console.log(`‚ùå –ö–µ–π—Å ${caseNum} closed –ù–ï –Ω–∞–π–¥–µ–Ω: ${imageData.closed}`);
                        showCaseFallback(caseImageEl, caseNum);
                    };
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    openImg.onload = () => {
                        console.log(`‚úÖ –ö–µ–π—Å ${caseNum} open –∑–∞–≥—Ä—É–∂–µ–Ω: ${imageData.open}`);
                        checkBothLoaded();
                    };
                    
                    openImg.onerror = () => {
                        console.log(`‚ùå –ö–µ–π—Å ${caseNum} open –ù–ï –Ω–∞–π–¥–µ–Ω: ${imageData.open} - –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ closed`);
                        checkBothLoaded();
                    };
                    
                    closedImg.src = imageData.closed;
                    openImg.src = imageData.open;
                    
                } else {
                    console.log(`‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–µ–π—Å–∞ ${caseNum}`);
                    showCaseFallback(caseImageEl, caseNum);
                }
            });
        }
        
        function setupCaseImageAnimation(caseImageEl, closedImage, openImage) {
            const parentCase = caseImageEl.closest('.case');
            if (!parentCase) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –∫–µ–π—Å–∞
            parentCase.addEventListener('mouseenter', () => {
                caseImageEl.style.backgroundImage = `url('${openImage}')`;
                console.log(`üîÑ –ö–µ–π—Å –æ—Ç–∫—Ä—ã—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏: ${openImage}`);
            });
            
            parentCase.addEventListener('mouseleave', () => {
                caseImageEl.style.backgroundImage = `url('${closedImage}')`;
                console.log(`üîÑ –ö–µ–π—Å –∑–∞–∫—Ä—ã—Ç –ø—Ä–∏ —É—Ö–æ–¥–µ: ${closedImage}`);
            });
        }
        
        function showCaseFallback(caseImageEl, caseNum) {
            caseImageEl.style.backgroundImage = 'none';
            caseImageEl.style.background = 'linear-gradient(45deg, #3498db, #2980b9)';
            caseImageEl.textContent = 'üì¶';
            caseImageEl.style.fontSize = '40px';
            caseImageEl.style.display = 'flex';
            caseImageEl.style.alignItems = 'center';
            caseImageEl.style.justifyContent = 'center';
            console.log(`üì¶ –ü–æ–∫–∞–∑–∞–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –∫–µ–π—Å–∞ ${caseNum}`);
        }

        // üìä –î–û–ë–ê–í–õ–Ø–ï–ú –ü–û–î–°–ö–ê–ó–ö–ò –î–õ–Ø –ö–ï–ô–°–û–í –° –ü–†–û–¶–ï–ù–¢–ê–ú–ò
        function addCaseTooltips() {
            document.querySelectorAll('.case').forEach(caseEl => {
                const caseNum = parseInt(caseEl.dataset.case);
                const casePrice = parseInt(caseEl.dataset.price);
                const caseItems = items[caseNum];
                
                if (!caseItems) return;
                
                // –°–æ–∑–¥–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
                const tooltip = document.createElement('div');
                tooltip.className = 'case-tooltip';
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —à–∞–Ω—Å—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                let lossChance = 0, breakEvenChance = 0, profitChance = 0, jackpotChance = 0;
                
                caseItems.forEach(item => {
                    const dropType = getDropType(item, casePrice);
                    switch (dropType) {
                        case 'loss': lossChance += item.chance; break;
                        case 'breakeven': breakEvenChance += item.chance; break;
                        case 'profit': profitChance += item.chance; break;
                        case 'jackpot': jackpotChance += item.chance; break;
                    }
                });
                
                tooltip.innerHTML = `
                    <div style="font-weight: bold; margin-bottom: 5px; color: #ffd700;">üìä –®–ê–ù–°–´ –ù–ê –î–†–û–ü–´:</div>
                    <div style="color: #e74c3c;">üî¥ –£–±—ã—Ç–æ–∫: ${lossChance.toFixed(1)}%</div>
                    <div style="color: #f1c40f;">üü° –û–∫—É–ø: ${breakEvenChance.toFixed(1)}%</div>
                    <div style="color: #27ae60;">üü¢ –ü—Ä–∏–±—ã–ª—å: ${profitChance.toFixed(1)}%</div>
                    <div style="color: #8e44ad;">üíé –î–∂–µ–∫–ø–æ—Ç: ${jackpotChance.toFixed(1)}%</div>
                `;
                
                caseEl.appendChild(tooltip);
                caseEl.style.position = 'relative'; // –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏
            });
        }

        // Event listeners for cases
        function setupCaseEventListeners() {
            document.querySelectorAll('.case').forEach(caseEl => {
                const caseType = parseInt(caseEl.dataset.case);
                const price = parseInt(caseEl.dataset.price);
                
                // Left click - open case
                caseEl.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    if (!caseEl.classList.contains('disabled')) {
                        openCase(caseType, price);
                    }
                });
                
                // Right click - show drops (—Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)
                caseEl.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // –¢–æ–ª—å–∫–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (—à–∏—Ä–∏–Ω–∞ > 768px)
                    if (window.innerWidth > 768) {
                        showCaseDrops(caseType);
                    }
                });
                
                // Touch events for mobile (—É–¥–µ—Ä–∂–∞–Ω–∏–µ)
                let touchTimer;
                let touchStarted = false;
                
                caseEl.addEventListener('touchstart', (e) => {
                    touchStarted = true;
                    touchTimer = setTimeout(() => {
                        if (touchStarted) {
                            // –í–∏–±—Ä–∞—Ü–∏—è –µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
                            if (navigator.vibrate) {
                                navigator.vibrate(50);
                            }
                            showCaseDrops(caseType);
                        }
                    }, 500); // 500–º—Å —É–¥–µ—Ä–∂–∞–Ω–∏—è
                });
                
                caseEl.addEventListener('touchend', (e) => {
                    if (touchTimer) {
                        clearTimeout(touchTimer);
                    }
                    
                    // –ï—Å–ª–∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –±—ã–ª–æ –º–µ–Ω—å—à–µ 500–º—Å - –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å
                    if (touchStarted) {
                        setTimeout(() => {
                            if (!caseEl.classList.contains('disabled')) {
                                openCase(caseType, price);
                            }
                        }, 50);
                    }
                    
                    touchStarted = false;
                });
                
                caseEl.addEventListener('touchmove', () => {
                    touchStarted = false;
                    if (touchTimer) {
                        clearTimeout(touchTimer);
                    }
                });
                
                caseEl.addEventListener('touchcancel', () => {
                    touchStarted = false;
                    if (touchTimer) {
                        clearTimeout(touchTimer);
                    }
                });
            });
        }

        // üì± –û–ü–†–ï–î–ï–õ–Ø–ï–ú –ü–õ–ê–¢–§–û–†–ú–£ –ò –ü–û–ö–ê–ó–´–í–ê–ï–ú –°–û–û–¢–í–ï–¢–°–¢–í–£–Æ–©–£–Æ –ü–û–î–°–ö–ê–ó–ö–£
        function showPlatformSpecificHints() {
            const desktopHint = document.getElementById('desktop-hint');
            const mobileHint = document.getElementById('mobile-hint');
            
            if (window.innerWidth <= 768) {
                // –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
                desktopHint.style.display = 'none';
                mobileHint.style.display = 'block';
            } else {
                // –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è
                desktopHint.style.display = 'block';
                mobileHint.style.display = 'none';
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        window.addEventListener('resize', showPlatformSpecificHints);

        // Save/Load game data
        let bonusHintShown = false;
        let warningMessageShown = false; // –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –∑–¥–æ—Ä–æ–≤—å–µ
        
        function saveGameData() {
            const gameData = {
                balance,
                inventory,
                userNickname,
                userAvatar,
                usedPromocodes,
                winglistItems,
                bonusHintShown,
                warningMessageShown,
                devModeActive,
                bugWarningClosed,
                socialRating,
                hasDebt,
                debtCasesLeft,
                debtAmount,
                isBlocked,
                economyBalance,
                economyStreak,
                totalSpent,
                totalWon,
                recentDrops, // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥—Ä–æ–ø–æ–≤
                pendingBonusHint // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–ª–∞–≥ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
            };
            
            try {
                localStorage.setItem('caseGameData', JSON.stringify(gameData));
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
            } catch (e) {
                console.log('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', e);
            }
        }

        function loadGameData() {
            try {
                const savedData = localStorage.getItem('caseGameData');
                if (savedData) {
                    const gameData = JSON.parse(savedData);
                    
                    balance = gameData.balance || 1000;
                    inventory = gameData.inventory || [{ name: '–°—Ç–∞—Ä—Ç–æ–≤—ã–π –ø—Ä–µ–¥–º–µ—Ç', image: 'dropcase1_1', rarity: 'common', value: 10 }];
                    userNickname = gameData.userNickname || '–ò–≥—Ä–æ–∫';
                    userAvatar = gameData.userAvatar || null;
                    usedPromocodes = gameData.usedPromocodes || [];
                    winglistItems = gameData.winglistItems || [];
                    bonusHintShown = gameData.bonusHintShown || false;
                    warningMessageShown = gameData.warningMessageShown || false;
                    devModeActive = gameData.devModeActive || false;
                    bugWarningClosed = gameData.bugWarningClosed || false;
                    
                    // üèõÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Å–¥–æ–ª–≥–∞
                    socialRating = gameData.socialRating !== undefined ? gameData.socialRating : 100;
                    hasDebt = gameData.hasDebt || false;
                    debtCasesLeft = gameData.debtCasesLeft || 0;
                    debtAmount = gameData.debtAmount || 500;
                    isBlocked = gameData.isBlocked || false;
                    
                    // üé≤ –ó–∞–≥—Ä—É–∑–∫–∞ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
                    economyBalance = gameData.economyBalance || 0;
                    economyStreak = gameData.economyStreak || 0;
                    totalSpent = gameData.totalSpent || 0;
                    totalWon = gameData.totalWon || 0;
                    
                    // üö´ –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥—Ä–æ–ø–æ–≤
                    recentDrops = gameData.recentDrops || [];
                    
                    // üí° –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–ª–∞–≥–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏
                    pendingBonusHint = gameData.pendingBonusHint || false;
                    
                    console.log('üì¶ –î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', {
                        balance,
                        inventorySize: inventory.length,
                        nickname: userNickname,
                        hasAvatar: !!userAvatar,
                        promocodes: usedPromocodes.length,
                        winglist: winglistItems.length,
                        bonusHintShown,
                        warningMessageShown,
                        devModeActive,
                        bugWarningClosed,
                        socialRating,
                        hasDebt,
                        debtCasesLeft,
                        debtAmount,
                        isBlocked,
                        economyBalance,
                        economyStreak,
                        recentDropsCount: recentDrops.length,
                        pendingBonusHint
                    });
                }
            } catch (e) {
                console.log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', e);
            }
        }

        // Initialize game when page loads
        window.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã...');
            
            loadGameData();
            
            // Update UI with loaded data
            updateBalance();
            updateInventory();
            updateWinglist();
            updateDebtStatus();
            
            // Set up user avatar if exists, otherwise load default
            if (userAvatar) {
                const profileAvatar = document.getElementById('profileAvatar');
                profileAvatar.style.backgroundImage = `url('${userAvatar}')`;
                profileAvatar.style.backgroundSize = 'cover';
                profileAvatar.style.backgroundPosition = 'center';
                profileAvatar.textContent = '';
                console.log('üë§ –ó–∞–≥—Ä—É–∂–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–≤–∞—Ç–∞—Ä');
            } else {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–≤–∞—Ç–∞—Ä –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ
                loadDefaultAvatar();
            }
            
            // Load case images
            loadCaseImages();
            
            // Add case tooltips
            addCaseTooltips();
            
            // Setup event listeners
            setupCaseEventListeners();
            
            // Start countdown timer
            startCountdown();
            
            // üì± –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
            showPlatformSpecificHints();
            
            // üõ†Ô∏è –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –µ—Å–ª–∏ —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–µ–Ω
            if (devModeActive) {
                document.getElementById('dev-mode-banner').style.display = 'block';
                console.log('üõ†Ô∏è –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
            }
            
            // üö´ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–∞–≥–∞—Ö –µ—Å–ª–∏ –Ω–µ –∑–∞–∫—Ä—ã—Ç–æ (–ò–°–ü–†–ê–í–õ–ï–ù–û)
            console.log('üö´ –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–Ω–Ω–µ—Ä –±–∞–≥–æ–≤:', { bugWarningClosed });
            if (!bugWarningClosed) {
                const bugBanner = document.getElementById('bug-warning-banner');
                if (bugBanner) {
                    bugBanner.style.display = 'block';
                    console.log('üö´ –ë–∞–Ω–Ω–µ—Ä –æ –±–∞–≥–∞—Ö –ø–æ–∫–∞–∑–∞–Ω');
                } else {
                    console.log('‚ùå –≠–ª–µ–º–µ–Ω—Ç bug-warning-banner –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                }
            } else {
                const bugBanner = document.getElementById('bug-warning-banner');
                if (bugBanner) {
                    bugBanner.style.display = 'none';
                    console.log('üö´ –ë–∞–Ω–Ω–µ—Ä –æ –±–∞–≥–∞—Ö —Å–∫—Ä—ã—Ç (—É–∂–µ –∑–∞–∫—Ä—ã–≤–∞–ª—Å—è)');
                }
            }
            
            // üö´ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–Ω–Ω–µ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –µ—Å–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
            if (isBlocked) {
                showBlockBanner();
            }
            
            // ‚ö†Ô∏è –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∑–¥–æ—Ä–æ–≤—å–µ –µ—Å–ª–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å
            if (!warningMessageShown) {
                setTimeout(() => {
                    showHealthWarning();
                }, 2000); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
            }
            
            // üí° –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É BONUS –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å 0 –∏ –æ–Ω–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å
            setTimeout(() => {
                checkZeroBalance();
            }, 1000); // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
            
            console.log('‚úÖ –ò–≥—Ä–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
        });

        // üìä –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –¥—Ä–æ–ø–æ–≤
        function showNoDropsMessage() {
            document.getElementById('noDropsModal').classList.add('active');
        }
    </script>
</body>
</html>
